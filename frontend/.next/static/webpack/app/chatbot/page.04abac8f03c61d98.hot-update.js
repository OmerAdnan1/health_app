"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chatbot/page",{

/***/ "(app-pages-browser)/./app/chatbot/page.tsx":
/*!******************************!*\
  !*** ./app/chatbot/page.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatbotPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Header */ \"(app-pages-browser)/./components/Header.jsx\");\n/* harmony import */ var _components_Footer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Footer */ \"(app-pages-browser)/./components/Footer.jsx\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-x.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-2.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lightbulb.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Helper function to safely parse API responses\nconst parseJsonResponse = async (response)=>{\n    try {\n        const text = await response.text();\n        if (!response.ok) {\n            // If response is not OK (e.g., 400, 500), try to parse JSON for error messages\n            try {\n                const errorData = JSON.parse(text);\n                throw new Error(errorData.message || \"API error: \".concat(response.status, \" \").concat(response.statusText));\n            } catch (jsonError) {\n                // If text is not JSON or empty, throw generic error with status\n                throw new Error(\"API error: \".concat(response.status, \" \").concat(response.statusText).concat(text ? \": \".concat(text) : ''));\n            }\n        }\n        // If response is OK, try to parse JSON. If text is empty, return an empty object.\n        return text ? JSON.parse(text) : {};\n    } catch (error) {\n        console.error(\"Error parsing JSON response:\", error);\n        // Re-throw to be caught by the calling function (e.g., getDiagnosis, getParseResult)\n        throw error;\n    }\n};\nfunction ChatbotPage() {\n    var _currentQuestion_options, _questions_currentStep, _questions_currentStep1;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [userAge, setUserAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userSex, setUserSex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentInput, setCurrentInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSpeaking, setIsSpeaking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [diagnosisResult, setDiagnosisResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Raw JSON for debugging if needed\n    ;\n    const [evidence, setEvidence] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [interviewId, setInterviewId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currDiagnosisQuestions, setCurrDiagnosisQuestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Explicitly type\n    ;\n    const [currDiagnosisConditions, setCurrDiagnosisConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isDiagnosisComplete, setIsDiagnosisComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [tempGroupedSelections, setTempGroupedSelections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Initial fixed questions for the bot\n    const questions = [\n        {\n            id: \"age_input\",\n            question: \"Hi. Please tell me your age.\",\n            type: \"age\",\n            tips: [\n                \"Tell your exact age.\",\n                \"Units should be in years.\",\n                \"Do not tell an exaggerated age as it may lead to wrong diagnosis.\"\n            ]\n        },\n        {\n            id: \"sex_input\",\n            question: \"What is your gender?\",\n            type: \"select\",\n            options: [\n                \"male\",\n                \"female\",\n                \"other\"\n            ],\n            tips: [\n                \"Please specify your gender clearly.\",\n                \"If you prefer not to say, select 'other'.\",\n                \"This helps us provide better insights.\"\n            ]\n        },\n        {\n            id: \"symptoms\",\n            question: \"What symptoms are you experiencing? Please describe them in detail.\",\n            type: \"text\",\n            tips: [\n                \"Be specific about location, intensity, and duration.\",\n                \"Mention any triggers you've noticed.\",\n                \"Include associated symptoms.\"\n            ]\n        }\n    ];\n    // Initial bot message on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            if (messages.length === 0) {\n                setTimeout({\n                    \"ChatbotPage.useEffect\": ()=>{\n                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                        setTimeout({\n                            \"ChatbotPage.useEffect\": ()=>{\n                                addBotMessage(questions[0].question);\n                            }\n                        }[\"ChatbotPage.useEffect\"], 1500) // Give user a bit more time after intro\n                        ;\n                    }\n                }[\"ChatbotPage.useEffect\"], 500);\n            }\n        }\n    }[\"ChatbotPage.useEffect\"], []) // Empty dependency array means this runs once on mount\n    ;\n    // Auto-scroll to bottom on new messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatbotPage.useEffect\"], [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Generate unique ID for messages\n    const generateUniqueId = ()=>Date.now() + Math.random();\n    // Add bot message with typing indicator\n    const addBotMessage = (content)=>{\n        setIsTyping(true);\n        setTimeout(()=>{\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: generateUniqueId(),\n                        content,\n                        sender: \"bot\",\n                        timestamp: new Date()\n                    }\n                ]);\n            setIsTyping(false);\n        }, 1000) // Simulate typing delay\n        ;\n    };\n    // Add user message\n    const addUserMessage = (content)=>{\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: generateUniqueId(),\n                    content,\n                    sender: \"user\",\n                    timestamp: new Date()\n                }\n            ]);\n    };\n    // Handles confirmation for grouped_multiple questions\n    const handleGroupedMultipleConfirm = async ()=>{\n        setIsTyping(true);\n        addUserMessage(\"Confirmed selections.\"); // Acknowledge user's confirmation\n        // Construct new evidence from tempGroupedSelections\n        const newEvidenceToAdd = Object.entries(tempGroupedSelections).map((param)=>{\n            let [id, choice_id] = param;\n            return {\n                id,\n                choice_id\n            };\n        });\n        // Clear temporary selections\n        setTempGroupedSelections({});\n        // Update the main evidence state and then call diagnosis\n        setEvidence((prevEvidence)=>{\n            // Filter out any existing evidence for these items before adding new ones\n            const filteredPrevEvidence = prevEvidence.filter((item)=>!newEvidenceToAdd.some((newItem)=>newItem.id === item.id));\n            const combinedEvidence = [\n                ...filteredPrevEvidence,\n                ...newEvidenceToAdd\n            ];\n            // Call diagnosis with the combined evidence\n            setTimeout(async ()=>{\n                try {\n                    const nextDiagnosisResult = await getDiagnosis(combinedEvidence);\n                    if (!nextDiagnosisResult) {\n                        throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                    }\n                    if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                        throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                    }\n                    setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2));\n                    setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                    setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                    setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                    setIsTyping(false);\n                    if (nextDiagnosisResult.should_stop) {\n                        displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                    } else if (nextDiagnosisResult.question) {\n                        addBotMessage(nextDiagnosisResult.question);\n                    } else {\n                        addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                    }\n                } catch (error) {\n                    console.error(\"Error during grouped_multiple diagnosis confirmation:\", error);\n                    const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                    addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                    setIsTyping(false);\n                }\n            }, 1000); // Simulate processing time\n            return combinedEvidence; // Return the new state\n        });\n    };\n    // Main message handling logic\n    const handleSendMessage = async (input)=>{\n        const value = input !== undefined ? input : currentInput;\n        if (!value.trim()) return;\n        // Clear currentInput immediately for all types of responses\n        setCurrentInput(\"\");\n        // --- Handling Initial Fixed Questions (Age, Sex) ---\n        // This block runs if we are still within the 'questions' array flow AND NOT on the last question (symptoms)\n        if (currentStep < questions.length - 1) {\n            const currentQuestion = questions[currentStep];\n            // Add user message for these initial, user-typed/selected inputs\n            addUserMessage(value);\n            if (currentQuestion.id === \"age_input\") {\n                const age = parseInt(value, 10);\n                if (isNaN(age) || age <= 0 || age > 120) {\n                    addBotMessage(\"Please enter a valid age in years (e.g., 30).\");\n                    return;\n                }\n                setUserAge(age);\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            } else if (currentQuestion.id === \"sex_input\") {\n                const sex = value.toLowerCase();\n                if (![\n                    \"male\",\n                    \"female\",\n                    \"other\"\n                ].includes(sex)) {\n                    addBotMessage(\"Please select from 'male', 'female', or 'other'.\");\n                    return;\n                }\n                setUserSex(sex);\n                if (!interviewId) {\n                    setInterviewId((0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()); // Initialize interview ID\n                }\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            }\n        } else if (currentStep === questions.length - 1 && questions[currentStep].id === \"symptoms\") {\n            const currentQuestion = questions[currentStep];\n            // Add user message for symptoms description\n            addUserMessage(value);\n            if (value.length < 10) {\n                addBotMessage(\"Please provide a more detailed description of your symptoms (at least 10 characters).\");\n                return;\n            }\n            try {\n                addBotMessage(\"Thank you for sharing your symptoms. Please wait while I analyze them.\");\n                setIsTyping(true);\n                // Fetch parse result\n                const result = await getParseResult(value);\n                if (!result || !Array.isArray(result.mentions)) {\n                    throw new Error(\"Received an invalid response format for symptom analysis. Please try again.\");\n                }\n                console.log(\"Parse result:\", result);\n                const initialEvidence = result.mentions.map((mention)=>({\n                        id: mention.id,\n                        choice_id: mention.choice_id\n                    }));\n                // NEW CHECK HERE: If no symptoms were parsed\n                if (initialEvidence.length === 0) {\n                    addBotMessage(\"I couldn't identify any symptoms from your description. Could you please rephrase or provide more details? For example, 'I have a headache and a fever.'\");\n                    setIsTyping(false);\n                    return; // Stop here, don't call getDiagnosis\n                }\n                setEvidence(initialEvidence); // This updates the state, but we don't rely on it for the immediate API call\n                // Pass initialEvidence directly to getDiagnosis to avoid state update timing issues\n                const diagnosis = await getDiagnosis(initialEvidence);\n                if (!diagnosis) {\n                    throw new Error(\"No diagnosis data received from the API. The server might be busy or experienced an error.\");\n                }\n                // If diagnosis is not complete, it MUST provide a question\n                if (diagnosis.should_stop === false && !diagnosis.question) {\n                    throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                }\n                console.log(\"Initial diagnosis result:\", diagnosis);\n                setDiagnosisResult(JSON.stringify(diagnosis, null, 2)); // Store raw result for debugging\n                setCurrDiagnosisConditions(diagnosis.conditions || []);\n                setIsDiagnosisComplete(diagnosis.should_stop);\n                setCurrDiagnosisQuestions(diagnosis.question || null);\n                setIsTyping(false);\n                setCurrentStep(currentStep + 1);\n                if (diagnosis.should_stop) {\n                    displayFinalDiagnosis(diagnosis.conditions);\n                } else if (diagnosis.question) {\n                    addBotMessage(diagnosis.question); // Ask the first Infermedica question\n                } else {\n                    addBotMessage(\"The diagnosis process encountered an unexpected state. Please consult a healthcare professional.\");\n                }\n            } catch (error) {\n                console.error(\"Error during initial diagnosis process:\", error);\n                const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                setIsTyping(false);\n            }\n            return; // Exit after handling symptoms\n        }\n        // --- Handling Infermedica Diagnosis Questions ---\n        // This block runs when we are past the initial fixed questions AND\n        // there's an active diagnosis question from Infermedica AND it's not complete yet.\n        if (currDiagnosisQuestions && !isDiagnosisComplete) {\n            // For Infermedica choice buttons, the interaction is the answer, no need for addUserMessage\n            const parts = value.split(':');\n            if (parts.length === 2) {\n                const itemId = parts[0];\n                const choiceId = parts[1];\n                // Basic validation for choiceId\n                if (![\n                    \"present\",\n                    \"absent\",\n                    \"unknown\"\n                ].includes(choiceId)) {\n                    addBotMessage(\"Invalid answer. Please select one of the provided options.\");\n                    return;\n                }\n                // Fix 1: Differentiate between question types\n                // If it's a grouped_multiple, only update local state, don't call API here.\n                // For single or grouped_single questions, proceed with immediate API call\n                // Fix 2: Move API call logic outside of setEvidence functional update\n                const newEvidence = [\n                    ...evidence.filter((item)=>item.id !== itemId),\n                    {\n                        id: itemId,\n                        choice_id: choiceId\n                    }\n                ];\n                setEvidence(newEvidence); // Update state\n                setIsTyping(true);\n                setTimeout(async ()=>{\n                    try {\n                        const nextDiagnosisResult = await getDiagnosis(newEvidence); // Pass newEvidence here\n                        if (!nextDiagnosisResult) {\n                            throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                        }\n                        if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                            throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                        }\n                        setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2)); // Store raw result\n                        setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                        setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                        setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                        setIsTyping(false);\n                        if (nextDiagnosisResult.should_stop) {\n                            displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                        } else if (nextDiagnosisResult.question) {\n                            addBotMessage(nextDiagnosisResult.question);\n                        } else {\n                            addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                        }\n                    } catch (error) {\n                        console.error(\"Error during subsequent diagnosis:\", error);\n                        const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                        addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                        setIsTyping(false);\n                    }\n                }, 1000);\n            } else {\n                // This is a free-text input while Infermedica questions are active\n                addBotMessage(\"Please use the provided buttons to answer the health questions. Typing free-text is not supported during this phase.\");\n            }\n        } else if (isDiagnosisComplete) {\n            addBotMessage(\"The diagnosis is complete. Please click 'Start a New Diagnosis' if you wish to begin a new assessment. ðŸ”„\");\n        } else {\n            // This should not happen, but if it does, we handle it gracefully\n            addBotMessage(\"An unexpected state occurred. Please try again or refresh the page.\");\n        }\n    };\n    // Infermedica API calls\n    const getDiagnosis = async (currentEvidence)=>{\n        if (userAge === null || userSex === null || currentEvidence.length === 0) {\n            throw new Error(\"Diagnosis prerequisites (age, sex, or symptoms) are missing. Cannot proceed with diagnosis.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            evidence: currentEvidence,\n            interview_id: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            console.log(\"DEBUG: Sending payload to /diagnosis:\", JSON.stringify(payload, null, 2));\n            const res = await fetch(\"http://localhost:5000/api/infermedica/diagnosis\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /diagnosis failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    const getParseResult = async (responseString)=>{\n        if (userAge === null || userSex === null) {\n            throw new Error(\"Parsing prerequisites (age or sex) are missing. Cannot parse symptoms.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            text: responseString,\n            context: [],\n            include_tokens: true,\n            correct_spelling: true,\n            concept_types: [\n                \"symptom\"\n            ],\n            interviewId: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            const res = await fetch(\"http://localhost:5000/api/infermedica/parse\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /parse failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    // Displays the final diagnosis message\n    const displayFinalDiagnosis = (conditions)=>{\n        let finalMessage = \"Based on the information provided, here are the potential conditions:\\n\\n\";\n        if (conditions && conditions.length > 0) {\n            // Sort by probability and take top 3\n            conditions.sort((a, b)=>b.probability - a.probability);\n            conditions.slice(0, 3).forEach((condition)=>{\n                finalMessage += \"**\".concat(condition.name, \"**: \").concat((condition.probability * 100).toFixed(2), \"% probability.\\n\");\n            });\n            finalMessage += \"\\n\\n**Disclaimer**: This AI assistant provides insights based on the information you've shared and is not a substitute for professional medical advice. Always consult a qualified healthcare professional for an accurate diagnosis and treatment plan. Your health is important! ðŸ©º\";\n        } else {\n            finalMessage = \"Based on the information provided, I couldn't identify a specific condition at this time. It's important to remember that AI diagnosis is not a substitute for professional medical advice. Please consult a qualified healthcare professional for a complete diagnosis. Your well-being is our priority. ðŸ™\";\n        }\n        addBotMessage(finalMessage);\n    };\n    // Define currentQuestion here to make it accessible in JSX\n    const currentQuestion = questions[currentStep];\n    // Calculate progress for the initial fixed questions only\n    const progress = (currentStep + 1) / questions.length * 100;\n    // Text-to-Speech\n    const speakMessage = (text)=>{\n        if (\"speechSynthesis\" in window) {\n            const utterance = new SpeechSynthesisUtterance(text);\n            utterance.onstart = ()=>setIsSpeaking(true);\n            utterance.onend = ()=>setIsSpeaking(false);\n            speechSynthesis.speak(utterance);\n        } else {\n            console.warn(\"Speech synthesis not supported in this browser.\");\n        }\n    };\n    const stopSpeaking = ()=>{\n        if (\"speechSynthesis\" in window) {\n            speechSynthesis.cancel();\n            setIsSpeaking(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 533,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 pt-16 flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex flex-col\",\n                        children: [\n                            currentStep < questions.length && !isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                                            children: \"AI Health Assessment\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 544,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-600 dark:text-gray-400\",\n                                                            children: \"Powered by advanced machine learning\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 545,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 543,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-right\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-3xl font-bold text-blue-600 dark:text-blue-400\",\n                                                            children: [\n                                                                Math.round(progress),\n                                                                \"%\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 548,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                                            children: \"Complete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 549,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 547,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 542,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                                                    children: \"Assessment Progress\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 554,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                    children: [\n                                                        currentStep + 1,\n                                                        \" of \",\n                                                        questions.length\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 555,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 553,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500 relative overflow-hidden\",\n                                                style: {\n                                                    width: \"\".concat(progress, \"%\")\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute inset-0 bg-white/20 animate-pulse\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 565,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 561,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 560,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 541,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 540,\n                                columnNumber: 13\n                            }, this) : // Display a status message when in Infermedica diagnosis or diagnosis complete\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                        children: \"AI Health Assessment\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 573,\n                                        columnNumber: 17\n                                    }, this),\n                                    isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Diagnosis Complete! Review the results below. âœ…\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 575,\n                                        columnNumber: 21\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Continuing Diagnosis... Please answer the questions. \\uD83D\\uDD0D\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 577,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 572,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto space-y-6\",\n                                    children: [\n                                        messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat(message.sender === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start space-x-3 max-w-2xl \".concat(message.sender === \"user\" ? \"flex-row-reverse space-x-reverse\" : \"\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-lg \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600\" : \"bg-gradient-to-r from-green-500 to-blue-500\"),\n                                                            children: message.sender === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 598,\n                                                                columnNumber: 25\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 600,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 590,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"px-6 py-4 rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-200\" : \"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200\"),\n                                                            children: [\n                                                                typeof message.content === \"string\" ? // Render plain text message\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm leading-relaxed\",\n                                                                    children: message.content\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 613,\n                                                                    columnNumber: 25\n                                                                }, this) : // Render structured Infermedica question\n                                                                // Use an IIFE for proper type narrowing\n                                                                (()=>{\n                                                                    const questionContent = message.content;\n                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-sm font-semibold leading-relaxed mb-2\",\n                                                                                children: questionContent.text\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 622,\n                                                                                columnNumber: 37\n                                                                            }, this),\n                                                                            questionContent.items && questionContent.items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"space-y-3 mt-2\",\n                                                                                children: [\n                                                                                    questionContent.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"border-t border-gray-200 dark:border-gray-700 pt-3\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                    className: \"text-sm font-medium text-gray-800 dark:text-gray-200 mb-2\",\n                                                                                                    children: item.name\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                    lineNumber: 632,\n                                                                                                    columnNumber: 53\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: \"flex flex-wrap gap-2\",\n                                                                                                    children: item.choices.map((choice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                            // Fix 3: Update button onClick handlers to differentiate question types\n                                                                                                            onClick: ()=>{\n                                                                                                                if (questionContent.type === 'grouped_multiple') {\n                                                                                                                    // Only update local state - NO API call here\n                                                                                                                    setTempGroupedSelections((prev)=>({\n                                                                                                                            ...prev,\n                                                                                                                            [item.id]: choice.id\n                                                                                                                        }));\n                                                                                                                } else {\n                                                                                                                    // For single/grouped_single questions - immediate API call\n                                                                                                                    handleSendMessage(\"\".concat(item.id, \":\").concat(choice.id));\n                                                                                                                }\n                                                                                                            },\n                                                                                                            className: \"px-4 py-2 rounded-full text-xs font-medium transition-colors\\n                                                                            \".concat(questionContent.type === 'grouped_multiple' && tempGroupedSelections[item.id] === choice.id ? 'bg-blue-600 text-white dark:bg-blue-500' // Highlight selected for grouped_multiple\n                                                                                                             : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300', \"\\n                                                                            hover:bg-blue-500 hover:text-white dark:hover:bg-blue-600\"),\n                                                                                                            children: choice.label\n                                                                                                        }, choice.id, false, {\n                                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                            lineNumber: 638,\n                                                                                                            columnNumber: 61\n                                                                                                        }, this))\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                    lineNumber: 636,\n                                                                                                    columnNumber: 53\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, item.id, true, {\n                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                            lineNumber: 630,\n                                                                                            columnNumber: 49\n                                                                                        }, this)),\n                                                                                    questionContent.type === 'grouped_multiple' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"mt-4 text-center\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                            onClick: handleGroupedMultipleConfirm,\n                                                                                            disabled: Object.keys(tempGroupedSelections).length === 0,\n                                                                                            className: \"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                                                            children: \"Confirm Selections\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                            lineNumber: 669,\n                                                                                            columnNumber: 53\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                        lineNumber: 668,\n                                                                                        columnNumber: 49\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 628,\n                                                                                columnNumber: 41\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                        lineNumber: 620,\n                                                                        columnNumber: 33\n                                                                    }, this);\n                                                                })(),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between mt-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs \".concat(message.sender === \"user\" ? \"text-blue-100\" : \"text-gray-500 dark:text-gray-400\"),\n                                                                            children: message.timestamp.toLocaleTimeString([], {\n                                                                                hour: \"2-digit\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 687,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        message.sender === \"bot\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>isSpeaking ? stopSpeaking() : speakMessage(typeof message.content === \"string\" ? message.content : message.content.text),\n                                                                            className: \"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors\",\n                                                                            children: isSpeaking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 699,\n                                                                                columnNumber: 43\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 699,\n                                                                                columnNumber: 77\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 693,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 686,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 603,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 587,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, message.id, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 586,\n                                                columnNumber: 17\n                                            }, this)),\n                                        isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-start\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start space-x-3 max-w-2xl\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"h-5 w-5 text-white\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 712,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 711,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-6 py-4 rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex space-x-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-blue-500 rounded-full animate-bounce\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 716,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-green-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.1s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 717,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-purple-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.2s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 721,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 715,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 714,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 710,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 709,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 730,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 584,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 583,\n                                columnNumber: 11\n                            }, this),\n                            !currDiagnosisQuestions || isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        currentStep < questions.length && ((currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"text\" || (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex space-x-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 relative\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"number\" : \"text\",\n                                                        min: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? 0 : undefined,\n                                                        value: currentInput,\n                                                        onChange: (e)=>setCurrentInput(e.target.value),\n                                                        onKeyDown: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                                                        placeholder: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"Enter your age in years\" : \"Type your response...\",\n                                                        className: \"w-full px-6 py-4 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 743,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 742,\n                                                    columnNumber: 31\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(),\n                                                    disabled: !currentInput.trim(),\n                                                    className: \"px-8 py-4 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-2xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        className: \"h-5 w-5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 758,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 753,\n                                                    columnNumber: 31\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 741,\n                                            columnNumber: 27\n                                        }, this),\n                                        currentStep < questions.length && (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"select\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                                            children: (_currentQuestion_options = currentQuestion.options) === null || _currentQuestion_options === void 0 ? void 0 : _currentQuestion_options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(option),\n                                                    className: \"p-6 text-left border-2 border-gray-200 dark:border-gray-600 rounded-2xl hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: option\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 772,\n                                                        columnNumber: 39\n                                                    }, this)\n                                                }, index, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 767,\n                                                    columnNumber: 35\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 765,\n                                            columnNumber: 27\n                                        }, this),\n                                        isDiagnosisComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center mt-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    // Reset all relevant states to restart the process\n                                                    setUserAge(null);\n                                                    setUserSex(null);\n                                                    setMessages([]);\n                                                    setCurrentInput(\"\");\n                                                    setCurrentStep(0);\n                                                    setIsTyping(false);\n                                                    setIsSpeaking(false);\n                                                    setDiagnosisResult(null);\n                                                    setEvidence([]);\n                                                    setInterviewId(null);\n                                                    setCurrDiagnosisQuestions(null);\n                                                    setCurrDiagnosisConditions([]);\n                                                    setIsDiagnosisComplete(false);\n                                                    setTempGroupedSelections({}); // Reset temporary selections\n                                                    // Re-initiate initial bot message for a fresh start\n                                                    setTimeout(()=>{\n                                                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                                                        setTimeout(()=>{\n                                                            addBotMessage(questions[0].question);\n                                                        }, 1000);\n                                                    }, 500);\n                                                },\n                                                className: \"px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\",\n                                                children: \"Start a New Diagnosis \\uD83D\\uDD04\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 781,\n                                                columnNumber: 31\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 780,\n                                            columnNumber: 27\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 738,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 737,\n                                columnNumber: 15\n                            }, this) : // If Infermedica is currently asking questions (currDiagnosisQuestions is not null/false and not complete),\n                            // we don't show a generic input box. The user interacts with the buttons in the chat message.\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 text-center text-gray-500 dark:text-gray-400\",\n                                children: \"Please select an option from the question above to continue the diagnosis. \\uD83D\\uDC46\"\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 819,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 537,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-6 hidden lg:block transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"sticky top-24 space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-3 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"h-5 w-5 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 830,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 829,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-bold text-gray-900 dark:text-white text-lg\",\n                                            children: \"Helpful Tips\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 832,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 828,\n                                    columnNumber: 13\n                                }, this),\n                                currentStep < questions.length && ((_questions_currentStep = questions[currentStep]) === null || _questions_currentStep === void 0 ? void 0 : _questions_currentStep.tips) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: questions[currentStep].tips.map((tip, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 843,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: tip\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 844,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 839,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 837,\n                                    columnNumber: 15\n                                }, this),\n                                !(currentStep < questions.length && ((_questions_currentStep1 = questions[currentStep]) === null || _questions_currentStep1 === void 0 ? void 0 : _questions_currentStep1.tips)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 852,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: \"Answer all questions accurately for the best diagnosis.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 853,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 851,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 858,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: 'If unsure, select \"Don\\'t know\" or \"Unknown\".'\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 859,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 857,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 850,\n                                    columnNumber: 18\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-2xl border border-blue-200 dark:border-blue-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-blue-900 dark:text-blue-100 mb-3 flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 mr-2 text-green-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 869,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Privacy & Security\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 868,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-blue-800 dark:text-blue-200 leading-relaxed\",\n                                            children: \"Your health information is encrypted with military-grade security. We never share your data with third parties and comply with all HIPAA regulations.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 872,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 867,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl border border-purple-200 dark:border-purple-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-purple-900 dark:text-purple-100 mb-3\",\n                                            children: \"AI Accuracy\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 879,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2\",\n                                            children: \"95%\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 880,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                            children: \"Our AI has been trained on millions of medical cases and maintains a high accuracy rate in symptom analysis.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 881,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 878,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                            lineNumber: 827,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 826,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 535,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Footer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 890,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n        lineNumber: 532,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatbotPage, \"vwie9XD7qPjsMxcG12GXSkkPtNM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = ChatbotPage;\nvar _c;\n$RefreshReg$(_c, \"ChatbotPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jaGF0Ym90L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ21EO0FBQ1I7QUFDQztBQUNBO0FBQzRDO0FBQ3JEO0FBeUNuQyxnREFBZ0Q7QUFDaEQsTUFBTWUsb0JBQW9CLE9BQU9DO0lBQzdCLElBQUk7UUFDQSxNQUFNQyxPQUFPLE1BQU1ELFNBQVNDLElBQUk7UUFDaEMsSUFBSSxDQUFDRCxTQUFTRSxFQUFFLEVBQUU7WUFDZCwrRUFBK0U7WUFDL0UsSUFBSTtnQkFDQSxNQUFNQyxZQUFZQyxLQUFLQyxLQUFLLENBQUNKO2dCQUM3QixNQUFNLElBQUlLLE1BQU1ILFVBQVVJLE9BQU8sSUFBSSxjQUFpQ1AsT0FBbkJBLFNBQVNRLE1BQU0sRUFBQyxLQUF1QixPQUFwQlIsU0FBU1MsVUFBVTtZQUM3RixFQUFFLE9BQU9DLFdBQVc7Z0JBQ2hCLGdFQUFnRTtnQkFDaEUsTUFBTSxJQUFJSixNQUFNLGNBQWlDTixPQUFuQkEsU0FBU1EsTUFBTSxFQUFDLEtBQXlCUCxPQUF0QkQsU0FBU1MsVUFBVSxFQUEyQixPQUF4QlIsT0FBTyxLQUFVLE9BQUxBLFFBQVM7WUFDaEc7UUFDSjtRQUNBLGtGQUFrRjtRQUNsRixPQUFPQSxPQUFPRyxLQUFLQyxLQUFLLENBQUNKLFFBQVEsQ0FBQztJQUN0QyxFQUFFLE9BQU9VLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMscUZBQXFGO1FBQ3JGLE1BQU1BO0lBQ1Y7QUFDSjtBQUVlLFNBQVNFO1FBdXJCT0MsMEJBc0VnQkMsd0JBYUVBOztJQXp3Qi9DLE1BQU1DLFNBQVM3QiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDOEIsU0FBU0MsV0FBVyxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3RELE1BQU0sQ0FBQ21DLFNBQVNDLFdBQVcsR0FBR3BDLCtDQUFRQSxDQUFxQztJQUUzRSxNQUFNLENBQUNxQyxVQUFVQyxZQUFZLEdBQUd0Qywr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LDhEQUFDNUosZ0lBQVdBO29EQUFDNEosV0FBVTs7Ozs7OzhEQUN2Qiw4REFBQ0c7b0RBQUVILFdBQVU7OERBQTJEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBUXBGLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNpQzs0Q0FBR2pDLFdBQVU7OzhEQUNaLDhEQUFDNUosZ0lBQVdBO29EQUFDNEosV0FBVTs7Ozs7O2dEQUFnQzs7Ozs7OztzREFHekQsOERBQUNHOzRDQUFFSCxXQUFVO3NEQUEyRDs7Ozs7Ozs7Ozs7OzhDQU0xRSw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDaUM7NENBQUdqQyxXQUFVO3NEQUFzRDs7Ozs7O3NEQUNwRSw4REFBQ0Q7NENBQUlDLFdBQVU7c0RBQStEOzs7Ozs7c0RBQzlFLDhEQUFDRzs0Q0FBRUgsV0FBVTtzREFBK0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVNwRSw4REFBQ2pLLDBEQUFNQTs7Ozs7Ozs7Ozs7QUFHYjtHQXR6QndCd0I7O1FBQ1AxQixzREFBU0E7OztLQURGMEIiLCJzb3VyY2VzIjpbIi9ob21lL29tZXJhZG5hbi9EZXNrdG9wL3Byb2dyYW1taW5nL2hlYWx0aF9hcHAvaGVhbHRoX2FwcC9mcm9udGVuZC9hcHAvY2hhdGJvdC9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9IZWFkZXJcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Gb290ZXJcIlxuaW1wb3J0IHsgU2VuZCwgQm90LCBVc2VyLCBMaWdodGJ1bGIsIENoZWNrQ2lyY2xlLCBWb2x1bWUyLCBWb2x1bWVYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiXG5cbi8vIFR5cGUgRGVmaW5pdGlvbnMgKGVuc3VyaW5nIGNvbnNpc3RlbmN5KVxudHlwZSBNZXNzYWdlID0ge1xuICBpZDogbnVtYmVyXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEluZmVybWVkaWNhUXVlc3Rpb24gLy8gQ29udGVudCBjYW4gYmUgc3RyaW5nIG9yIHN0cnVjdHVyZWQgcXVlc3Rpb25cbiAgc2VuZGVyOiBcImJvdFwiIHwgXCJ1c2VyXCJcbiAgdGltZXN0YW1wOiBEYXRlXG59XG5cbnR5cGUgSW5mZXJtZWRpY2FDaG9pY2UgPSB7XG4gIGlkOiBcInByZXNlbnRcIiB8IFwiYWJzZW50XCIgfCBcInVua25vd25cIlxuICBsYWJlbDogc3RyaW5nXG59XG5cbnR5cGUgSW5mZXJtZWRpY2FRdWVzdGlvbkl0ZW0gPSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGNob2ljZXM6IEluZmVybWVkaWNhQ2hvaWNlW11cbn1cblxudHlwZSBJbmZlcm1lZGljYVF1ZXN0aW9uID0ge1xuICB0eXBlOiBcInNpbmdsZVwiIHwgXCJncm91cGVkX3NpbmdsZVwiIHwgXCJncm91cGVkX211bHRpcGxlXCIgLy8gQWRkZWQgc3BlY2lmaWMgdHlwZXNcbiAgdGV4dDogc3RyaW5nXG4gIGl0ZW1zOiBJbmZlcm1lZGljYVF1ZXN0aW9uSXRlbVtdXG59XG5cbnR5cGUgRXZpZGVuY2VJdGVtID0ge1xuICBpZDogc3RyaW5nXG4gIGNob2ljZV9pZDogXCJwcmVzZW50XCIgfCBcImFic2VudFwiIHwgXCJ1bmtub3duXCJcbn1cblxuLy8gTmV3IHR5cGUgZm9yIGluaXRpYWwgZml4ZWQgcXVlc3Rpb25zXG50eXBlIEluaXRpYWxRdWVzdGlvbiA9IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHF1ZXN0aW9uOiBzdHJpbmc7XG4gICAgdHlwZTogXCJhZ2VcIiB8IFwic2VsZWN0XCIgfCBcInRleHRcIjtcbiAgICBvcHRpb25zPzogc3RyaW5nW107IC8vIEZvciAnc2VsZWN0JyB0eXBlXG4gICAgdGlwczogc3RyaW5nW107XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBzYWZlbHkgcGFyc2UgQVBJIHJlc3BvbnNlc1xuY29uc3QgcGFyc2VKc29uUmVzcG9uc2UgPSBhc3luYyAocmVzcG9uc2U6IFJlc3BvbnNlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgLy8gSWYgcmVzcG9uc2UgaXMgbm90IE9LIChlLmcuLCA0MDAsIDUwMCksIHRyeSB0byBwYXJzZSBKU09OIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvckRhdGEgPSBKU09OLnBhcnNlKHRleHQpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvckRhdGEubWVzc2FnZSB8fCBgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfSBjYXRjaCAoanNvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGV4dCBpcyBub3QgSlNPTiBvciBlbXB0eSwgdGhyb3cgZ2VuZXJpYyBlcnJvciB3aXRoIHN0YXR1c1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQVBJIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fSR7dGV4dCA/IGA6ICR7dGV4dH1gIDogJyd9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgcmVzcG9uc2UgaXMgT0ssIHRyeSB0byBwYXJzZSBKU09OLiBJZiB0ZXh0IGlzIGVtcHR5LCByZXR1cm4gYW4gZW1wdHkgb2JqZWN0LlxuICAgICAgICByZXR1cm4gdGV4dCA/IEpTT04ucGFyc2UodGV4dCkgOiB7fTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBKU09OIHJlc3BvbnNlOlwiLCBlcnJvcik7XG4gICAgICAgIC8vIFJlLXRocm93IHRvIGJlIGNhdWdodCBieSB0aGUgY2FsbGluZyBmdW5jdGlvbiAoZS5nLiwgZ2V0RGlhZ25vc2lzLCBnZXRQYXJzZVJlc3VsdClcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2hhdGJvdFBhZ2UoKSB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG4gIGNvbnN0IFt1c2VyQWdlLCBzZXRVc2VyQWdlXSA9IHVzZVN0YXRlPG51bWJlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFt1c2VyU2V4LCBzZXRVc2VyU2V4XSA9IHVzZVN0YXRlPFwibWFsZVwiIHwgXCJmZW1hbGVcIiB8IFwib3RoZXJcIiB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgW21lc3NhZ2VzLCBzZXRNZXNzYWdlc10gPSB1c2VTdGF0ZTxNZXNzYWdlW10+KFtdKVxuICBjb25zdCBbY3VycmVudElucHV0LCBzZXRDdXJyZW50SW5wdXRdID0gdXNlU3RhdGU8c3RyaW5nPihcIlwiKVxuICBjb25zdCBbY3VycmVudFN0ZXAsIHNldEN1cnJlbnRTdGVwXSA9IHVzZVN0YXRlPG51bWJlcj4oMClcbiAgY29uc3QgW2lzVHlwaW5nLCBzZXRJc1R5cGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgW2lzU3BlYWtpbmcsIHNldElzU3BlYWtpbmddID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG4gIGNvbnN0IFtkaWFnbm9zaXNSZXN1bHQsIHNldERpYWdub3Npc1Jlc3VsdF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKSAvLyBSYXcgSlNPTiBmb3IgZGVidWdnaW5nIGlmIG5lZWRlZFxuICBjb25zdCBbZXZpZGVuY2UsIHNldEV2aWRlbmNlXSA9IHVzZVN0YXRlPEV2aWRlbmNlSXRlbVtdPihbXSlcbiAgY29uc3QgbWVzc2FnZXNFbmRSZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gIGNvbnN0IFtpbnRlcnZpZXdJZCwgc2V0SW50ZXJ2aWV3SWRdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbClcblxuICBjb25zdCBbY3VyckRpYWdub3Npc1F1ZXN0aW9ucywgc2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9uc10gPSB1c2VTdGF0ZTxJbmZlcm1lZGljYVF1ZXN0aW9uIHwgbnVsbD4obnVsbCkgLy8gRXhwbGljaXRseSB0eXBlXG4gIGNvbnN0IFtjdXJyRGlhZ25vc2lzQ29uZGl0aW9ucywgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnNdID0gdXNlU3RhdGU8YW55W10+KFtdKVxuICBjb25zdCBbaXNEaWFnbm9zaXNDb21wbGV0ZSwgc2V0SXNEaWFnbm9zaXNDb21wbGV0ZV0gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgW3RlbXBHcm91cGVkU2VsZWN0aW9ucywgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zXSA9IHVzZVN0YXRlPFJlY29yZDxzdHJpbmcsIFwicHJlc2VudFwiIHwgXCJhYnNlbnRcIiB8IFwidW5rbm93blwiPj4oe30pO1xuXG5cbiAgLy8gSW5pdGlhbCBmaXhlZCBxdWVzdGlvbnMgZm9yIHRoZSBib3RcbiAgY29uc3QgcXVlc3Rpb25zOiBJbml0aWFsUXVlc3Rpb25bXSA9IFtcbiAgICB7XG4gICAgICBpZDogXCJhZ2VfaW5wdXRcIixcbiAgICAgIHF1ZXN0aW9uOiBcIkhpLiBQbGVhc2UgdGVsbCBtZSB5b3VyIGFnZS5cIixcbiAgICAgIHR5cGU6IFwiYWdlXCIsXG4gICAgICB0aXBzOiBbXG4gICAgICAgIFwiVGVsbCB5b3VyIGV4YWN0IGFnZS5cIixcbiAgICAgICAgXCJVbml0cyBzaG91bGQgYmUgaW4geWVhcnMuXCIsXG4gICAgICAgIFwiRG8gbm90IHRlbGwgYW4gZXhhZ2dlcmF0ZWQgYWdlIGFzIGl0IG1heSBsZWFkIHRvIHdyb25nIGRpYWdub3Npcy5cIixcbiAgICAgIF0sXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJzZXhfaW5wdXRcIixcbiAgICAgIHF1ZXN0aW9uOiBcIldoYXQgaXMgeW91ciBnZW5kZXI/XCIsXG4gICAgICB0eXBlOiBcInNlbGVjdFwiLFxuICAgICAgb3B0aW9uczogW1wibWFsZVwiLCBcImZlbWFsZVwiLCBcIm90aGVyXCJdLFxuICAgICAgdGlwczogW1xuICAgICAgICBcIlBsZWFzZSBzcGVjaWZ5IHlvdXIgZ2VuZGVyIGNsZWFybHkuXCIsXG4gICAgICAgIFwiSWYgeW91IHByZWZlciBub3QgdG8gc2F5LCBzZWxlY3QgJ290aGVyJy5cIixcbiAgICAgICAgXCJUaGlzIGhlbHBzIHVzIHByb3ZpZGUgYmV0dGVyIGluc2lnaHRzLlwiLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInN5bXB0b21zXCIsXG4gICAgICBxdWVzdGlvbjogXCJXaGF0IHN5bXB0b21zIGFyZSB5b3UgZXhwZXJpZW5jaW5nPyBQbGVhc2UgZGVzY3JpYmUgdGhlbSBpbiBkZXRhaWwuXCIsXG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRpcHM6IFtcbiAgICAgICAgXCJCZSBzcGVjaWZpYyBhYm91dCBsb2NhdGlvbiwgaW50ZW5zaXR5LCBhbmQgZHVyYXRpb24uXCIsXG4gICAgICAgIFwiTWVudGlvbiBhbnkgdHJpZ2dlcnMgeW91J3ZlIG5vdGljZWQuXCIsXG4gICAgICAgIFwiSW5jbHVkZSBhc3NvY2lhdGVkIHN5bXB0b21zLlwiLFxuICAgICAgXSxcbiAgICB9LFxuICBdXG5cbiAgLy8gSW5pdGlhbCBib3QgbWVzc2FnZSBvbiBjb21wb25lbnQgbW91bnRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAobWVzc2FnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYWRkQm90TWVzc2FnZShcbiAgICAgICAgICBcIkhlbGxvISBJJ20geW91ciBIZWFsdGhCdWRkeSBBSSBhc3Npc3RhbnQuIEknbGwgaGVscCBhbmFseXplIHlvdXIgc3ltcHRvbXMgYW5kIHByb3ZpZGUgcGVyc29uYWxpemVkIGhlYWx0aCBpbnNpZ2h0cy4gTGV0J3Mgc3RhcnQgd2l0aCBhIGZldyBxdWVzdGlvbnMuXCIsXG4gICAgICAgIClcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgYWRkQm90TWVzc2FnZShxdWVzdGlvbnNbMF0ucXVlc3Rpb24pXG4gICAgICAgIH0sIDE1MDApIC8vIEdpdmUgdXNlciBhIGJpdCBtb3JlIHRpbWUgYWZ0ZXIgaW50cm9cbiAgICAgIH0sIDUwMClcbiAgICB9XG4gIH0sIFtdKSAvLyBFbXB0eSBkZXBlbmRlbmN5IGFycmF5IG1lYW5zIHRoaXMgcnVucyBvbmNlIG9uIG1vdW50XG5cbiAgLy8gQXV0by1zY3JvbGwgdG8gYm90dG9tIG9uIG5ldyBtZXNzYWdlc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNjcm9sbFRvQm90dG9tKClcbiAgfSwgW21lc3NhZ2VzXSlcblxuICBjb25zdCBzY3JvbGxUb0JvdHRvbSA9ICgpID0+IHtcbiAgICBtZXNzYWdlc0VuZFJlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiBcInNtb290aFwiIH0pXG4gIH1cblxuICAvLyBHZW5lcmF0ZSB1bmlxdWUgSUQgZm9yIG1lc3NhZ2VzXG4gIGNvbnN0IGdlbmVyYXRlVW5pcXVlSWQgPSAoKSA9PiBEYXRlLm5vdygpICsgTWF0aC5yYW5kb20oKVxuXG4gIC8vIEFkZCBib3QgbWVzc2FnZSB3aXRoIHR5cGluZyBpbmRpY2F0b3JcbiAgY29uc3QgYWRkQm90TWVzc2FnZSA9IChjb250ZW50OiBzdHJpbmcgfCBJbmZlcm1lZGljYVF1ZXN0aW9uKSA9PiB7XG4gICAgc2V0SXNUeXBpbmcodHJ1ZSlcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbXG4gICAgICAgIC4uLnByZXYsXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogZ2VuZXJhdGVVbmlxdWVJZCgpLFxuICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgc2VuZGVyOiBcImJvdFwiLFxuICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgICAgfSxcbiAgICAgIF0pXG4gICAgICBzZXRJc1R5cGluZyhmYWxzZSlcbiAgICB9LCAxMDAwKSAvLyBTaW11bGF0ZSB0eXBpbmcgZGVsYXlcbiAgfVxuXG4gIC8vIEFkZCB1c2VyIG1lc3NhZ2VcbiAgY29uc3QgYWRkVXNlck1lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nKSA9PiB7XG4gICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgIC4uLnByZXYsXG4gICAgICB7XG4gICAgICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXG4gICAgICAgIGNvbnRlbnQsXG4gICAgICAgIHNlbmRlcjogXCJ1c2VyXCIsXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcbiAgICAgIH0sXG4gICAgXSlcbiAgfVxuXG4gICAgLy8gSGFuZGxlcyBjb25maXJtYXRpb24gZm9yIGdyb3VwZWRfbXVsdGlwbGUgcXVlc3Rpb25zXG4gIGNvbnN0IGhhbmRsZUdyb3VwZWRNdWx0aXBsZUNvbmZpcm0gPSBhc3luYyAoKSA9PiB7XG4gICAgc2V0SXNUeXBpbmcodHJ1ZSk7XG4gICAgYWRkVXNlck1lc3NhZ2UoXCJDb25maXJtZWQgc2VsZWN0aW9ucy5cIik7IC8vIEFja25vd2xlZGdlIHVzZXIncyBjb25maXJtYXRpb25cblxuICAgIC8vIENvbnN0cnVjdCBuZXcgZXZpZGVuY2UgZnJvbSB0ZW1wR3JvdXBlZFNlbGVjdGlvbnNcbiAgICBjb25zdCBuZXdFdmlkZW5jZVRvQWRkOiBFdmlkZW5jZUl0ZW1bXSA9IE9iamVjdC5lbnRyaWVzKHRlbXBHcm91cGVkU2VsZWN0aW9ucykubWFwKChbaWQsIGNob2ljZV9pZF0pID0+ICh7XG4gICAgICBpZCxcbiAgICAgIGNob2ljZV9pZCxcbiAgICB9KSk7XG5cbiAgICAvLyBDbGVhciB0ZW1wb3Jhcnkgc2VsZWN0aW9uc1xuICAgIHNldFRlbXBHcm91cGVkU2VsZWN0aW9ucyh7fSk7XG5cbiAgICAvLyBVcGRhdGUgdGhlIG1haW4gZXZpZGVuY2Ugc3RhdGUgYW5kIHRoZW4gY2FsbCBkaWFnbm9zaXNcbiAgICBzZXRFdmlkZW5jZSgocHJldkV2aWRlbmNlKSA9PiB7XG4gICAgICAgIC8vIEZpbHRlciBvdXQgYW55IGV4aXN0aW5nIGV2aWRlbmNlIGZvciB0aGVzZSBpdGVtcyBiZWZvcmUgYWRkaW5nIG5ldyBvbmVzXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkUHJldkV2aWRlbmNlID0gcHJldkV2aWRlbmNlLmZpbHRlcihpdGVtID0+ICFuZXdFdmlkZW5jZVRvQWRkLnNvbWUobmV3SXRlbSA9PiBuZXdJdGVtLmlkID09PSBpdGVtLmlkKSk7XG4gICAgICAgIGNvbnN0IGNvbWJpbmVkRXZpZGVuY2UgPSBbLi4uZmlsdGVyZWRQcmV2RXZpZGVuY2UsIC4uLm5ld0V2aWRlbmNlVG9BZGRdO1xuXG4gICAgICAgIC8vIENhbGwgZGlhZ25vc2lzIHdpdGggdGhlIGNvbWJpbmVkIGV2aWRlbmNlXG4gICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0RGlhZ25vc2lzUmVzdWx0ID0gYXdhaXQgZ2V0RGlhZ25vc2lzKGNvbWJpbmVkRXZpZGVuY2UpO1xuICAgICAgICAgICAgICAgIGlmICghbmV4dERpYWdub3Npc1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBmdXJ0aGVyIGRpYWdub3NpcyBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIEFQSS4gVGhlIHNlcnZlciBtaWdodCBiZSBidXN5IG9yIGV4cGVyaWVuY2VkIGFuIGVycm9yLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3AgPT09IGZhbHNlICYmICFuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWdub3NpcyBmbG93IGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgc3RhdGU6IEV4cGVjdGVkIGEgcXVlc3Rpb24gYnV0IG5vbmUgd2FzIHByb3ZpZGVkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXREaWFnbm9zaXNSZXN1bHQoSlNPTi5zdHJpbmdpZnkobmV4dERpYWdub3Npc1Jlc3VsdCwgbnVsbCwgMikpO1xuICAgICAgICAgICAgICAgIHNldEN1cnJEaWFnbm9zaXNDb25kaXRpb25zKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgc2V0SXNEaWFnbm9zaXNDb21wbGV0ZShuZXh0RGlhZ25vc2lzUmVzdWx0LnNob3VsZF9zdG9wKTtcbiAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24gfHwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUZpbmFsRGlhZ25vc2lzKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UobmV4dERpYWdub3Npc1Jlc3VsdC5xdWVzdGlvbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoZSBkaWFnbm9zaXMgcHJvY2VzcyBuZWVkcyBtb3JlIGluZm9ybWF0aW9uLCBidXQgSSBjb3VsZG4ndCBnZW5lcmF0ZSB0aGUgbmV4dCBxdWVzdGlvbi4gUGxlYXNlIGNvbnN1bHQgYSBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbC5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIGdyb3VwZWRfbXVsdGlwbGUgZGlhZ25vc2lzIGNvbmZpcm1hdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLlwiO1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSB0cnkgYWdhaW4uYCk7XG4gICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAxMDAwKTsgLy8gU2ltdWxhdGUgcHJvY2Vzc2luZyB0aW1lXG4gICAgICAgIHJldHVybiBjb21iaW5lZEV2aWRlbmNlOyAvLyBSZXR1cm4gdGhlIG5ldyBzdGF0ZVxuICAgIH0pO1xuICB9O1xuXG4gIC8vIE1haW4gbWVzc2FnZSBoYW5kbGluZyBsb2dpY1xuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jIChpbnB1dD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXQgIT09IHVuZGVmaW5lZCA/IGlucHV0IDogY3VycmVudElucHV0XG4gICAgaWYgKCF2YWx1ZS50cmltKCkpIHJldHVyblxuXG4gICAgLy8gQ2xlYXIgY3VycmVudElucHV0IGltbWVkaWF0ZWx5IGZvciBhbGwgdHlwZXMgb2YgcmVzcG9uc2VzXG4gICAgc2V0Q3VycmVudElucHV0KFwiXCIpXG5cbiAgICAvLyAtLS0gSGFuZGxpbmcgSW5pdGlhbCBGaXhlZCBRdWVzdGlvbnMgKEFnZSwgU2V4KSAtLS1cbiAgICAvLyBUaGlzIGJsb2NrIHJ1bnMgaWYgd2UgYXJlIHN0aWxsIHdpdGhpbiB0aGUgJ3F1ZXN0aW9ucycgYXJyYXkgZmxvdyBBTkQgTk9UIG9uIHRoZSBsYXN0IHF1ZXN0aW9uIChzeW1wdG9tcylcbiAgICBpZiAoY3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBxdWVzdGlvbnNbY3VycmVudFN0ZXBdO1xuXG4gICAgICAgIC8vIEFkZCB1c2VyIG1lc3NhZ2UgZm9yIHRoZXNlIGluaXRpYWwsIHVzZXItdHlwZWQvc2VsZWN0ZWQgaW5wdXRzXG4gICAgICAgIGFkZFVzZXJNZXNzYWdlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudFF1ZXN0aW9uLmlkID09PSBcImFnZV9pbnB1dFwiKSB7XG4gICAgICAgICAgICBjb25zdCBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGFnZSkgfHwgYWdlIDw9IDAgfHwgYWdlID4gMTIwKSB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGFnZSBpbiB5ZWFycyAoZS5nLiwgMzApLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVc2VyQWdlKGFnZSk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U3RlcChjdXJyZW50U3RlcCArIDEpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShxdWVzdGlvbnNbY3VycmVudFN0ZXAgKyAxXS5xdWVzdGlvbik7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50UXVlc3Rpb24uaWQgPT09IFwic2V4X2lucHV0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNleCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoIVtcIm1hbGVcIiwgXCJmZW1hbGVcIiwgXCJvdGhlclwiXS5pbmNsdWRlcyhzZXgpKSB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBzZWxlY3QgZnJvbSAnbWFsZScsICdmZW1hbGUnLCBvciAnb3RoZXInLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVc2VyU2V4KHNleCBhcyBcIm1hbGVcIiB8IFwiZmVtYWxlXCIgfCBcIm90aGVyXCIpO1xuICAgICAgICAgICAgaWYgKCFpbnRlcnZpZXdJZCkge1xuICAgICAgICAgICAgICAgIHNldEludGVydmlld0lkKHV1aWR2NCgpKTsgLy8gSW5pdGlhbGl6ZSBpbnRlcnZpZXcgSURcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwICsgMSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1tjdXJyZW50U3RlcCArIDFdLnF1ZXN0aW9uKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tLSBIYW5kbGluZyBJbml0aWFsIFN5bXB0b21zIFF1ZXN0aW9uICh0aGUgbGFzdCBmaXhlZCBxdWVzdGlvbikgLS0tXG4gICAgLy8gVGhpcyBibG9jayBydW5zIHdoZW4gY3VycmVudFN0ZXAgaXMgZXhhY3RseSBgcXVlc3Rpb25zLmxlbmd0aCAtIDFgXG4gICAgZWxzZSBpZiAoY3VycmVudFN0ZXAgPT09IHF1ZXN0aW9ucy5sZW5ndGggLSAxICYmIHF1ZXN0aW9uc1tjdXJyZW50U3RlcF0uaWQgPT09IFwic3ltcHRvbXNcIikge1xuICAgICAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBxdWVzdGlvbnNbY3VycmVudFN0ZXBdO1xuXG4gICAgICAgIC8vIEFkZCB1c2VyIG1lc3NhZ2UgZm9yIHN5bXB0b21zIGRlc2NyaXB0aW9uXG4gICAgICAgIGFkZFVzZXJNZXNzYWdlKHZhbHVlKTtcblxuICAgICAgICBpZiAodmFsdWUubGVuZ3RoIDwgMTApIHtcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJQbGVhc2UgcHJvdmlkZSBhIG1vcmUgZGV0YWlsZWQgZGVzY3JpcHRpb24gb2YgeW91ciBzeW1wdG9tcyAoYXQgbGVhc3QgMTAgY2hhcmFjdGVycykuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJUaGFuayB5b3UgZm9yIHNoYXJpbmcgeW91ciBzeW1wdG9tcy4gUGxlYXNlIHdhaXQgd2hpbGUgSSBhbmFseXplIHRoZW0uXCIpO1xuICAgICAgICAgICAgc2V0SXNUeXBpbmcodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIEZldGNoIHBhcnNlIHJlc3VsdFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZ2V0UGFyc2VSZXN1bHQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQgfHwgIUFycmF5LmlzQXJyYXkocmVzdWx0Lm1lbnRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlJlY2VpdmVkIGFuIGludmFsaWQgcmVzcG9uc2UgZm9ybWF0IGZvciBzeW1wdG9tIGFuYWx5c2lzLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFyc2UgcmVzdWx0OlwiLCByZXN1bHQpO1xuXG4gICAgICAgICAgICBjb25zdCBpbml0aWFsRXZpZGVuY2U6IEV2aWRlbmNlSXRlbVtdID0gcmVzdWx0Lm1lbnRpb25zLm1hcCgobWVudGlvbjogYW55KSA9PiAoe1xuICAgICAgICAgICAgICAgIGlkOiBtZW50aW9uLmlkLFxuICAgICAgICAgICAgICAgIGNob2ljZV9pZDogbWVudGlvbi5jaG9pY2VfaWQsXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIC8vIE5FVyBDSEVDSyBIRVJFOiBJZiBubyBzeW1wdG9tcyB3ZXJlIHBhcnNlZFxuICAgICAgICAgICAgaWYgKGluaXRpYWxFdmlkZW5jZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiSSBjb3VsZG4ndCBpZGVudGlmeSBhbnkgc3ltcHRvbXMgZnJvbSB5b3VyIGRlc2NyaXB0aW9uLiBDb3VsZCB5b3UgcGxlYXNlIHJlcGhyYXNlIG9yIHByb3ZpZGUgbW9yZSBkZXRhaWxzPyBGb3IgZXhhbXBsZSwgJ0kgaGF2ZSBhIGhlYWRhY2hlIGFuZCBhIGZldmVyLidcIik7XG4gICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gU3RvcCBoZXJlLCBkb24ndCBjYWxsIGdldERpYWdub3Npc1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXRFdmlkZW5jZShpbml0aWFsRXZpZGVuY2UpOyAvLyBUaGlzIHVwZGF0ZXMgdGhlIHN0YXRlLCBidXQgd2UgZG9uJ3QgcmVseSBvbiBpdCBmb3IgdGhlIGltbWVkaWF0ZSBBUEkgY2FsbFxuXG4gICAgICAgICAgICAvLyBQYXNzIGluaXRpYWxFdmlkZW5jZSBkaXJlY3RseSB0byBnZXREaWFnbm9zaXMgdG8gYXZvaWQgc3RhdGUgdXBkYXRlIHRpbWluZyBpc3N1ZXNcbiAgICAgICAgICAgIGNvbnN0IGRpYWdub3NpcyA9IGF3YWl0IGdldERpYWdub3Npcyhpbml0aWFsRXZpZGVuY2UpO1xuICAgICAgICAgICAgaWYgKCFkaWFnbm9zaXMpIHtcbiAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGlhZ25vc2lzIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgQVBJLiBUaGUgc2VydmVyIG1pZ2h0IGJlIGJ1c3kgb3IgZXhwZXJpZW5jZWQgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgZGlhZ25vc2lzIGlzIG5vdCBjb21wbGV0ZSwgaXQgTVVTVCBwcm92aWRlIGEgcXVlc3Rpb25cbiAgICAgICAgICAgIGlmIChkaWFnbm9zaXMuc2hvdWxkX3N0b3AgPT09IGZhbHNlICYmICFkaWFnbm9zaXMucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFnbm9zaXMgZmxvdyBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIHN0YXRlOiBFeHBlY3RlZCBhIHF1ZXN0aW9uIGJ1dCBub25lIHdhcyBwcm92aWRlZC5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBkaWFnbm9zaXMgcmVzdWx0OlwiLCBkaWFnbm9zaXMpO1xuXG4gICAgICAgICAgICBzZXREaWFnbm9zaXNSZXN1bHQoSlNPTi5zdHJpbmdpZnkoZGlhZ25vc2lzLCBudWxsLCAyKSk7IC8vIFN0b3JlIHJhdyByZXN1bHQgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMoZGlhZ25vc2lzLmNvbmRpdGlvbnMgfHwgW10pO1xuICAgICAgICAgICAgc2V0SXNEaWFnbm9zaXNDb21wbGV0ZShkaWFnbm9zaXMuc2hvdWxkX3N0b3ApO1xuICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9ucyhkaWFnbm9zaXMucXVlc3Rpb24gfHwgbnVsbCk7XG5cbiAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwICsgMSk7XG5cbiAgICAgICAgICAgIGlmIChkaWFnbm9zaXMuc2hvdWxkX3N0b3ApIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5RmluYWxEaWFnbm9zaXMoZGlhZ25vc2lzLmNvbmRpdGlvbnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkaWFnbm9zaXMucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKGRpYWdub3Npcy5xdWVzdGlvbik7IC8vIEFzayB0aGUgZmlyc3QgSW5mZXJtZWRpY2EgcXVlc3Rpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoZSBkaWFnbm9zaXMgcHJvY2VzcyBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIHN0YXRlLiBQbGVhc2UgY29uc3VsdCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgaW5pdGlhbCBkaWFnbm9zaXMgcHJvY2VzczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuXCI7XG4gICAgICAgICAgICBhZGRCb3RNZXNzYWdlKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjsgLy8gRXhpdCBhZnRlciBoYW5kbGluZyBzeW1wdG9tc1xuICAgIH1cbiAgICAvLyAtLS0gSGFuZGxpbmcgSW5mZXJtZWRpY2EgRGlhZ25vc2lzIFF1ZXN0aW9ucyAtLS1cbiAgICAvLyBUaGlzIGJsb2NrIHJ1bnMgd2hlbiB3ZSBhcmUgcGFzdCB0aGUgaW5pdGlhbCBmaXhlZCBxdWVzdGlvbnMgQU5EXG4gICAgLy8gdGhlcmUncyBhbiBhY3RpdmUgZGlhZ25vc2lzIHF1ZXN0aW9uIGZyb20gSW5mZXJtZWRpY2EgQU5EIGl0J3Mgbm90IGNvbXBsZXRlIHlldC5cbiAgICBpZiAoY3VyckRpYWdub3Npc1F1ZXN0aW9ucyAmJiAhaXNEaWFnbm9zaXNDb21wbGV0ZSkge1xuICAgICAgICAvLyBGb3IgSW5mZXJtZWRpY2EgY2hvaWNlIGJ1dHRvbnMsIHRoZSBpbnRlcmFjdGlvbiBpcyB0aGUgYW5zd2VyLCBubyBuZWVkIGZvciBhZGRVc2VyTWVzc2FnZVxuICAgICAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KCc6Jyk7XG5cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gcGFydHNbMF07XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VJZCA9IHBhcnRzWzFdIGFzIFwicHJlc2VudFwiIHwgXCJhYnNlbnRcIiB8IFwidW5rbm93blwiO1xuXG4gICAgICAgICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uIGZvciBjaG9pY2VJZFxuICAgICAgICAgICAgaWYgKCFbXCJwcmVzZW50XCIsIFwiYWJzZW50XCIsIFwidW5rbm93blwiXS5pbmNsdWRlcyhjaG9pY2VJZCkpIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiSW52YWxpZCBhbnN3ZXIuIFBsZWFzZSBzZWxlY3Qgb25lIG9mIHRoZSBwcm92aWRlZCBvcHRpb25zLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEZpeCAxOiBEaWZmZXJlbnRpYXRlIGJldHdlZW4gcXVlc3Rpb24gdHlwZXNcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYSBncm91cGVkX211bHRpcGxlLCBvbmx5IHVwZGF0ZSBsb2NhbCBzdGF0ZSwgZG9uJ3QgY2FsbCBBUEkgaGVyZS5cbiAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAvLyBGb3Igc2luZ2xlIG9yIGdyb3VwZWRfc2luZ2xlIHF1ZXN0aW9ucywgcHJvY2VlZCB3aXRoIGltbWVkaWF0ZSBBUEkgY2FsbFxuICAgICAgICAgICAgLy8gRml4IDI6IE1vdmUgQVBJIGNhbGwgbG9naWMgb3V0c2lkZSBvZiBzZXRFdmlkZW5jZSBmdW5jdGlvbmFsIHVwZGF0ZVxuICAgICAgICAgICAgY29uc3QgbmV3RXZpZGVuY2UgPSBbLi4uZXZpZGVuY2UuZmlsdGVyKGl0ZW0gPT4gaXRlbS5pZCAhPT0gaXRlbUlkKSwgeyBpZDogaXRlbUlkLCBjaG9pY2VfaWQ6IGNob2ljZUlkIH1dO1xuICAgICAgICAgICAgc2V0RXZpZGVuY2UobmV3RXZpZGVuY2UpOyAvLyBVcGRhdGUgc3RhdGVcblxuICAgICAgICAgICAgc2V0SXNUeXBpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0RGlhZ25vc2lzUmVzdWx0ID0gYXdhaXQgZ2V0RGlhZ25vc2lzKG5ld0V2aWRlbmNlKTsgLy8gUGFzcyBuZXdFdmlkZW5jZSBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGlmICghbmV4dERpYWdub3Npc1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZnVydGhlciBkaWFnbm9zaXMgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBBUEkuIFRoZSBzZXJ2ZXIgbWlnaHQgYmUgYnVzeSBvciBleHBlcmllbmNlZCBhbiBlcnJvci5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3AgPT09IGZhbHNlICYmICFuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFnbm9zaXMgZmxvdyBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIHN0YXRlOiBFeHBlY3RlZCBhIHF1ZXN0aW9uIGJ1dCBub25lIHdhcyBwcm92aWRlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBzZXREaWFnbm9zaXNSZXN1bHQoSlNPTi5zdHJpbmdpZnkobmV4dERpYWdub3Npc1Jlc3VsdCwgbnVsbCwgMikpOyAvLyBTdG9yZSByYXcgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJEaWFnbm9zaXNDb25kaXRpb25zKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIHNldElzRGlhZ25vc2lzQ29tcGxldGUobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCk7XG4gICAgICAgICAgICAgICAgICAgIHNldEN1cnJEaWFnbm9zaXNRdWVzdGlvbnMobmV4dERpYWdub3Npc1Jlc3VsdC5xdWVzdGlvbiB8fCBudWxsKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnNob3VsZF9zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RmluYWxEaWFnbm9zaXMobmV4dERpYWdub3Npc1Jlc3VsdC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoZSBkaWFnbm9zaXMgcHJvY2VzcyBuZWVkcyBtb3JlIGluZm9ybWF0aW9uLCBidXQgSSBjb3VsZG4ndCBnZW5lcmF0ZSB0aGUgbmV4dCBxdWVzdGlvbi4gUGxlYXNlIGNvbnN1bHQgYSBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbC5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZHVyaW5nIHN1YnNlcXVlbnQgZGlhZ25vc2lzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLlwiO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKGBBbiBlcnJvciBvY2N1cnJlZDogJHtlcnJvck1lc3NhZ2V9LiBQbGVhc2UgdHJ5IGFnYWluLmApO1xuICAgICAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgYSBmcmVlLXRleHQgaW5wdXQgd2hpbGUgSW5mZXJtZWRpY2EgcXVlc3Rpb25zIGFyZSBhY3RpdmVcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJQbGVhc2UgdXNlIHRoZSBwcm92aWRlZCBidXR0b25zIHRvIGFuc3dlciB0aGUgaGVhbHRoIHF1ZXN0aW9ucy4gVHlwaW5nIGZyZWUtdGV4dCBpcyBub3Qgc3VwcG9ydGVkIGR1cmluZyB0aGlzIHBoYXNlLlwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBIYW5kbGVzIHNjZW5hcmlvIHdoZXJlIGRpYWdub3NpcyBpcyBjb21wbGV0ZSBhbmQgdXNlciB0cmllcyB0byB0eXBlIGFnYWluXG4gICAgZWxzZSBpZiAoaXNEaWFnbm9zaXNDb21wbGV0ZSkge1xuICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBpcyBjb21wbGV0ZS4gUGxlYXNlIGNsaWNrICdTdGFydCBhIE5ldyBEaWFnbm9zaXMnIGlmIHlvdSB3aXNoIHRvIGJlZ2luIGEgbmV3IGFzc2Vzc21lbnQuIPCflIRcIik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUaGlzIHNob3VsZCBub3QgaGFwcGVuLCBidXQgaWYgaXQgZG9lcywgd2UgaGFuZGxlIGl0IGdyYWNlZnVsbHlcbiAgICAgICAgYWRkQm90TWVzc2FnZShcIkFuIHVuZXhwZWN0ZWQgc3RhdGUgb2NjdXJyZWQuIFBsZWFzZSB0cnkgYWdhaW4gb3IgcmVmcmVzaCB0aGUgcGFnZS5cIik7XG4gICAgfVxuICB9O1xuXG4gIC8vIEluZmVybWVkaWNhIEFQSSBjYWxsc1xuICBjb25zdCBnZXREaWFnbm9zaXMgPSBhc3luYyAoY3VycmVudEV2aWRlbmNlOiBFdmlkZW5jZUl0ZW1bXSkgPT4ge1xuICAgIGlmICh1c2VyQWdlID09PSBudWxsIHx8IHVzZXJTZXggPT09IG51bGwgfHwgY3VycmVudEV2aWRlbmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhZ25vc2lzIHByZXJlcXVpc2l0ZXMgKGFnZSwgc2V4LCBvciBzeW1wdG9tcykgYXJlIG1pc3NpbmcuIENhbm5vdCBwcm9jZWVkIHdpdGggZGlhZ25vc2lzLlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgYWdlOiB7XG4gICAgICAgIHZhbHVlOiB1c2VyQWdlLFxuICAgICAgICB1bml0OiBcInllYXJcIixcbiAgICAgIH0sXG4gICAgICBzZXg6IHVzZXJTZXgsXG4gICAgICBldmlkZW5jZTogY3VycmVudEV2aWRlbmNlLFxuICAgICAgaW50ZXJ2aWV3X2lkOiBpbnRlcnZpZXdJZCB8fCB1dWlkdjQoKSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiREVCVUc6IFNlbmRpbmcgcGF5bG9hZCB0byAvZGlhZ25vc2lzOlwiLCBKU09OLnN0cmluZ2lmeShwYXlsb2FkLCBudWxsLCAyKSk7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvaW5mZXJtZWRpY2EvZGlhZ25vc2lzXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlSnNvblJlc3BvbnNlKHJlcyk7IC8vIFVzZSBoZWxwZXIgZm9yIHBhcnNpbmcgYW5kIGVycm9yIGhhbmRsaW5nXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBUEkgY2FsbCB0byAvZGlhZ25vc2lzIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IGZvciBoYW5kbGVTZW5kTWVzc2FnZSB0byBjYXRjaFxuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRQYXJzZVJlc3VsdCA9IGFzeW5jIChyZXNwb25zZVN0cmluZzogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHVzZXJBZ2UgPT09IG51bGwgfHwgdXNlclNleCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyc2luZyBwcmVyZXF1aXNpdGVzIChhZ2Ugb3Igc2V4KSBhcmUgbWlzc2luZy4gQ2Fubm90IHBhcnNlIHN5bXB0b21zLlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgYWdlOiB7IHZhbHVlOiB1c2VyQWdlLCB1bml0OiBcInllYXJcIiB9LFxuICAgICAgc2V4OiB1c2VyU2V4LFxuICAgICAgdGV4dDogcmVzcG9uc2VTdHJpbmcsXG4gICAgICBjb250ZXh0OiBbXSxcbiAgICAgIGluY2x1ZGVfdG9rZW5zOiB0cnVlLFxuICAgICAgY29ycmVjdF9zcGVsbGluZzogdHJ1ZSxcbiAgICAgIGNvbmNlcHRfdHlwZXM6IFtcInN5bXB0b21cIl0sXG4gICAgICBpbnRlcnZpZXdJZDogaW50ZXJ2aWV3SWQgfHwgdXVpZHY0KCksXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHA6Ly9sb2NhbGhvc3Q6NTAwMC9hcGkvaW5mZXJtZWRpY2EvcGFyc2VcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYXdhaXQgcGFyc2VKc29uUmVzcG9uc2UocmVzKTsgLy8gVXNlIGhlbHBlciBmb3IgcGFyc2luZyBhbmQgZXJyb3IgaGFuZGxpbmdcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFQSSBjYWxsIHRvIC9wYXJzZSBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyBmb3IgaGFuZGxlU2VuZE1lc3NhZ2UgdG8gY2F0Y2hcbiAgICB9XG4gIH07XG5cbiAgLy8gRGlzcGxheXMgdGhlIGZpbmFsIGRpYWdub3NpcyBtZXNzYWdlXG4gIGNvbnN0IGRpc3BsYXlGaW5hbERpYWdub3NpcyA9IChjb25kaXRpb25zOiBhbnlbXSkgPT4ge1xuICAgICAgbGV0IGZpbmFsTWVzc2FnZSA9IFwiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkLCBoZXJlIGFyZSB0aGUgcG90ZW50aWFsIGNvbmRpdGlvbnM6XFxuXFxuXCI7XG5cbiAgICAgIGlmIChjb25kaXRpb25zICYmIGNvbmRpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIC8vIFNvcnQgYnkgcHJvYmFiaWxpdHkgYW5kIHRha2UgdG9wIDNcbiAgICAgICAgICBjb25kaXRpb25zLnNvcnQoKGEsIGIpID0+IGIucHJvYmFiaWxpdHkgLSBhLnByb2JhYmlsaXR5KTtcbiAgICAgICAgICBjb25kaXRpb25zLnNsaWNlKDAsIDMpLmZvckVhY2goKGNvbmRpdGlvbjogYW55KSA9PiB7XG4gICAgICAgICAgICAgIGZpbmFsTWVzc2FnZSArPSBgKioke2NvbmRpdGlvbi5uYW1lfSoqOiAkeyAoY29uZGl0aW9uLnByb2JhYmlsaXR5ICogMTAwKS50b0ZpeGVkKDIpfSUgcHJvYmFiaWxpdHkuXFxuYDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmaW5hbE1lc3NhZ2UgKz0gXCJcXG5cXG4qKkRpc2NsYWltZXIqKjogVGhpcyBBSSBhc3Npc3RhbnQgcHJvdmlkZXMgaW5zaWdodHMgYmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHlvdSd2ZSBzaGFyZWQgYW5kIGlzIG5vdCBhIHN1YnN0aXR1dGUgZm9yIHByb2Zlc3Npb25hbCBtZWRpY2FsIGFkdmljZS4gQWx3YXlzIGNvbnN1bHQgYSBxdWFsaWZpZWQgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwgZm9yIGFuIGFjY3VyYXRlIGRpYWdub3NpcyBhbmQgdHJlYXRtZW50IHBsYW4uIFlvdXIgaGVhbHRoIGlzIGltcG9ydGFudCEg8J+pulwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBmaW5hbE1lc3NhZ2UgPSBcIkJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZCwgSSBjb3VsZG4ndCBpZGVudGlmeSBhIHNwZWNpZmljIGNvbmRpdGlvbiBhdCB0aGlzIHRpbWUuIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgQUkgZGlhZ25vc2lzIGlzIG5vdCBhIHN1YnN0aXR1dGUgZm9yIHByb2Zlc3Npb25hbCBtZWRpY2FsIGFkdmljZS4gUGxlYXNlIGNvbnN1bHQgYSBxdWFsaWZpZWQgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwgZm9yIGEgY29tcGxldGUgZGlhZ25vc2lzLiBZb3VyIHdlbGwtYmVpbmcgaXMgb3VyIHByaW9yaXR5LiDwn5mPXCI7XG4gICAgICB9XG4gICAgICBhZGRCb3RNZXNzYWdlKGZpbmFsTWVzc2FnZSk7XG4gIH07XG5cbiAgLy8gRGVmaW5lIGN1cnJlbnRRdWVzdGlvbiBoZXJlIHRvIG1ha2UgaXQgYWNjZXNzaWJsZSBpbiBKU1hcbiAgY29uc3QgY3VycmVudFF1ZXN0aW9uID0gcXVlc3Rpb25zW2N1cnJlbnRTdGVwXTtcblxuICAvLyBDYWxjdWxhdGUgcHJvZ3Jlc3MgZm9yIHRoZSBpbml0aWFsIGZpeGVkIHF1ZXN0aW9ucyBvbmx5XG4gIGNvbnN0IHByb2dyZXNzID0gKChjdXJyZW50U3RlcCArIDEpIC8gcXVlc3Rpb25zLmxlbmd0aCkgKiAxMDBcblxuICAvLyBUZXh0LXRvLVNwZWVjaFxuICBjb25zdCBzcGVha01lc3NhZ2UgPSAodGV4dDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKFwic3BlZWNoU3ludGhlc2lzXCIgaW4gd2luZG93KSB7XG4gICAgICBjb25zdCB1dHRlcmFuY2UgPSBuZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlKHRleHQpXG4gICAgICB1dHRlcmFuY2Uub25zdGFydCA9ICgpID0+IHNldElzU3BlYWtpbmcodHJ1ZSlcbiAgICAgIHV0dGVyYW5jZS5vbmVuZCA9ICgpID0+IHNldElzU3BlYWtpbmcoZmFsc2UpXG4gICAgICBzcGVlY2hTeW50aGVzaXMuc3BlYWsodXR0ZXJhbmNlKVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcIlNwZWVjaCBzeW50aGVzaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIuXCIpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHN0b3BTcGVha2luZyA9ICgpID0+IHtcbiAgICBpZiAoXCJzcGVlY2hTeW50aGVzaXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgIHNwZWVjaFN5bnRoZXNpcy5jYW5jZWwoKVxuICAgICAgc2V0SXNTcGVha2luZyhmYWxzZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTkwMCBmbGV4IGZsZXgtY29sIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICA8SGVhZGVyIC8+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT1cImZsZXgtMSBwdC0xNiBmbGV4XCI+XG4gICAgICAgIHsvKiBDaGF0IEFyZWEgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIGZsZXggZmxleC1jb2xcIj5cbiAgICAgICAgICB7LyogRW5oYW5jZWQgUHJvZ3Jlc3MgQmFyICovfVxuICAgICAgICAgIHtjdXJyZW50U3RlcCA8IHF1ZXN0aW9ucy5sZW5ndGggJiYgIWlzRGlhZ25vc2lzQ29tcGxldGUgPyAoIC8vIE9ubHkgc2hvdyBwcm9ncmVzcyBmb3IgaW5pdGlhbCBxdWVzdGlvbnNcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5BSSBIZWFsdGggQXNzZXNzbWVudDwvaDE+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Qb3dlcmVkIGJ5IGFkdmFuY2VkIG1hY2hpbmUgbGVhcm5pbmc8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+e01hdGgucm91bmQocHJvZ3Jlc3MpfSU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Db21wbGV0ZTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Bc3Nlc3NtZW50IFByb2dyZXNzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRTdGVwICsgMX0gb2Yge3F1ZXN0aW9ucy5sZW5ndGh9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgcm91bmRlZC1mdWxsIGgtMyBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ncmVlbi01MDAgaC0zIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi01MDAgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IHdpZHRoOiBgJHtwcm9ncmVzc30lYCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBpbnNldC0wIGJnLXdoaXRlLzIwIGFuaW1hdGUtcHVsc2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAvLyBEaXNwbGF5IGEgc3RhdHVzIG1lc3NhZ2Ugd2hlbiBpbiBJbmZlcm1lZGljYSBkaWFnbm9zaXMgb3IgZGlhZ25vc2lzIGNvbXBsZXRlXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNiB0cmFuc2l0aW9uLWNvbG9ycyB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5BSSBIZWFsdGggQXNzZXNzbWVudDwvaDE+XG4gICAgICAgICAgICAgICAge2lzRGlhZ25vc2lzQ29tcGxldGUgPyAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+RGlhZ25vc2lzIENvbXBsZXRlISBSZXZpZXcgdGhlIHJlc3VsdHMgYmVsb3cuIOKchTwvcD5cbiAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkNvbnRpbnVpbmcgRGlhZ25vc2lzLi4uIFBsZWFzZSBhbnN3ZXIgdGhlIHF1ZXN0aW9ucy4g8J+UjTwvcD5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cblxuICAgICAgICAgIHsvKiBNZXNzYWdlcyAqL31cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBvdmVyZmxvdy15LWF1dG8gcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvIHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICB7bWVzc2FnZXMubWFwKChtZXNzYWdlKSA9PiAoXG4gICAgICAgICAgICAgICAgPGRpdiBrZXk9e21lc3NhZ2UuaWR9IGNsYXNzTmFtZT17YGZsZXggJHttZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCIgPyBcImp1c3RpZnktZW5kXCIgOiBcImp1c3RpZnktc3RhcnRcIn1gfT5cbiAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgbWF4LXctMnhsICR7bWVzc2FnZS5zZW5kZXIgPT09IFwidXNlclwiID8gXCJmbGV4LXJvdy1yZXZlcnNlIHNwYWNlLXgtcmV2ZXJzZVwiIDogXCJcIn1gfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgZmxleC1zaHJpbmstMCB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZyAke1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09IFwidXNlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWdyZWVuLTUwMCB0by1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09IFwidXNlclwiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPFVzZXIgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNiBweS00IHJvdW5kZWQtMnhsIHNoYWRvdy1sZyBib3JkZXIgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNoYWRvdy14bCAke1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZS5zZW5kZXIgPT09IFwidXNlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gXCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tYmx1ZS02MDAgdGV4dC13aGl0ZSBib3JkZXItYmx1ZS0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIENvbmRpdGlvbmFsIHJlbmRlcmluZyBiYXNlZCBvbiBtZXNzYWdlLmNvbnRlbnQgdHlwZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7dHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBwbGFpbiB0ZXh0IG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gbGVhZGluZy1yZWxheGVkXCI+e21lc3NhZ2UuY29udGVudH08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbmRlciBzdHJ1Y3R1cmVkIEluZmVybWVkaWNhIHF1ZXN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgYW4gSUlGRSBmb3IgcHJvcGVyIHR5cGUgbmFycm93aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXN0aW9uQ29udGVudDogSW5mZXJtZWRpY2FRdWVzdGlvbiA9IG1lc3NhZ2UuY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIE1haW4gcXVlc3Rpb24gdGV4dCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBsZWFkaW5nLXJlbGF4ZWQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbkNvbnRlbnQudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFJlbmRlciBpdGVtcyBhbmQgdGhlaXIgY2hvaWNlcyBpZiBhdmFpbGFibGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb25Db250ZW50Lml0ZW1zICYmIHF1ZXN0aW9uQ29udGVudC5pdGVtcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbkNvbnRlbnQuaXRlbXMubWFwKChpdGVtOiBJbmZlcm1lZGljYVF1ZXN0aW9uSXRlbSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEl0ZW0gbmFtZSAoZS5nLiwgXCJWZXJ5IHNlbnNpdGl2ZSB0byBsaWdodFwiKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0ubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENob2ljZXMgZm9yIGVhY2ggaXRlbSAoWWVzLCBObywgRG9uJ3Qga25vdyBidXR0b25zKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLmNob2ljZXMubWFwKChjaG9pY2U6IEluZmVybWVkaWNhQ2hvaWNlKSA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRml4IDM6IFVwZGF0ZSBidXR0b24gb25DbGljayBoYW5kbGVycyB0byBkaWZmZXJlbnRpYXRlIHF1ZXN0aW9uIHR5cGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVlc3Rpb25Db250ZW50LnR5cGUgPT09ICdncm91cGVkX211bHRpcGxlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgbG9jYWwgc3RhdGUgLSBOTyBBUEkgY2FsbCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZW1wR3JvdXBlZFNlbGVjdGlvbnMoKHByZXYpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaXRlbS5pZF06IGNob2ljZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBzaW5nbGUvZ3JvdXBlZF9zaW5nbGUgcXVlc3Rpb25zIC0gaW1tZWRpYXRlIEFQSSBjYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVTZW5kTWVzc2FnZShgJHtpdGVtLmlkfToke2Nob2ljZS5pZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRyYW5zaXRpb24tY29sb3JzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtxdWVzdGlvbkNvbnRlbnQudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnICYmIHRlbXBHcm91cGVkU2VsZWN0aW9uc1tpdGVtLmlkXSA9PT0gY2hvaWNlLmlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJ2JnLWJsdWUtNjAwIHRleHQtd2hpdGUgZGFyazpiZy1ibHVlLTUwMCcgLy8gSGlnaGxpZ2h0IHNlbGVjdGVkIGZvciBncm91cGVkX211bHRpcGxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyOmJnLWJsdWUtNTAwIGhvdmVyOnRleHQtd2hpdGUgZGFyazpob3ZlcjpiZy1ibHVlLTYwMGB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Nob2ljZS5sYWJlbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIFwiQ29uZmlybSBTZWxlY3Rpb25zXCIgYnV0dG9uIGZvciBncm91cGVkX211bHRpcGxlIHF1ZXN0aW9ucyAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9uQ29udGVudC50eXBlID09PSAnZ3JvdXBlZF9tdWx0aXBsZScgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHcm91cGVkTXVsdGlwbGVDb25maXJtfSAvLyBGaXggNDogRW5zdXJlIGhhbmRsZUdyb3VwZWRNdWx0aXBsZUNvbmZpcm0gaXMgdGhlIE9OTFkgcGF0aCBmb3IgZ3JvdXBlZF9tdWx0aXBsZSBBUEkgY2FsbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ9e09iamVjdC5rZXlzKHRlbXBHcm91cGVkU2VsZWN0aW9ucykubGVuZ3RoID09PSAwfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTMgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLXB1cnBsZS01MDAgdGV4dC13aGl0ZSByb3VuZGVkLWZ1bGwgZm9udC1zZW1pYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uZmlybSBTZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSgpXG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyAke21lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIiA/IFwidGV4dC1ibHVlLTEwMFwiIDogXCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwifWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogXCIyLWRpZ2l0XCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gXCJib3RcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAoaXNTcGVha2luZyA/IHN0b3BTcGVha2luZygpIDogc3BlYWtNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbWVzc2FnZS5jb250ZW50IDogbWVzc2FnZS5jb250ZW50LnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtYmx1ZS01MDAgZGFyazpob3Zlcjp0ZXh0LWJsdWUtNDAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1NwZWFraW5nID8gPFZvbHVtZVggY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+IDogPFZvbHVtZTIgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktc3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgbWF4LXctMnhsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tYmx1ZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC02IHB5LTQgcm91bmRlZC0yeGwgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6IFwiMC4xc1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMyBoLTMgYmctcHVycGxlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBhbmltYXRpb25EZWxheTogXCIwLjJzXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRW5oYW5jZWQgSW5wdXQgQXJlYSAqL31cbiAgICAgICAgICB7LyogQ29uZGl0aW9uYWxseSByZW5kZXIgaW5wdXQgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbnZlcnNhdGlvbiAqL31cbiAgICAgICAgICB7KCFjdXJyRGlhZ25vc2lzUXVlc3Rpb25zIHx8IGlzRGlhZ25vc2lzQ29tcGxldGUpID8gKCAvLyBGaXggZm9yIGxpbmUgNjY1XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgICAgey8qIFJlbmRlciB0ZXh0IGlucHV0IGZvciAnc3ltcHRvbXMnIChhbmQgcG90ZW50aWFsbHkgb3RoZXIgdGV4dCB0eXBlcykgb3IgJ2FnZScgKi99XG4gICAgICAgICAgICAgICAgICAgICAgeyhjdXJyZW50U3RlcCA8IHF1ZXN0aW9ucy5sZW5ndGggJiYgKGN1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJ0ZXh0XCIgfHwgY3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiKSkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPXtjdXJyZW50UXVlc3Rpb24/LnR5cGUgPT09IFwiYWdlXCIgPyBcIm51bWJlclwiIDogXCJ0ZXh0XCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbj17Y3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiID8gMCA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e2N1cnJlbnRJbnB1dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRDdXJyZW50SW5wdXQoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleURvd249eyhlKSA9PiBlLmtleSA9PT0gXCJFbnRlclwiICYmIGhhbmRsZVNlbmRNZXNzYWdlKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPXtjdXJyZW50UXVlc3Rpb24/LnR5cGUgPT09IFwiYWdlXCIgPyBcIkVudGVyIHlvdXIgYWdlIGluIHllYXJzXCIgOiBcIlR5cGUgeW91ciByZXNwb25zZS4uLlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtNiBweS00IGJvcmRlciBib3JkZXItZ3JheS0zMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC0yeGwgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci10cmFuc3BhcmVudCBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXshY3VycmVudElucHV0LnRyaW0oKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC04IHB5LTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWdyZWVuLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIGhvdmVyOnNoYWRvdy1sZyBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6c2NhbGUtMTA1IGRpc2FibGVkOmhvdmVyOnNjYWxlLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFNlbmQgY2xhc3NOYW1lPVwiaC01IHctNVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgc2VsZWN0IGJ1dHRvbnMgZm9yICdzZXhfaW5wdXQnICovfVxuICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RlcCA8IHF1ZXN0aW9ucy5sZW5ndGggJiYgY3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcInNlbGVjdFwiICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFF1ZXN0aW9uLm9wdGlvbnM/Lm1hcCgob3B0aW9uLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VuZE1lc3NhZ2Uob3B0aW9uKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicC02IHRleHQtbGVmdCBib3JkZXItMiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS02MDAgcm91bmRlZC0yeGwgaG92ZXI6Ym9yZGVyLWJsdWUtNTAwIGRhcms6aG92ZXI6Ym9yZGVyLWJsdWUtNDAwIGhvdmVyOmJnLWJsdWUtNTAgZGFyazpob3ZlcjpiZy1ibHVlLTkwMC8yMCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6c2hhZG93LWxnIGhvdmVyOnNjYWxlLTEwNSBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57b3B0aW9ufTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogV2hlbiBkaWFnbm9zaXMgaXMgY29tcGxldGUsIG9mZmVyIHRvIHN0YXJ0IGEgbmV3IGRpYWdub3NpcyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7aXNEaWFnbm9zaXNDb21wbGV0ZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbXQtNlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzZXQgYWxsIHJlbGV2YW50IHN0YXRlcyB0byByZXN0YXJ0IHRoZSBwcm9jZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJBZ2UobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFVzZXJTZXgobnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldE1lc3NhZ2VzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudElucHV0KFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyZW50U3RlcCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc1NwZWFraW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGlhZ25vc2lzUmVzdWx0KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRFdmlkZW5jZShbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmlld0lkKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9ucyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRGlhZ25vc2lzQ29tcGxldGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUZW1wR3JvdXBlZFNlbGVjdGlvbnMoe30pOyAvLyBSZXNldCB0ZW1wb3Jhcnkgc2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZS1pbml0aWF0ZSBpbml0aWFsIGJvdCBtZXNzYWdlIGZvciBhIGZyZXNoIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkhlbGxvISBJJ20geW91ciBIZWFsdGhCdWRkeSBBSSBhc3Npc3RhbnQuIEknbGwgaGVscCBhbmFseXplIHlvdXIgc3ltcHRvbXMgYW5kIHByb3ZpZGUgcGVyc29uYWxpemVkIGhlYWx0aCBpbnNpZ2h0cy4gTGV0J3Mgc3RhcnQgd2l0aCBhIGZldyBxdWVzdGlvbnMuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShxdWVzdGlvbnNbMF0ucXVlc3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC04IHB5LTQgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MDAgdG8tcGluay01MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNjYWxlLTEwNVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU3RhcnQgYSBOZXcgRGlhZ25vc2lzIPCflIRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIC8vIElmIEluZmVybWVkaWNhIGlzIGN1cnJlbnRseSBhc2tpbmcgcXVlc3Rpb25zIChjdXJyRGlhZ25vc2lzUXVlc3Rpb25zIGlzIG5vdCBudWxsL2ZhbHNlIGFuZCBub3QgY29tcGxldGUpLFxuICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBzaG93IGEgZ2VuZXJpYyBpbnB1dCBib3guIFRoZSB1c2VyIGludGVyYWN0cyB3aXRoIHRoZSBidXR0b25zIGluIHRoZSBjaGF0IG1lc3NhZ2UuXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICBQbGVhc2Ugc2VsZWN0IGFuIG9wdGlvbiBmcm9tIHRoZSBxdWVzdGlvbiBhYm92ZSB0byBjb250aW51ZSB0aGUgZGlhZ25vc2lzLiDwn5GGXG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFbmhhbmNlZCBUaXBzIFNpZGViYXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1sIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwLTYgaGlkZGVuIGxnOmJsb2NrIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGlja3kgdG9wLTI0IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgbWItNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1ncmFkaWVudC10by1yIGZyb20teWVsbG93LTQwMCB0by1vcmFuZ2UtNTAwIHJvdW5kZWQteGxcIj5cbiAgICAgICAgICAgICAgICA8TGlnaHRidWxiIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRleHQtbGdcIj5IZWxwZnVsIFRpcHM8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBEaXNwbGF5IHRpcHMgZm9yIGN1cnJlbnQgcXVlc3Rpb24gKi99XG4gICAgICAgICAgICB7Y3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIHF1ZXN0aW9uc1tjdXJyZW50U3RlcF0/LnRpcHMgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIHtxdWVzdGlvbnNbY3VycmVudFN0ZXBdLnRpcHMubWFwKCh0aXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zIHAtNCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJsdWUtMTAwIGRhcms6Ym9yZGVyLWJsdWUtODAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmVlbi01MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIGxlYWRpbmctcmVsYXhlZFwiPnt0aXB9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshKGN1cnJlbnRTdGVwIDwgcXVlc3Rpb25zLmxlbmd0aCAmJiBxdWVzdGlvbnNbY3VycmVudFN0ZXBdPy50aXBzKSAmJiAoXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgcC00IGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtZ3JlZW4tNTAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5zd2VyIGFsbCBxdWVzdGlvbnMgYWNjdXJhdGVseSBmb3IgdGhlIGJlc3QgZGlhZ25vc2lzLlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyBwLTQgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ibHVlLTEwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmVlbi01MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB1bnN1cmUsIHNlbGVjdCBcIkRvbid0IGtub3dcIiBvciBcIlVua25vd25cIi5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1ncmVlbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMjAgZGFyazp0by1ncmVlbi05MDAvMjAgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMTAwIG1iLTMgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwiaC01IHctNSBtci0yIHRleHQtZ3JlZW4tNTAwXCIgLz5cbiAgICAgICAgICAgICAgICBQcml2YWN5ICYgU2VjdXJpdHlcbiAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMCBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICBZb3VyIGhlYWx0aCBpbmZvcm1hdGlvbiBpcyBlbmNyeXB0ZWQgd2l0aCBtaWxpdGFyeS1ncmFkZSBzZWN1cml0eS4gV2UgbmV2ZXIgc2hhcmUgeW91ciBkYXRhIHdpdGggdGhpcmRcbiAgICAgICAgICAgICAgICBwYXJ0aWVzIGFuZCBjb21wbHkgd2l0aCBhbGwgSElQQUEgcmVndWxhdGlvbnMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwIHRvLXBpbmstNTAgZGFyazpmcm9tLXB1cnBsZS05MDAvMjAgZGFyazp0by1waW5rLTkwMC8yMCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMCBtYi0zXCI+QUkgQWNjdXJhY3k8L2g0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXB1cnBsZS02MDAgZGFyazp0ZXh0LXB1cnBsZS00MDAgbWItMlwiPjk1JTwvZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTgwMCBkYXJrOnRleHQtcHVycGxlLTIwMFwiPlxuICAgICAgICAgICAgICAgIE91ciBBSSBoYXMgYmVlbiB0cmFpbmVkIG9uIG1pbGxpb25zIG9mIG1lZGljYWwgY2FzZXMgYW5kIG1haW50YWlucyBhIGhpZ2ggYWNjdXJhY3kgcmF0ZSBpbiBzeW1wdG9tXG4gICAgICAgICAgICAgICAgYW5hbHlzaXMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbWFpbj5cblxuICAgICAgPEZvb3RlciAvPlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUm91dGVyIiwiSGVhZGVyIiwiRm9vdGVyIiwiU2VuZCIsIkJvdCIsIlVzZXIiLCJMaWdodGJ1bGIiLCJDaGVja0NpcmNsZSIsIlZvbHVtZTIiLCJWb2x1bWVYIiwidjQiLCJ1dWlkdjQiLCJwYXJzZUpzb25SZXNwb25zZSIsInJlc3BvbnNlIiwidGV4dCIsIm9rIiwiZXJyb3JEYXRhIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb25FcnJvciIsImVycm9yIiwiY29uc29sZSIsIkNoYXRib3RQYWdlIiwiY3VycmVudFF1ZXN0aW9uIiwicXVlc3Rpb25zIiwicm91dGVyIiwidXNlckFnZSIsInNldFVzZXJBZ2UiLCJ1c2VyU2V4Iiwic2V0VXNlclNleCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjdXJyZW50SW5wdXQiLCJzZXRDdXJyZW50SW5wdXQiLCJjdXJyZW50U3RlcCIsInNldEN1cnJlbnRTdGVwIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImlzU3BlYWtpbmciLCJzZXRJc1NwZWFraW5nIiwiZGlhZ25vc2lzUmVzdWx0Iiwic2V0RGlhZ25vc2lzUmVzdWx0IiwiZXZpZGVuY2UiLCJzZXRFdmlkZW5jZSIsIm1lc3NhZ2VzRW5kUmVmIiwiaW50ZXJ2aWV3SWQiLCJzZXRJbnRlcnZpZXdJZCIsImN1cnJEaWFnbm9zaXNRdWVzdGlvbnMiLCJzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zIiwiY3VyckRpYWdub3Npc0NvbmRpdGlvbnMiLCJzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9ucyIsImlzRGlhZ25vc2lzQ29tcGxldGUiLCJzZXRJc0RpYWdub3Npc0NvbXBsZXRlIiwidGVtcEdyb3VwZWRTZWxlY3Rpb25zIiwic2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zIiwiaWQiLCJxdWVzdGlvbiIsInR5cGUiLCJ0aXBzIiwib3B0aW9ucyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJhZGRCb3RNZXNzYWdlIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImdlbmVyYXRlVW5pcXVlSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsImNvbnRlbnQiLCJwcmV2Iiwic2VuZGVyIiwidGltZXN0YW1wIiwiYWRkVXNlck1lc3NhZ2UiLCJoYW5kbGVHcm91cGVkTXVsdGlwbGVDb25maXJtIiwibmV3RXZpZGVuY2VUb0FkZCIsIk9iamVjdCIsImVudHJpZXMiLCJtYXAiLCJjaG9pY2VfaWQiLCJwcmV2RXZpZGVuY2UiLCJmaWx0ZXJlZFByZXZFdmlkZW5jZSIsImZpbHRlciIsIml0ZW0iLCJzb21lIiwibmV3SXRlbSIsImNvbWJpbmVkRXZpZGVuY2UiLCJuZXh0RGlhZ25vc2lzUmVzdWx0IiwiZ2V0RGlhZ25vc2lzIiwic2hvdWxkX3N0b3AiLCJzdHJpbmdpZnkiLCJjb25kaXRpb25zIiwiZGlzcGxheUZpbmFsRGlhZ25vc2lzIiwiZXJyb3JNZXNzYWdlIiwiaGFuZGxlU2VuZE1lc3NhZ2UiLCJpbnB1dCIsInZhbHVlIiwidW5kZWZpbmVkIiwidHJpbSIsImFnZSIsInBhcnNlSW50IiwiaXNOYU4iLCJzZXgiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwicmVzdWx0IiwiZ2V0UGFyc2VSZXN1bHQiLCJBcnJheSIsImlzQXJyYXkiLCJtZW50aW9ucyIsImxvZyIsImluaXRpYWxFdmlkZW5jZSIsIm1lbnRpb24iLCJkaWFnbm9zaXMiLCJwYXJ0cyIsInNwbGl0IiwiaXRlbUlkIiwiY2hvaWNlSWQiLCJuZXdFdmlkZW5jZSIsImN1cnJlbnRFdmlkZW5jZSIsInBheWxvYWQiLCJ1bml0IiwiaW50ZXJ2aWV3X2lkIiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsInJlc3BvbnNlU3RyaW5nIiwiY29udGV4dCIsImluY2x1ZGVfdG9rZW5zIiwiY29ycmVjdF9zcGVsbGluZyIsImNvbmNlcHRfdHlwZXMiLCJmaW5hbE1lc3NhZ2UiLCJzb3J0IiwiYSIsImIiLCJwcm9iYWJpbGl0eSIsInNsaWNlIiwiZm9yRWFjaCIsImNvbmRpdGlvbiIsIm5hbWUiLCJ0b0ZpeGVkIiwicHJvZ3Jlc3MiLCJzcGVha01lc3NhZ2UiLCJ3aW5kb3ciLCJ1dHRlcmFuY2UiLCJTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UiLCJvbnN0YXJ0Iiwib25lbmQiLCJzcGVlY2hTeW50aGVzaXMiLCJzcGVhayIsIndhcm4iLCJzdG9wU3BlYWtpbmciLCJjYW5jZWwiLCJkaXYiLCJjbGFzc05hbWUiLCJtYWluIiwiaDEiLCJwIiwicm91bmQiLCJzcGFuIiwic3R5bGUiLCJ3aWR0aCIsInF1ZXN0aW9uQ29udGVudCIsIml0ZW1zIiwiY2hvaWNlcyIsImNob2ljZSIsImJ1dHRvbiIsIm9uQ2xpY2siLCJsYWJlbCIsImRpc2FibGVkIiwia2V5cyIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJhbmltYXRpb25EZWxheSIsInJlZiIsIm1pbiIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9uS2V5RG93biIsImtleSIsInBsYWNlaG9sZGVyIiwib3B0aW9uIiwiaW5kZXgiLCJoMyIsInRpcCIsImg0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/chatbot/page.tsx\n"));

/***/ })

});