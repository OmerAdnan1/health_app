"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chatbot/page",{

/***/ "(app-pages-browser)/./app/chatbot/page.tsx":
/*!******************************!*\
  !*** ./app/chatbot/page.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatbotPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Header */ \"(app-pages-browser)/./components/Header.jsx\");\n/* harmony import */ var _components_Footer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Footer */ \"(app-pages-browser)/./components/Footer.jsx\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-x.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-2.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lightbulb.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Helper function to safely parse API responses\nconst parseJsonResponse = async (response)=>{\n    try {\n        const text = await response.text();\n        if (!response.ok) {\n            // If response is not OK (e.g., 400, 500), try to parse JSON for error messages\n            try {\n                const errorData = JSON.parse(text);\n                throw new Error(errorData.message || \"API error: \".concat(response.status, \" \").concat(response.statusText));\n            } catch (jsonError) {\n                // If text is not JSON or empty, throw generic error with status\n                throw new Error(\"API error: \".concat(response.status, \" \").concat(response.statusText).concat(text ? \": \".concat(text) : ''));\n            }\n        }\n        // If response is OK, try to parse JSON. If text is empty, return an empty object.\n        return text ? JSON.parse(text) : {};\n    } catch (error) {\n        console.error(\"Error parsing JSON response:\", error);\n        // Re-throw to be caught by the calling function (e.g., getDiagnosis, getParseResult)\n        throw error;\n    }\n};\nfunction ChatbotPage() {\n    var _currentQuestion_options, _questions_currentStep, _questions_currentStep1;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [userAge, setUserAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userSex, setUserSex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentInput, setCurrentInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSpeaking, setIsSpeaking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [diagnosisResult, setDiagnosisResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Raw JSON for debugging if needed\n    ;\n    const [evidence, setEvidence] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [interviewId, setInterviewId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currDiagnosisQuestions, setCurrDiagnosisQuestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Explicitly type\n    ;\n    const [currDiagnosisConditions, setCurrDiagnosisConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isDiagnosisComplete, setIsDiagnosisComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [tempGroupedSelections, setTempGroupedSelections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Initial fixed questions for the bot\n    const questions = [\n        {\n            id: \"age_input\",\n            question: \"Hi. Please tell me your age.\",\n            type: \"age\",\n            tips: [\n                \"Tell your exact age.\",\n                \"Units should be in years.\",\n                \"Do not tell an exaggerated age as it may lead to wrong diagnosis.\"\n            ]\n        },\n        {\n            id: \"sex_input\",\n            question: \"What is your gender?\",\n            type: \"select\",\n            options: [\n                \"male\",\n                \"female\",\n                \"other\"\n            ],\n            tips: [\n                \"Please specify your gender clearly.\",\n                \"If you prefer not to say, select 'other'.\",\n                \"This helps us provide better insights.\"\n            ]\n        },\n        {\n            id: \"symptoms\",\n            question: \"What symptoms are you experiencing? Please describe them in detail.\",\n            type: \"text\",\n            tips: [\n                \"Be specific about location, intensity, and duration.\",\n                \"Mention any triggers you've noticed.\",\n                \"Include associated symptoms.\"\n            ]\n        }\n    ];\n    // Initial bot message on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            if (messages.length === 0) {\n                setTimeout({\n                    \"ChatbotPage.useEffect\": ()=>{\n                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                        setTimeout({\n                            \"ChatbotPage.useEffect\": ()=>{\n                                addBotMessage(questions[0].question);\n                            }\n                        }[\"ChatbotPage.useEffect\"], 1500) // Give user a bit more time after intro\n                        ;\n                    }\n                }[\"ChatbotPage.useEffect\"], 500);\n            }\n        }\n    }[\"ChatbotPage.useEffect\"], []) // Empty dependency array means this runs once on mount\n    ;\n    // Auto-scroll to bottom on new messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatbotPage.useEffect\"], [\n        messages\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Generate unique ID for messages\n    const generateUniqueId = ()=>Date.now() + Math.random();\n    // Add bot message with typing indicator\n    const addBotMessage = (content)=>{\n        setIsTyping(true);\n        setTimeout(()=>{\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: generateUniqueId(),\n                        content,\n                        sender: \"bot\",\n                        timestamp: new Date()\n                    }\n                ]);\n            setIsTyping(false);\n        }, 1000) // Simulate typing delay\n        ;\n    };\n    // Add user message\n    const addUserMessage = (content)=>{\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: generateUniqueId(),\n                    content,\n                    sender: \"user\",\n                    timestamp: new Date()\n                }\n            ]);\n    };\n    // Handles confirmation for grouped_multiple questions\n    const handleGroupedMultipleConfirm = async ()=>{\n        setIsTyping(true);\n        addUserMessage(\"Confirmed selections.\"); // Acknowledge user's confirmation\n        // Construct new evidence from tempGroupedSelections\n        const newEvidenceToAdd = Object.entries(tempGroupedSelections).map((param)=>{\n            let [id, choice_id] = param;\n            return {\n                id,\n                choice_id\n            };\n        });\n        // Clear temporary selections\n        setTempGroupedSelections({});\n        // Update the main evidence state and then call diagnosis\n        setEvidence((prevEvidence)=>{\n            // Filter out any existing evidence for these items before adding new ones\n            const filteredPrevEvidence = prevEvidence.filter((item)=>!newEvidenceToAdd.some((newItem)=>newItem.id === item.id));\n            const combinedEvidence = [\n                ...filteredPrevEvidence,\n                ...newEvidenceToAdd\n            ];\n            // Call diagnosis with the combined evidence\n            setTimeout(async ()=>{\n                try {\n                    const nextDiagnosisResult = await getDiagnosis(combinedEvidence);\n                    if (!nextDiagnosisResult) {\n                        throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                    }\n                    if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                        throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                    }\n                    setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2));\n                    setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                    setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                    setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                    setIsTyping(false);\n                    if (nextDiagnosisResult.should_stop) {\n                        displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                    } else if (nextDiagnosisResult.question) {\n                        addBotMessage(nextDiagnosisResult.question);\n                    } else {\n                        addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                    }\n                } catch (error) {\n                    console.error(\"Error during grouped_multiple diagnosis confirmation:\", error);\n                    const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                    addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                    setIsTyping(false);\n                }\n            }, 1000); // Simulate processing time\n            return combinedEvidence; // Return the new state\n        });\n    };\n    // Main message handling logic\n    const handleSendMessage = async (input)=>{\n        const value = input !== undefined ? input : currentInput;\n        if (!value.trim()) return;\n        // Clear currentInput immediately for all types of responses\n        setCurrentInput(\"\");\n        // --- Handling Initial Fixed Questions (Age, Sex) ---\n        // This block runs if we are still within the 'questions' array flow AND NOT on the last question (symptoms)\n        if (currentStep < questions.length - 1) {\n            const currentQuestion = questions[currentStep];\n            // Add user message for these initial, user-typed/selected inputs\n            addUserMessage(value);\n            if (currentQuestion.id === \"age_input\") {\n                const age = parseInt(value, 10);\n                if (isNaN(age) || age <= 0 || age > 120) {\n                    addBotMessage(\"Please enter a valid age in years (e.g., 30).\");\n                    return;\n                }\n                setUserAge(age);\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            } else if (currentQuestion.id === \"sex_input\") {\n                const sex = value.toLowerCase();\n                if (![\n                    \"male\",\n                    \"female\",\n                    \"other\"\n                ].includes(sex)) {\n                    addBotMessage(\"Please select from 'male', 'female', or 'other'.\");\n                    return;\n                }\n                setUserSex(sex);\n                if (!interviewId) {\n                    setInterviewId((0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()); // Initialize interview ID\n                }\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            }\n        } else if (currentStep === questions.length - 1 && questions[currentStep].id === \"symptoms\") {\n            const currentQuestion = questions[currentStep];\n            // Add user message for symptoms description\n            addUserMessage(value);\n            if (value.length < 10) {\n                addBotMessage(\"Please provide a more detailed description of your symptoms (at least 10 characters).\");\n                return;\n            }\n            try {\n                addBotMessage(\"Thank you for sharing your symptoms. Please wait while I analyze them.\");\n                setIsTyping(true);\n                // Fetch parse result\n                const result = await getParseResult(value);\n                if (!result || !Array.isArray(result.mentions)) {\n                    throw new Error(\"Received an invalid response format for symptom analysis. Please try again.\");\n                }\n                console.log(\"Parse result:\", result);\n                const initialEvidence = result.mentions.map((mention)=>({\n                        id: mention.id,\n                        choice_id: mention.choice_id\n                    }));\n                // NEW CHECK HERE: If no symptoms were parsed\n                if (initialEvidence.length === 0) {\n                    addBotMessage(\"I couldn't identify any symptoms from your description. Could you please rephrase or provide more details? For example, 'I have a headache and a fever.'\");\n                    setIsTyping(false);\n                    return; // Stop here, don't call getDiagnosis\n                }\n                setEvidence(initialEvidence); // This updates the state, but we don't rely on it for the immediate API call\n                // Pass initialEvidence directly to getDiagnosis to avoid state update timing issues\n                const diagnosis = await getDiagnosis(initialEvidence);\n                if (!diagnosis) {\n                    throw new Error(\"No diagnosis data received from the API. The server might be busy or experienced an error.\");\n                }\n                // If diagnosis is not complete, it MUST provide a question\n                if (diagnosis.should_stop === false && !diagnosis.question) {\n                    throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                }\n                console.log(\"Initial diagnosis result:\", diagnosis);\n                setDiagnosisResult(JSON.stringify(diagnosis, null, 2)); // Store raw result for debugging\n                setCurrDiagnosisConditions(diagnosis.conditions || []);\n                setIsDiagnosisComplete(diagnosis.should_stop);\n                setCurrDiagnosisQuestions(diagnosis.question || null);\n                setIsTyping(false);\n                setCurrentStep(currentStep + 1);\n                if (diagnosis.should_stop) {\n                    displayFinalDiagnosis(diagnosis.conditions);\n                } else if (diagnosis.question) {\n                    addBotMessage(diagnosis.question); // Ask the first Infermedica question\n                } else {\n                    addBotMessage(\"The diagnosis process encountered an unexpected state. Please consult a healthcare professional.\");\n                }\n            } catch (error) {\n                console.error(\"Error during initial diagnosis process:\", error);\n                const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                setIsTyping(false);\n            }\n            return; // Exit after handling symptoms\n        }\n        // --- Handling Infermedica Diagnosis Questions ---\n        // This block runs when we are past the initial fixed questions AND\n        // there's an active diagnosis question from Infermedica AND it's not complete yet.\n        if (currDiagnosisQuestions && !isDiagnosisComplete) {\n            // For Infermedica choice buttons, the interaction is the answer, no need for addUserMessage\n            const parts = value.split(':');\n            if (parts.length === 2) {\n                const itemId = parts[0];\n                const choiceId = parts[1];\n                // Basic validation for choiceId\n                if (![\n                    \"present\",\n                    \"absent\",\n                    \"unknown\"\n                ].includes(choiceId)) {\n                    addBotMessage(\"Invalid answer. Please select one of the provided options.\");\n                    return;\n                }\n                // Fix 1: Differentiate between question types\n                // If it's a grouped_multiple, only update local state, don't call API here.\n                if (currDiagnosisQuestions.type === 'grouped_multiple') {\n                    setTempGroupedSelections((prev)=>({\n                            ...prev,\n                            [itemId]: choiceId\n                        }));\n                    return; // Exit early, wait for confirm button\n                }\n                // For single or grouped_single questions, proceed with immediate API call\n                // Fix 2: Move API call logic outside of setEvidence functional update\n                const newEvidence = [\n                    ...evidence.filter((item)=>item.id !== itemId),\n                    {\n                        id: itemId,\n                        choice_id: choiceId\n                    }\n                ];\n                setEvidence(newEvidence); // Update state\n                setIsTyping(true);\n                setTimeout(async ()=>{\n                    try {\n                        const nextDiagnosisResult = await getDiagnosis(newEvidence); // Pass newEvidence here\n                        if (!nextDiagnosisResult) {\n                            throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                        }\n                        if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                            throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                        }\n                        setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2)); // Store raw result\n                        setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                        setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                        setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                        setIsTyping(false);\n                        if (nextDiagnosisResult.should_stop) {\n                            displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                        } else if (nextDiagnosisResult.question) {\n                            addBotMessage(nextDiagnosisResult.question);\n                        } else {\n                            addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                        }\n                    } catch (error) {\n                        console.error(\"Error during subsequent diagnosis:\", error);\n                        const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                        addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                        setIsTyping(false);\n                    }\n                }, 1000);\n            } else {\n                // This is a free-text input while Infermedica questions are active\n                addBotMessage(\"Please use the provided buttons to answer the health questions. Typing free-text is not supported during this phase.\");\n            }\n        } else if (isDiagnosisComplete) {\n            addBotMessage(\"The diagnosis is complete. Please click 'Start a New Diagnosis' if you wish to begin a new assessment. 🔄\");\n        } else {\n            // This should not happen, but if it does, we handle it gracefully\n            addBotMessage(\"An unexpected state occurred. Please try again or refresh the page.\");\n        }\n    };\n    // Infermedica API calls\n    const getDiagnosis = async (currentEvidence)=>{\n        if (userAge === null || userSex === null || currentEvidence.length === 0) {\n            throw new Error(\"Diagnosis prerequisites (age, sex, or symptoms) are missing. Cannot proceed with diagnosis.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            evidence: currentEvidence,\n            interview_id: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            console.log(\"DEBUG: Sending payload to /diagnosis:\", JSON.stringify(payload, null, 2));\n            const res = await fetch(\"http://localhost:5000/api/infermedica/diagnosis\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /diagnosis failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    const getParseResult = async (responseString)=>{\n        if (userAge === null || userSex === null) {\n            throw new Error(\"Parsing prerequisites (age or sex) are missing. Cannot parse symptoms.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            text: responseString,\n            context: [],\n            include_tokens: true,\n            correct_spelling: true,\n            concept_types: [\n                \"symptom\"\n            ],\n            interviewId: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            const res = await fetch(\"http://localhost:5000/api/infermedica/parse\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /parse failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    // Displays the final diagnosis message\n    const displayFinalDiagnosis = (conditions)=>{\n        let finalMessage = \"Based on the information provided, here are the potential conditions:\\n\\n\";\n        if (conditions && conditions.length > 0) {\n            // Sort by probability and take top 3\n            conditions.sort((a, b)=>b.probability - a.probability);\n            conditions.slice(0, 3).forEach((condition)=>{\n                finalMessage += \"**\".concat(condition.name, \"**: \").concat((condition.probability * 100).toFixed(2), \"% probability.\\n\");\n            });\n            finalMessage += \"\\n\\n**Disclaimer**: This AI assistant provides insights based on the information you've shared and is not a substitute for professional medical advice. Always consult a qualified healthcare professional for an accurate diagnosis and treatment plan. Your health is important! 🩺\";\n        } else {\n            finalMessage = \"Based on the information provided, I couldn't identify a specific condition at this time. It's important to remember that AI diagnosis is not a substitute for professional medical advice. Please consult a qualified healthcare professional for a complete diagnosis. Your well-being is our priority. 🙏\";\n        }\n        addBotMessage(finalMessage);\n    };\n    // Define currentQuestion here to make it accessible in JSX\n    const currentQuestion = questions[currentStep];\n    // Calculate progress for the initial fixed questions only\n    const progress = (currentStep + 1) / questions.length * 100;\n    // Text-to-Speech\n    const speakMessage = (text)=>{\n        if (\"speechSynthesis\" in window) {\n            const utterance = new SpeechSynthesisUtterance(text);\n            utterance.onstart = ()=>setIsSpeaking(true);\n            utterance.onend = ()=>setIsSpeaking(false);\n            speechSynthesis.speak(utterance);\n        } else {\n            console.warn(\"Speech synthesis not supported in this browser.\");\n        }\n    };\n    const stopSpeaking = ()=>{\n        if (\"speechSynthesis\" in window) {\n            speechSynthesis.cancel();\n            setIsSpeaking(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 539,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 pt-16 flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex flex-col\",\n                        children: [\n                            currentStep < questions.length && !isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                                            children: \"AI Health Assessment\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 550,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-600 dark:text-gray-400\",\n                                                            children: \"Powered by advanced machine learning\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 551,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 549,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-right\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-3xl font-bold text-blue-600 dark:text-blue-400\",\n                                                            children: [\n                                                                Math.round(progress),\n                                                                \"%\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 554,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                                            children: \"Complete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 555,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 553,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 548,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                                                    children: \"Assessment Progress\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 560,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                    children: [\n                                                        currentStep + 1,\n                                                        \" of \",\n                                                        questions.length\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 561,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 559,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500 relative overflow-hidden\",\n                                                style: {\n                                                    width: \"\".concat(progress, \"%\")\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute inset-0 bg-white/20 animate-pulse\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 571,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 567,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 566,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 547,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 546,\n                                columnNumber: 13\n                            }, this) : // Display a status message when in Infermedica diagnosis or diagnosis complete\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                        children: \"AI Health Assessment\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 579,\n                                        columnNumber: 17\n                                    }, this),\n                                    isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Diagnosis Complete! Review the results below. ✅\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 581,\n                                        columnNumber: 21\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Continuing Diagnosis... Please answer the questions. \\uD83D\\uDD0D\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 583,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 578,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto space-y-6\",\n                                    children: [\n                                        messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat(message.sender === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start space-x-3 max-w-2xl \".concat(message.sender === \"user\" ? \"flex-row-reverse space-x-reverse\" : \"\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-lg \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600\" : \"bg-gradient-to-r from-green-500 to-blue-500\"),\n                                                            children: message.sender === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 604,\n                                                                columnNumber: 25\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 606,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 596,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"px-6 py-4 rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-200\" : \"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200\"),\n                                                            children: [\n                                                                typeof message.content === \"string\" ? // Render plain text message\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm leading-relaxed\",\n                                                                    children: message.content\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 619,\n                                                                    columnNumber: 25\n                                                                }, this) : // Render structured Infermedica question\n                                                                // Use an IIFE for proper type narrowing\n                                                                (()=>{\n                                                                    const questionContent = message.content;\n                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                className: \"text-sm font-semibold leading-relaxed mb-2\",\n                                                                                children: questionContent.text\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 628,\n                                                                                columnNumber: 37\n                                                                            }, this),\n                                                                            questionContent.items && questionContent.items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                className: \"space-y-3 mt-2\",\n                                                                                children: [\n                                                                                    questionContent.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                            className: \"border-t border-gray-200 dark:border-gray-700 pt-3\",\n                                                                                            children: [\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                    className: \"text-sm font-medium text-gray-800 dark:text-gray-200 mb-2\",\n                                                                                                    children: item.name\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                    lineNumber: 638,\n                                                                                                    columnNumber: 53\n                                                                                                }, this),\n                                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                    className: \"flex flex-wrap gap-2\",\n                                                                                                    children: item.choices.map((choice)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                            // Fix 3: Update button onClick handlers to differentiate question types\n                                                                                                            onClick: ()=>{\n                                                                                                                if (questionContent.type === 'grouped_multiple') {\n                                                                                                                    // Only update local state - NO API call here\n                                                                                                                    setTempGroupedSelections((prev)=>({\n                                                                                                                            ...prev,\n                                                                                                                            [item.id]: choice.id\n                                                                                                                        }));\n                                                                                                                } else {\n                                                                                                                    // For single/grouped_single questions - immediate API call\n                                                                                                                    handleSendMessage(\"\".concat(item.id, \":\").concat(choice.id));\n                                                                                                                }\n                                                                                                            },\n                                                                                                            className: \"px-4 py-2 rounded-full text-xs font-medium transition-colors\\n                                                                            \".concat(questionContent.type === 'grouped_multiple' && tempGroupedSelections[item.id] === choice.id ? 'bg-blue-600 text-white dark:bg-blue-500' // Highlight selected for grouped_multiple\n                                                                                                             : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300', \"\\n                                                                            hover:bg-blue-500 hover:text-white dark:hover:bg-blue-600\"),\n                                                                                                            children: choice.label\n                                                                                                        }, choice.id, false, {\n                                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                            lineNumber: 644,\n                                                                                                            columnNumber: 61\n                                                                                                        }, this))\n                                                                                                }, void 0, false, {\n                                                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                    lineNumber: 642,\n                                                                                                    columnNumber: 53\n                                                                                                }, this)\n                                                                                            ]\n                                                                                        }, item.id, true, {\n                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                            lineNumber: 636,\n                                                                                            columnNumber: 49\n                                                                                        }, this)),\n                                                                                    questionContent.type === 'grouped_multiple' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"mt-4 text-center\",\n                                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                            onClick: handleGroupedMultipleConfirm,\n                                                                                            disabled: Object.keys(tempGroupedSelections).length === 0,\n                                                                                            className: \"px-6 py-3 bg-gradient-to-r from-blue-500 to-purple-500 text-white rounded-full font-semibold hover:shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                                                                            children: \"Confirm Selections\"\n                                                                                        }, void 0, false, {\n                                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                            lineNumber: 675,\n                                                                                            columnNumber: 53\n                                                                                        }, this)\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                        lineNumber: 674,\n                                                                                        columnNumber: 49\n                                                                                    }, this)\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 634,\n                                                                                columnNumber: 41\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                        lineNumber: 626,\n                                                                        columnNumber: 33\n                                                                    }, this);\n                                                                })(),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between mt-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs \".concat(message.sender === \"user\" ? \"text-blue-100\" : \"text-gray-500 dark:text-gray-400\"),\n                                                                            children: message.timestamp.toLocaleTimeString([], {\n                                                                                hour: \"2-digit\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 693,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        message.sender === \"bot\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>isSpeaking ? stopSpeaking() : speakMessage(typeof message.content === \"string\" ? message.content : message.content.text),\n                                                                            className: \"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors\",\n                                                                            children: isSpeaking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 705,\n                                                                                columnNumber: 43\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 705,\n                                                                                columnNumber: 77\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 699,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 692,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 609,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 593,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, message.id, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 592,\n                                                columnNumber: 17\n                                            }, this)),\n                                        isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-start\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start space-x-3 max-w-2xl\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"h-5 w-5 text-white\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 718,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 717,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-6 py-4 rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex space-x-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-blue-500 rounded-full animate-bounce\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 722,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-green-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.1s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 723,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-purple-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.2s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 727,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 721,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 720,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 716,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 715,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 736,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 590,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 589,\n                                columnNumber: 11\n                            }, this),\n                            !currDiagnosisQuestions || isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        currentStep < questions.length && ((currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"text\" || (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex space-x-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 relative\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"number\" : \"text\",\n                                                        min: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? 0 : undefined,\n                                                        value: currentInput,\n                                                        onChange: (e)=>setCurrentInput(e.target.value),\n                                                        onKeyDown: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                                                        placeholder: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"Enter your age in years\" : \"Type your response...\",\n                                                        className: \"w-full px-6 py-4 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 749,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 748,\n                                                    columnNumber: 31\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(),\n                                                    disabled: !currentInput.trim(),\n                                                    className: \"px-8 py-4 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-2xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        className: \"h-5 w-5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 764,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 759,\n                                                    columnNumber: 31\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 747,\n                                            columnNumber: 27\n                                        }, this),\n                                        currentStep < questions.length && (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"select\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                                            children: (_currentQuestion_options = currentQuestion.options) === null || _currentQuestion_options === void 0 ? void 0 : _currentQuestion_options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(option),\n                                                    className: \"p-6 text-left border-2 border-gray-200 dark:border-gray-600 rounded-2xl hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: option\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 778,\n                                                        columnNumber: 39\n                                                    }, this)\n                                                }, index, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 773,\n                                                    columnNumber: 35\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 771,\n                                            columnNumber: 27\n                                        }, this),\n                                        isDiagnosisComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center mt-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    // Reset all relevant states to restart the process\n                                                    setUserAge(null);\n                                                    setUserSex(null);\n                                                    setMessages([]);\n                                                    setCurrentInput(\"\");\n                                                    setCurrentStep(0);\n                                                    setIsTyping(false);\n                                                    setIsSpeaking(false);\n                                                    setDiagnosisResult(null);\n                                                    setEvidence([]);\n                                                    setInterviewId(null);\n                                                    setCurrDiagnosisQuestions(null);\n                                                    setCurrDiagnosisConditions([]);\n                                                    setIsDiagnosisComplete(false);\n                                                    setTempGroupedSelections({}); // Reset temporary selections\n                                                    // Re-initiate initial bot message for a fresh start\n                                                    setTimeout(()=>{\n                                                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                                                        setTimeout(()=>{\n                                                            addBotMessage(questions[0].question);\n                                                        }, 1000);\n                                                    }, 500);\n                                                },\n                                                className: \"px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\",\n                                                children: \"Start a New Diagnosis \\uD83D\\uDD04\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 787,\n                                                columnNumber: 31\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 786,\n                                            columnNumber: 27\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 744,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 743,\n                                columnNumber: 15\n                            }, this) : // If Infermedica is currently asking questions (currDiagnosisQuestions is not null/false and not complete),\n                            // we don't show a generic input box. The user interacts with the buttons in the chat message.\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 text-center text-gray-500 dark:text-gray-400\",\n                                children: \"Please select an option from the question above to continue the diagnosis. \\uD83D\\uDC46\"\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 825,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 543,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-6 hidden lg:block transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"sticky top-24 space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-3 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"h-5 w-5 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 836,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 835,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-bold text-gray-900 dark:text-white text-lg\",\n                                            children: \"Helpful Tips\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 838,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 834,\n                                    columnNumber: 13\n                                }, this),\n                                currentStep < questions.length && ((_questions_currentStep = questions[currentStep]) === null || _questions_currentStep === void 0 ? void 0 : _questions_currentStep.tips) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: questions[currentStep].tips.map((tip, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 849,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: tip\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 850,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 845,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 843,\n                                    columnNumber: 15\n                                }, this),\n                                !(currentStep < questions.length && ((_questions_currentStep1 = questions[currentStep]) === null || _questions_currentStep1 === void 0 ? void 0 : _questions_currentStep1.tips)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 858,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: \"Answer all questions accurately for the best diagnosis.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 859,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 857,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 864,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: 'If unsure, select \"Don\\'t know\" or \"Unknown\".'\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 865,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 863,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 856,\n                                    columnNumber: 18\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-2xl border border-blue-200 dark:border-blue-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-blue-900 dark:text-blue-100 mb-3 flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 mr-2 text-green-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 875,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Privacy & Security\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 874,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-blue-800 dark:text-blue-200 leading-relaxed\",\n                                            children: \"Your health information is encrypted with military-grade security. We never share your data with third parties and comply with all HIPAA regulations.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 878,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 873,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl border border-purple-200 dark:border-purple-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-purple-900 dark:text-purple-100 mb-3\",\n                                            children: \"AI Accuracy\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 885,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2\",\n                                            children: \"95%\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 886,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                            children: \"Our AI has been trained on millions of medical cases and maintains a high accuracy rate in symptom analysis.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 887,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 884,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                            lineNumber: 833,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 832,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 541,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Footer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 896,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n        lineNumber: 538,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatbotPage, \"vwie9XD7qPjsMxcG12GXSkkPtNM=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = ChatbotPage;\nvar _c;\n$RefreshReg$(_c, \"ChatbotPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jaGF0Ym90L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ21EO0FBQ1I7QUFDQztBQUNBO0FBQzRDO0FBQ3JEO0FBeUNuQyxnREFBZ0Q7QUFDaEQsTUFBTWUsb0JBQW9CLE9BQU9DO0lBQzdCLElBQUk7UUFDQSxNQUFNQyxPQUFPLE1BQU1ELFNBQVNDLElBQUk7UUFDaEMsSUFBSSxDQUFDRCxTQUFTRSxFQUFFLEVBQUU7WUFDZCwrRUFBK0U7WUFDL0UsSUFBSTtnQkFDQSxNQUFNQyxZQUFZQyxLQUFLQyxLQUFLLENBQUNKO2dCQUM3QixNQUFNLElBQUlLLE1BQU1ILFVBQVVJLE9BQU8sSUFBSSxjQUFpQ1AsT0FBbkJBLFNBQVNRLE1BQU0sRUFBQyxLQUF1QixPQUFwQlIsU0FBU1MsVUFBVTtZQUM3RixFQUFFLE9BQU9DLFdBQVc7Z0JBQ2hCLGdFQUFnRTtnQkFDaEUsTUFBTSxJQUFJSixNQUFNLGNBQWlDTixPQUFuQkEsU0FBU1EsTUFBTSxFQUFDLEtBQXlCUCxPQUF0QkQsU0FBU1MsVUFBVSxFQUEyQixPQUF4QlIsT0FBTyxLQUFVLE9BQUxBLFFBQVM7WUFDaEc7UUFDSjtRQUNBLGtGQUFrRjtRQUNsRixPQUFPQSxPQUFPRyxLQUFLQyxLQUFLLENBQUNKLFFBQVEsQ0FBQztJQUN0QyxFQUFFLE9BQU9VLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMscUZBQXFGO1FBQ3JGLE1BQU1BO0lBQ1Y7QUFDSjtBQUVlLFNBQVNFO1FBNnJCT0MsMEJBc0VnQkMsd0JBYUVBOztJQS93Qi9DLE1BQU1DLFNBQVM3QiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDOEIsU0FBU0MsV0FBVyxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3RELE1BQU0sQ0FBQ21DLFNBQVNDLFdBQVcsR0FBR3BDLCtDQUFRQSxDQUFxQztJQUUzRSxNQUFNLENBQUNxQyxVQUFVQyxZQUFZLEdBQUd0Qywr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Wiw4REFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNYLDhEQUFDNUosZ0lBQVdBO29EQUFDNEosV0FBVTs7Ozs7OzhEQUN2Qiw4REFBQ0c7b0RBQUVILFdBQVU7OERBQTJEOzs7Ozs7Ozs7Ozs7c0RBSTVFLDhEQUFDRDs0Q0FBSUMsV0FBVTs7OERBQ1gsOERBQUM1SixnSUFBV0E7b0RBQUM0SixXQUFVOzs7Ozs7OERBQ3ZCLDhEQUFDRztvREFBRUgsV0FBVTs4REFBMkQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FRcEYsOERBQUNEO29DQUFJQyxXQUFVOztzREFDYiw4REFBQ2lDOzRDQUFHakMsV0FBVTs7OERBQ1osOERBQUM1SixnSUFBV0E7b0RBQUM0SixXQUFVOzs7Ozs7Z0RBQWdDOzs7Ozs7O3NEQUd6RCw4REFBQ0c7NENBQUVILFdBQVU7c0RBQTJEOzs7Ozs7Ozs7Ozs7OENBTTFFLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUNpQzs0Q0FBR2pDLFdBQVU7c0RBQXNEOzs7Ozs7c0RBQ3BFLDhEQUFDRDs0Q0FBSUMsV0FBVTtzREFBK0Q7Ozs7OztzREFDOUUsOERBQUNHOzRDQUFFSCxXQUFVO3NEQUErQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBU3BFLDhEQUFDakssMERBQU1BOzs7Ozs7Ozs7OztBQUdiO0dBNXpCd0J3Qjs7UUFDUDFCLHNEQUFTQTs7O0tBREYwQiIsInNvdXJjZXMiOlsiL2hvbWUvb21lcmFkbmFuL0Rlc2t0b3AvcHJvZ3JhbW1pbmcvaGVhbHRoX2FwcC9oZWFsdGhfYXBwL2Zyb250ZW5kL2FwcC9jaGF0Ym90L3BhZ2UudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tIFwicmVhY3RcIlxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvbmF2aWdhdGlvblwiXG5pbXBvcnQgSGVhZGVyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0hlYWRlclwiXG5pbXBvcnQgRm9vdGVyIGZyb20gXCIuLi8uLi9jb21wb25lbnRzL0Zvb3RlclwiXG5pbXBvcnQgeyBTZW5kLCBCb3QsIFVzZXIsIExpZ2h0YnVsYiwgQ2hlY2tDaXJjbGUsIFZvbHVtZTIsIFZvbHVtZVggfSBmcm9tIFwibHVjaWRlLXJlYWN0XCJcbmltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gXCJ1dWlkXCJcblxuLy8gVHlwZSBEZWZpbml0aW9ucyAoZW5zdXJpbmcgY29uc2lzdGVuY3kpXG50eXBlIE1lc3NhZ2UgPSB7XG4gIGlkOiBudW1iZXJcbiAgY29udGVudDogc3RyaW5nIHwgSW5mZXJtZWRpY2FRdWVzdGlvbiAvLyBDb250ZW50IGNhbiBiZSBzdHJpbmcgb3Igc3RydWN0dXJlZCBxdWVzdGlvblxuICBzZW5kZXI6IFwiYm90XCIgfCBcInVzZXJcIlxuICB0aW1lc3RhbXA6IERhdGVcbn1cblxudHlwZSBJbmZlcm1lZGljYUNob2ljZSA9IHtcbiAgaWQ6IFwicHJlc2VudFwiIHwgXCJhYnNlbnRcIiB8IFwidW5rbm93blwiXG4gIGxhYmVsOiBzdHJpbmdcbn1cblxudHlwZSBJbmZlcm1lZGljYVF1ZXN0aW9uSXRlbSA9IHtcbiAgaWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgY2hvaWNlczogSW5mZXJtZWRpY2FDaG9pY2VbXVxufVxuXG50eXBlIEluZmVybWVkaWNhUXVlc3Rpb24gPSB7XG4gIHR5cGU6IFwic2luZ2xlXCIgfCBcImdyb3VwZWRfc2luZ2xlXCIgfCBcImdyb3VwZWRfbXVsdGlwbGVcIiAvLyBBZGRlZCBzcGVjaWZpYyB0eXBlc1xuICB0ZXh0OiBzdHJpbmdcbiAgaXRlbXM6IEluZmVybWVkaWNhUXVlc3Rpb25JdGVtW11cbn1cblxudHlwZSBFdmlkZW5jZUl0ZW0gPSB7XG4gIGlkOiBzdHJpbmdcbiAgY2hvaWNlX2lkOiBcInByZXNlbnRcIiB8IFwiYWJzZW50XCIgfCBcInVua25vd25cIlxufVxuXG4vLyBOZXcgdHlwZSBmb3IgaW5pdGlhbCBmaXhlZCBxdWVzdGlvbnNcbnR5cGUgSW5pdGlhbFF1ZXN0aW9uID0ge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcXVlc3Rpb246IHN0cmluZztcbiAgICB0eXBlOiBcImFnZVwiIHwgXCJzZWxlY3RcIiB8IFwidGV4dFwiO1xuICAgIG9wdGlvbnM/OiBzdHJpbmdbXTsgLy8gRm9yICdzZWxlY3QnIHR5cGVcbiAgICB0aXBzOiBzdHJpbmdbXTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNhZmVseSBwYXJzZSBBUEkgcmVzcG9uc2VzXG5jb25zdCBwYXJzZUpzb25SZXNwb25zZSA9IGFzeW5jIChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAvLyBJZiByZXNwb25zZSBpcyBub3QgT0sgKGUuZy4sIDQwMCwgNTAwKSwgdHJ5IHRvIHBhcnNlIEpTT04gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0ZXh0IGlzIG5vdCBKU09OIG9yIGVtcHR5LCB0aHJvdyBnZW5lcmljIGVycm9yIHdpdGggc3RhdHVzXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9JHt0ZXh0ID8gYDogJHt0ZXh0fWAgOiAnJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiByZXNwb25zZSBpcyBPSywgdHJ5IHRvIHBhcnNlIEpTT04uIElmIHRleHQgaXMgZW1wdHksIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG4gICAgICAgIHJldHVybiB0ZXh0ID8gSlNPTi5wYXJzZSh0ZXh0KSA6IHt9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2U6XCIsIGVycm9yKTtcbiAgICAgICAgLy8gUmUtdGhyb3cgdG8gYmUgY2F1Z2h0IGJ5IHRoZSBjYWxsaW5nIGZ1bmN0aW9uIChlLmcuLCBnZXREaWFnbm9zaXMsIGdldFBhcnNlUmVzdWx0KVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0Ym90UGFnZSgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgW3VzZXJBZ2UsIHNldFVzZXJBZ2VdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3VzZXJTZXgsIHNldFVzZXJTZXhdID0gdXNlU3RhdGU8XCJtYWxlXCIgfCBcImZlbWFsZVwiIHwgXCJvdGhlclwiIHwgbnVsbD4obnVsbClcblxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtjdXJyZW50SW5wdXQsIHNldEN1cnJlbnRJbnB1dF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpXG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbaXNTcGVha2luZywgc2V0SXNTcGVha2luZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgW2RpYWdub3Npc1Jlc3VsdCwgc2V0RGlhZ25vc2lzUmVzdWx0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpIC8vIFJhdyBKU09OIGZvciBkZWJ1Z2dpbmcgaWYgbmVlZGVkXG4gIGNvbnN0IFtldmlkZW5jZSwgc2V0RXZpZGVuY2VdID0gdXNlU3RhdGU8RXZpZGVuY2VJdGVtW10+KFtdKVxuICBjb25zdCBtZXNzYWdlc0VuZFJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3QgW2ludGVydmlld0lkLCBzZXRJbnRlcnZpZXdJZF0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIGNvbnN0IFtjdXJyRGlhZ25vc2lzUXVlc3Rpb25zLCBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zXSA9IHVzZVN0YXRlPEluZmVybWVkaWNhUXVlc3Rpb24gfCBudWxsPihudWxsKSAvLyBFeHBsaWNpdGx5IHR5cGVcbiAgY29uc3QgW2N1cnJEaWFnbm9zaXNDb25kaXRpb25zLCBzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9uc10gPSB1c2VTdGF0ZTxhbnlbXT4oW10pXG4gIGNvbnN0IFtpc0RpYWdub3Npc0NvbXBsZXRlLCBzZXRJc0RpYWdub3Npc0NvbXBsZXRlXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbdGVtcEdyb3VwZWRTZWxlY3Rpb25zLCBzZXRUZW1wR3JvdXBlZFNlbGVjdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgXCJwcmVzZW50XCIgfCBcImFic2VudFwiIHwgXCJ1bmtub3duXCI+Pih7fSk7XG5cblxuICAvLyBJbml0aWFsIGZpeGVkIHF1ZXN0aW9ucyBmb3IgdGhlIGJvdFxuICBjb25zdCBxdWVzdGlvbnM6IEluaXRpYWxRdWVzdGlvbltdID0gW1xuICAgIHtcbiAgICAgIGlkOiBcImFnZV9pbnB1dFwiLFxuICAgICAgcXVlc3Rpb246IFwiSGkuIFBsZWFzZSB0ZWxsIG1lIHlvdXIgYWdlLlwiLFxuICAgICAgdHlwZTogXCJhZ2VcIixcbiAgICAgIHRpcHM6IFtcbiAgICAgICAgXCJUZWxsIHlvdXIgZXhhY3QgYWdlLlwiLFxuICAgICAgICBcIlVuaXRzIHNob3VsZCBiZSBpbiB5ZWFycy5cIixcbiAgICAgICAgXCJEbyBub3QgdGVsbCBhbiBleGFnZ2VyYXRlZCBhZ2UgYXMgaXQgbWF5IGxlYWQgdG8gd3JvbmcgZGlhZ25vc2lzLlwiLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInNleF9pbnB1dFwiLFxuICAgICAgcXVlc3Rpb246IFwiV2hhdCBpcyB5b3VyIGdlbmRlcj9cIixcbiAgICAgIHR5cGU6IFwic2VsZWN0XCIsXG4gICAgICBvcHRpb25zOiBbXCJtYWxlXCIsIFwiZmVtYWxlXCIsIFwib3RoZXJcIl0sXG4gICAgICB0aXBzOiBbXG4gICAgICAgIFwiUGxlYXNlIHNwZWNpZnkgeW91ciBnZW5kZXIgY2xlYXJseS5cIixcbiAgICAgICAgXCJJZiB5b3UgcHJlZmVyIG5vdCB0byBzYXksIHNlbGVjdCAnb3RoZXInLlwiLFxuICAgICAgICBcIlRoaXMgaGVscHMgdXMgcHJvdmlkZSBiZXR0ZXIgaW5zaWdodHMuXCIsXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic3ltcHRvbXNcIixcbiAgICAgIHF1ZXN0aW9uOiBcIldoYXQgc3ltcHRvbXMgYXJlIHlvdSBleHBlcmllbmNpbmc/IFBsZWFzZSBkZXNjcmliZSB0aGVtIGluIGRldGFpbC5cIixcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGlwczogW1xuICAgICAgICBcIkJlIHNwZWNpZmljIGFib3V0IGxvY2F0aW9uLCBpbnRlbnNpdHksIGFuZCBkdXJhdGlvbi5cIixcbiAgICAgICAgXCJNZW50aW9uIGFueSB0cmlnZ2VycyB5b3UndmUgbm90aWNlZC5cIixcbiAgICAgICAgXCJJbmNsdWRlIGFzc29jaWF0ZWQgc3ltcHRvbXMuXCIsXG4gICAgICBdLFxuICAgIH0sXG4gIF1cblxuICAvLyBJbml0aWFsIGJvdCBtZXNzYWdlIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhZGRCb3RNZXNzYWdlKFxuICAgICAgICAgIFwiSGVsbG8hIEknbSB5b3VyIEhlYWx0aEJ1ZGR5IEFJIGFzc2lzdGFudC4gSSdsbCBoZWxwIGFuYWx5emUgeW91ciBzeW1wdG9tcyBhbmQgcHJvdmlkZSBwZXJzb25hbGl6ZWQgaGVhbHRoIGluc2lnaHRzLiBMZXQncyBzdGFydCB3aXRoIGEgZmV3IHF1ZXN0aW9ucy5cIixcbiAgICAgICAgKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1swXS5xdWVzdGlvbilcbiAgICAgICAgfSwgMTUwMCkgLy8gR2l2ZSB1c2VyIGEgYml0IG1vcmUgdGltZSBhZnRlciBpbnRyb1xuICAgICAgfSwgNTAwKVxuICAgIH1cbiAgfSwgW10pIC8vIEVtcHR5IGRlcGVuZGVuY3kgYXJyYXkgbWVhbnMgdGhpcyBydW5zIG9uY2Ugb24gbW91bnRcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gb24gbmV3IG1lc3NhZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIGNvbnN0IHNjcm9sbFRvQm90dG9tID0gKCkgPT4ge1xuICAgIG1lc3NhZ2VzRW5kUmVmLmN1cnJlbnQ/LnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6IFwic21vb3RoXCIgfSlcbiAgfVxuXG4gIC8vIEdlbmVyYXRlIHVuaXF1ZSBJRCBmb3IgbWVzc2FnZXNcbiAgY29uc3QgZ2VuZXJhdGVVbmlxdWVJZCA9ICgpID0+IERhdGUubm93KCkgKyBNYXRoLnJhbmRvbSgpXG5cbiAgLy8gQWRkIGJvdCBtZXNzYWdlIHdpdGggdHlwaW5nIGluZGljYXRvclxuICBjb25zdCBhZGRCb3RNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZyB8IEluZmVybWVkaWNhUXVlc3Rpb24pID0+IHtcbiAgICBzZXRJc1R5cGluZyh0cnVlKVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0TWVzc2FnZXMoKHByZXYpID0+IFtcbiAgICAgICAgLi4ucHJldixcbiAgICAgICAge1xuICAgICAgICAgIGlkOiBnZW5lcmF0ZVVuaXF1ZUlkKCksXG4gICAgICAgICAgY29udGVudCxcbiAgICAgICAgICBzZW5kZXI6IFwiYm90XCIsXG4gICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICB9LFxuICAgICAgXSlcbiAgICAgIHNldElzVHlwaW5nKGZhbHNlKVxuICAgIH0sIDEwMDApIC8vIFNpbXVsYXRlIHR5cGluZyBkZWxheVxuICB9XG5cbiAgLy8gQWRkIHVzZXIgbWVzc2FnZVxuICBjb25zdCBhZGRVc2VyTWVzc2FnZSA9IChjb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgLi4ucHJldixcbiAgICAgIHtcbiAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgc2VuZGVyOiBcInVzZXJcIixcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgfSxcbiAgICBdKVxuICB9XG5cbiAgICAvLyBIYW5kbGVzIGNvbmZpcm1hdGlvbiBmb3IgZ3JvdXBlZF9tdWx0aXBsZSBxdWVzdGlvbnNcbiAgY29uc3QgaGFuZGxlR3JvdXBlZE11bHRpcGxlQ29uZmlybSA9IGFzeW5jICgpID0+IHtcbiAgICBzZXRJc1R5cGluZyh0cnVlKTtcbiAgICBhZGRVc2VyTWVzc2FnZShcIkNvbmZpcm1lZCBzZWxlY3Rpb25zLlwiKTsgLy8gQWNrbm93bGVkZ2UgdXNlcidzIGNvbmZpcm1hdGlvblxuXG4gICAgLy8gQ29uc3RydWN0IG5ldyBldmlkZW5jZSBmcm9tIHRlbXBHcm91cGVkU2VsZWN0aW9uc1xuICAgIGNvbnN0IG5ld0V2aWRlbmNlVG9BZGQ6IEV2aWRlbmNlSXRlbVtdID0gT2JqZWN0LmVudHJpZXModGVtcEdyb3VwZWRTZWxlY3Rpb25zKS5tYXAoKFtpZCwgY2hvaWNlX2lkXSkgPT4gKHtcbiAgICAgIGlkLFxuICAgICAgY2hvaWNlX2lkLFxuICAgIH0pKTtcblxuICAgIC8vIENsZWFyIHRlbXBvcmFyeSBzZWxlY3Rpb25zXG4gICAgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zKHt9KTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgbWFpbiBldmlkZW5jZSBzdGF0ZSBhbmQgdGhlbiBjYWxsIGRpYWdub3Npc1xuICAgIHNldEV2aWRlbmNlKChwcmV2RXZpZGVuY2UpID0+IHtcbiAgICAgICAgLy8gRmlsdGVyIG91dCBhbnkgZXhpc3RpbmcgZXZpZGVuY2UgZm9yIHRoZXNlIGl0ZW1zIGJlZm9yZSBhZGRpbmcgbmV3IG9uZXNcbiAgICAgICAgY29uc3QgZmlsdGVyZWRQcmV2RXZpZGVuY2UgPSBwcmV2RXZpZGVuY2UuZmlsdGVyKGl0ZW0gPT4gIW5ld0V2aWRlbmNlVG9BZGQuc29tZShuZXdJdGVtID0+IG5ld0l0ZW0uaWQgPT09IGl0ZW0uaWQpKTtcbiAgICAgICAgY29uc3QgY29tYmluZWRFdmlkZW5jZSA9IFsuLi5maWx0ZXJlZFByZXZFdmlkZW5jZSwgLi4ubmV3RXZpZGVuY2VUb0FkZF07XG5cbiAgICAgICAgLy8gQ2FsbCBkaWFnbm9zaXMgd2l0aCB0aGUgY29tYmluZWQgZXZpZGVuY2VcbiAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5leHREaWFnbm9zaXNSZXN1bHQgPSBhd2FpdCBnZXREaWFnbm9zaXMoY29tYmluZWRFdmlkZW5jZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXh0RGlhZ25vc2lzUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZ1cnRoZXIgZGlhZ25vc2lzIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgQVBJLiBUaGUgc2VydmVyIG1pZ2h0IGJlIGJ1c3kgb3IgZXhwZXJpZW5jZWQgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCA9PT0gZmFsc2UgJiYgIW5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhZ25vc2lzIGZsb3cgZW5jb3VudGVyZWQgYW4gdW5leHBlY3RlZCBzdGF0ZTogRXhwZWN0ZWQgYSBxdWVzdGlvbiBidXQgbm9uZSB3YXMgcHJvdmlkZWQuXCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldERpYWdub3Npc1Jlc3VsdChKU09OLnN0cmluZ2lmeShuZXh0RGlhZ25vc2lzUmVzdWx0LCBudWxsLCAyKSk7XG4gICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMobmV4dERpYWdub3Npc1Jlc3VsdC5jb25kaXRpb25zIHx8IFtdKTtcbiAgICAgICAgICAgICAgICBzZXRJc0RpYWdub3Npc0NvbXBsZXRlKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3ApO1xuICAgICAgICAgICAgICAgIHNldEN1cnJEaWFnbm9zaXNRdWVzdGlvbnMobmV4dERpYWdub3Npc1Jlc3VsdC5xdWVzdGlvbiB8fCBudWxsKTtcblxuICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5RmluYWxEaWFnbm9zaXMobmV4dERpYWdub3Npc1Jlc3VsdC5jb25kaXRpb25zKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBwcm9jZXNzIG5lZWRzIG1vcmUgaW5mb3JtYXRpb24sIGJ1dCBJIGNvdWxkbid0IGdlbmVyYXRlIHRoZSBuZXh0IHF1ZXN0aW9uLiBQbGVhc2UgY29uc3VsdCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgZ3JvdXBlZF9tdWx0aXBsZSBkaWFnbm9zaXMgY29uZmlybWF0aW9uOlwiLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWQuXCI7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIDEwMDApOyAvLyBTaW11bGF0ZSBwcm9jZXNzaW5nIHRpbWVcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVkRXZpZGVuY2U7IC8vIFJldHVybiB0aGUgbmV3IHN0YXRlXG4gICAgfSk7XG4gIH07XG5cbiAgLy8gTWFpbiBtZXNzYWdlIGhhbmRsaW5nIGxvZ2ljXG4gIGNvbnN0IGhhbmRsZVNlbmRNZXNzYWdlID0gYXN5bmMgKGlucHV0Pzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgdmFsdWUgPSBpbnB1dCAhPT0gdW5kZWZpbmVkID8gaW5wdXQgOiBjdXJyZW50SW5wdXRcbiAgICBpZiAoIXZhbHVlLnRyaW0oKSkgcmV0dXJuXG5cbiAgICAvLyBDbGVhciBjdXJyZW50SW5wdXQgaW1tZWRpYXRlbHkgZm9yIGFsbCB0eXBlcyBvZiByZXNwb25zZXNcbiAgICBzZXRDdXJyZW50SW5wdXQoXCJcIilcblxuICAgIC8vIC0tLSBIYW5kbGluZyBJbml0aWFsIEZpeGVkIFF1ZXN0aW9ucyAoQWdlLCBTZXgpIC0tLVxuICAgIC8vIFRoaXMgYmxvY2sgcnVucyBpZiB3ZSBhcmUgc3RpbGwgd2l0aGluIHRoZSAncXVlc3Rpb25zJyBhcnJheSBmbG93IEFORCBOT1Qgb24gdGhlIGxhc3QgcXVlc3Rpb24gKHN5bXB0b21zKVxuICAgIGlmIChjdXJyZW50U3RlcCA8IHF1ZXN0aW9ucy5sZW5ndGggLSAxKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IHF1ZXN0aW9uc1tjdXJyZW50U3RlcF07XG5cbiAgICAgICAgLy8gQWRkIHVzZXIgbWVzc2FnZSBmb3IgdGhlc2UgaW5pdGlhbCwgdXNlci10eXBlZC9zZWxlY3RlZCBpbnB1dHNcbiAgICAgICAgYWRkVXNlck1lc3NhZ2UodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50UXVlc3Rpb24uaWQgPT09IFwiYWdlX2lucHV0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGFnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICBpZiAoaXNOYU4oYWdlKSB8fCBhZ2UgPD0gMCB8fCBhZ2UgPiAxMjApIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgYWdlIGluIHllYXJzIChlLmcuLCAzMCkuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFVzZXJBZ2UoYWdlKTtcbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwICsgMSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1tjdXJyZW50U3RlcCArIDFdLnF1ZXN0aW9uKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGN1cnJlbnRRdWVzdGlvbi5pZCA9PT0gXCJzZXhfaW5wdXRcIikge1xuICAgICAgICAgICAgY29uc3Qgc2V4ID0gdmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghW1wibWFsZVwiLCBcImZlbWFsZVwiLCBcIm90aGVyXCJdLmluY2x1ZGVzKHNleCkpIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiUGxlYXNlIHNlbGVjdCBmcm9tICdtYWxlJywgJ2ZlbWFsZScsIG9yICdvdGhlcicuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldFVzZXJTZXgoc2V4IGFzIFwibWFsZVwiIHwgXCJmZW1hbGVcIiB8IFwib3RoZXJcIik7XG4gICAgICAgICAgICBpZiAoIWludGVydmlld0lkKSB7XG4gICAgICAgICAgICAgICAgc2V0SW50ZXJ2aWV3SWQodXVpZHY0KCkpOyAvLyBJbml0aWFsaXplIGludGVydmlldyBJRFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoY3VycmVudFN0ZXAgKyAxKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UocXVlc3Rpb25zW2N1cnJlbnRTdGVwICsgMV0ucXVlc3Rpb24pO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gLS0tIEhhbmRsaW5nIEluaXRpYWwgU3ltcHRvbXMgUXVlc3Rpb24gKHRoZSBsYXN0IGZpeGVkIHF1ZXN0aW9uKSAtLS1cbiAgICAvLyBUaGlzIGJsb2NrIHJ1bnMgd2hlbiBjdXJyZW50U3RlcCBpcyBleGFjdGx5IGBxdWVzdGlvbnMubGVuZ3RoIC0gMWBcbiAgICBlbHNlIGlmIChjdXJyZW50U3RlcCA9PT0gcXVlc3Rpb25zLmxlbmd0aCAtIDEgJiYgcXVlc3Rpb25zW2N1cnJlbnRTdGVwXS5pZCA9PT0gXCJzeW1wdG9tc1wiKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IHF1ZXN0aW9uc1tjdXJyZW50U3RlcF07XG5cbiAgICAgICAgLy8gQWRkIHVzZXIgbWVzc2FnZSBmb3Igc3ltcHRvbXMgZGVzY3JpcHRpb25cbiAgICAgICAgYWRkVXNlck1lc3NhZ2UodmFsdWUpO1xuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAxMCkge1xuICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBwcm92aWRlIGEgbW9yZSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB5b3VyIHN5bXB0b21zIChhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzKS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoYW5rIHlvdSBmb3Igc2hhcmluZyB5b3VyIHN5bXB0b21zLiBQbGVhc2Ugd2FpdCB3aGlsZSBJIGFuYWx5emUgdGhlbS5cIik7XG4gICAgICAgICAgICBzZXRJc1R5cGluZyh0cnVlKTtcblxuICAgICAgICAgICAgLy8gRmV0Y2ggcGFyc2UgcmVzdWx0XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRQYXJzZVJlc3VsdCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCB8fCAhQXJyYXkuaXNBcnJheShyZXN1bHQubWVudGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgYW4gaW52YWxpZCByZXNwb25zZSBmb3JtYXQgZm9yIHN5bXB0b20gYW5hbHlzaXMuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXJzZSByZXN1bHQ6XCIsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxFdmlkZW5jZTogRXZpZGVuY2VJdGVtW10gPSByZXN1bHQubWVudGlvbnMubWFwKChtZW50aW9uOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IG1lbnRpb24uaWQsXG4gICAgICAgICAgICAgICAgY2hvaWNlX2lkOiBtZW50aW9uLmNob2ljZV9pZCxcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgLy8gTkVXIENIRUNLIEhFUkU6IElmIG5vIHN5bXB0b21zIHdlcmUgcGFyc2VkXG4gICAgICAgICAgICBpZiAoaW5pdGlhbEV2aWRlbmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJJIGNvdWxkbid0IGlkZW50aWZ5IGFueSBzeW1wdG9tcyBmcm9tIHlvdXIgZGVzY3JpcHRpb24uIENvdWxkIHlvdSBwbGVhc2UgcmVwaHJhc2Ugb3IgcHJvdmlkZSBtb3JlIGRldGFpbHM/IEZvciBleGFtcGxlLCAnSSBoYXZlIGEgaGVhZGFjaGUgYW5kIGEgZmV2ZXIuJ1wiKTtcbiAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTdG9wIGhlcmUsIGRvbid0IGNhbGwgZ2V0RGlhZ25vc2lzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEV2aWRlbmNlKGluaXRpYWxFdmlkZW5jZSk7IC8vIFRoaXMgdXBkYXRlcyB0aGUgc3RhdGUsIGJ1dCB3ZSBkb24ndCByZWx5IG9uIGl0IGZvciB0aGUgaW1tZWRpYXRlIEFQSSBjYWxsXG5cbiAgICAgICAgICAgIC8vIFBhc3MgaW5pdGlhbEV2aWRlbmNlIGRpcmVjdGx5IHRvIGdldERpYWdub3NpcyB0byBhdm9pZCBzdGF0ZSB1cGRhdGUgdGltaW5nIGlzc3Vlc1xuICAgICAgICAgICAgY29uc3QgZGlhZ25vc2lzID0gYXdhaXQgZ2V0RGlhZ25vc2lzKGluaXRpYWxFdmlkZW5jZSk7XG4gICAgICAgICAgICBpZiAoIWRpYWdub3Npcykge1xuICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBkaWFnbm9zaXMgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBBUEkuIFRoZSBzZXJ2ZXIgbWlnaHQgYmUgYnVzeSBvciBleHBlcmllbmNlZCBhbiBlcnJvci5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBkaWFnbm9zaXMgaXMgbm90IGNvbXBsZXRlLCBpdCBNVVNUIHByb3ZpZGUgYSBxdWVzdGlvblxuICAgICAgICAgICAgaWYgKGRpYWdub3Npcy5zaG91bGRfc3RvcCA9PT0gZmFsc2UgJiYgIWRpYWdub3Npcy5xdWVzdGlvbikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWdub3NpcyBmbG93IGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgc3RhdGU6IEV4cGVjdGVkIGEgcXVlc3Rpb24gYnV0IG5vbmUgd2FzIHByb3ZpZGVkLlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbml0aWFsIGRpYWdub3NpcyByZXN1bHQ6XCIsIGRpYWdub3Npcyk7XG5cbiAgICAgICAgICAgIHNldERpYWdub3Npc1Jlc3VsdChKU09OLnN0cmluZ2lmeShkaWFnbm9zaXMsIG51bGwsIDIpKTsgLy8gU3RvcmUgcmF3IHJlc3VsdCBmb3IgZGVidWdnaW5nXG4gICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9ucyhkaWFnbm9zaXMuY29uZGl0aW9ucyB8fCBbXSk7XG4gICAgICAgICAgICBzZXRJc0RpYWdub3Npc0NvbXBsZXRlKGRpYWdub3Npcy5zaG91bGRfc3RvcCk7XG4gICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKGRpYWdub3Npcy5xdWVzdGlvbiB8fCBudWxsKTtcblxuICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoY3VycmVudFN0ZXAgKyAxKTtcblxuICAgICAgICAgICAgaWYgKGRpYWdub3Npcy5zaG91bGRfc3RvcCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlGaW5hbERpYWdub3NpcyhkaWFnbm9zaXMuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpYWdub3Npcy5xdWVzdGlvbikge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoZGlhZ25vc2lzLnF1ZXN0aW9uKTsgLy8gQXNrIHRoZSBmaXJzdCBJbmZlcm1lZGljYSBxdWVzdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBwcm9jZXNzIGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgc3RhdGUuIFBsZWFzZSBjb25zdWx0IGEgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIGRpYWdub3NpcyBwcm9jZXNzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC5cIjtcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSB0cnkgYWdhaW4uYCk7XG4gICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGFmdGVyIGhhbmRsaW5nIHN5bXB0b21zXG4gICAgfVxuICAgIC8vIC0tLSBIYW5kbGluZyBJbmZlcm1lZGljYSBEaWFnbm9zaXMgUXVlc3Rpb25zIC0tLVxuICAgIC8vIFRoaXMgYmxvY2sgcnVucyB3aGVuIHdlIGFyZSBwYXN0IHRoZSBpbml0aWFsIGZpeGVkIHF1ZXN0aW9ucyBBTkRcbiAgICAvLyB0aGVyZSdzIGFuIGFjdGl2ZSBkaWFnbm9zaXMgcXVlc3Rpb24gZnJvbSBJbmZlcm1lZGljYSBBTkQgaXQncyBub3QgY29tcGxldGUgeWV0LlxuICAgIGlmIChjdXJyRGlhZ25vc2lzUXVlc3Rpb25zICYmICFpc0RpYWdub3Npc0NvbXBsZXRlKSB7XG4gICAgICAgIC8vIEZvciBJbmZlcm1lZGljYSBjaG9pY2UgYnV0dG9ucywgdGhlIGludGVyYWN0aW9uIGlzIHRoZSBhbnN3ZXIsIG5vIG5lZWQgZm9yIGFkZFVzZXJNZXNzYWdlXG4gICAgICAgIGNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoJzonKTtcblxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtSWQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZUlkID0gcGFydHNbMV0gYXMgXCJwcmVzZW50XCIgfCBcImFic2VudFwiIHwgXCJ1bmtub3duXCI7XG5cbiAgICAgICAgICAgIC8vIEJhc2ljIHZhbGlkYXRpb24gZm9yIGNob2ljZUlkXG4gICAgICAgICAgICBpZiAoIVtcInByZXNlbnRcIiwgXCJhYnNlbnRcIiwgXCJ1bmtub3duXCJdLmluY2x1ZGVzKGNob2ljZUlkKSkge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJJbnZhbGlkIGFuc3dlci4gUGxlYXNlIHNlbGVjdCBvbmUgb2YgdGhlIHByb3ZpZGVkIG9wdGlvbnMuXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRml4IDE6IERpZmZlcmVudGlhdGUgYmV0d2VlbiBxdWVzdGlvbiB0eXBlc1xuICAgICAgICAgICAgLy8gSWYgaXQncyBhIGdyb3VwZWRfbXVsdGlwbGUsIG9ubHkgdXBkYXRlIGxvY2FsIHN0YXRlLCBkb24ndCBjYWxsIEFQSSBoZXJlLlxuICAgICAgICAgICAgaWYgKGN1cnJEaWFnbm9zaXNRdWVzdGlvbnMudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnKSB7XG4gICAgICAgICAgICAgICAgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zKHByZXYgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgW2l0ZW1JZF06IGNob2ljZUlkXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRXhpdCBlYXJseSwgd2FpdCBmb3IgY29uZmlybSBidXR0b25cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRm9yIHNpbmdsZSBvciBncm91cGVkX3NpbmdsZSBxdWVzdGlvbnMsIHByb2NlZWQgd2l0aCBpbW1lZGlhdGUgQVBJIGNhbGxcbiAgICAgICAgICAgIC8vIEZpeCAyOiBNb3ZlIEFQSSBjYWxsIGxvZ2ljIG91dHNpZGUgb2Ygc2V0RXZpZGVuY2UgZnVuY3Rpb25hbCB1cGRhdGVcbiAgICAgICAgICAgIGNvbnN0IG5ld0V2aWRlbmNlID0gWy4uLmV2aWRlbmNlLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGl0ZW1JZCksIHsgaWQ6IGl0ZW1JZCwgY2hvaWNlX2lkOiBjaG9pY2VJZCB9XTtcbiAgICAgICAgICAgIHNldEV2aWRlbmNlKG5ld0V2aWRlbmNlKTsgLy8gVXBkYXRlIHN0YXRlXG5cbiAgICAgICAgICAgIHNldElzVHlwaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dERpYWdub3Npc1Jlc3VsdCA9IGF3YWl0IGdldERpYWdub3NpcyhuZXdFdmlkZW5jZSk7IC8vIFBhc3MgbmV3RXZpZGVuY2UgaGVyZVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHREaWFnbm9zaXNSZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZ1cnRoZXIgZGlhZ25vc2lzIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgQVBJLiBUaGUgc2VydmVyIG1pZ2h0IGJlIGJ1c3kgb3IgZXhwZXJpZW5jZWQgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnNob3VsZF9zdG9wID09PSBmYWxzZSAmJiAhbmV4dERpYWdub3Npc1Jlc3VsdC5xdWVzdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhZ25vc2lzIGZsb3cgZW5jb3VudGVyZWQgYW4gdW5leHBlY3RlZCBzdGF0ZTogRXhwZWN0ZWQgYSBxdWVzdGlvbiBidXQgbm9uZSB3YXMgcHJvdmlkZWQuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0RGlhZ25vc2lzUmVzdWx0KEpTT04uc3RyaW5naWZ5KG5leHREaWFnbm9zaXNSZXN1bHQsIG51bGwsIDIpKTsgLy8gU3RvcmUgcmF3IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9ucyhuZXh0RGlhZ25vc2lzUmVzdWx0LmNvbmRpdGlvbnMgfHwgW10pO1xuICAgICAgICAgICAgICAgICAgICBzZXRJc0RpYWdub3Npc0NvbXBsZXRlKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3ApO1xuICAgICAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24gfHwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUZpbmFsRGlhZ25vc2lzKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dERpYWdub3Npc1Jlc3VsdC5xdWVzdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJUaGUgZGlhZ25vc2lzIHByb2Nlc3MgbmVlZHMgbW9yZSBpbmZvcm1hdGlvbiwgYnV0IEkgY291bGRuJ3QgZ2VuZXJhdGUgdGhlIG5leHQgcXVlc3Rpb24uIFBsZWFzZSBjb25zdWx0IGEgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwuXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBzdWJzZXF1ZW50IGRpYWdub3NpczpcIiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC5cIjtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIGEgZnJlZS10ZXh0IGlucHV0IHdoaWxlIEluZmVybWVkaWNhIHF1ZXN0aW9ucyBhcmUgYWN0aXZlXG4gICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiUGxlYXNlIHVzZSB0aGUgcHJvdmlkZWQgYnV0dG9ucyB0byBhbnN3ZXIgdGhlIGhlYWx0aCBxdWVzdGlvbnMuIFR5cGluZyBmcmVlLXRleHQgaXMgbm90IHN1cHBvcnRlZCBkdXJpbmcgdGhpcyBwaGFzZS5cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlcyBzY2VuYXJpbyB3aGVyZSBkaWFnbm9zaXMgaXMgY29tcGxldGUgYW5kIHVzZXIgdHJpZXMgdG8gdHlwZSBhZ2FpblxuICAgIGVsc2UgaWYgKGlzRGlhZ25vc2lzQ29tcGxldGUpIHtcbiAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoZSBkaWFnbm9zaXMgaXMgY29tcGxldGUuIFBsZWFzZSBjbGljayAnU3RhcnQgYSBOZXcgRGlhZ25vc2lzJyBpZiB5b3Ugd2lzaCB0byBiZWdpbiBhIG5ldyBhc3Nlc3NtZW50LiDwn5SEXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGhpcyBzaG91bGQgbm90IGhhcHBlbiwgYnV0IGlmIGl0IGRvZXMsIHdlIGhhbmRsZSBpdCBncmFjZWZ1bGx5XG4gICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJBbiB1bmV4cGVjdGVkIHN0YXRlIG9jY3VycmVkLiBQbGVhc2UgdHJ5IGFnYWluIG9yIHJlZnJlc2ggdGhlIHBhZ2UuXCIpO1xuICAgIH1cbiAgfTtcblxuICAvLyBJbmZlcm1lZGljYSBBUEkgY2FsbHNcbiAgY29uc3QgZ2V0RGlhZ25vc2lzID0gYXN5bmMgKGN1cnJlbnRFdmlkZW5jZTogRXZpZGVuY2VJdGVtW10pID0+IHtcbiAgICBpZiAodXNlckFnZSA9PT0gbnVsbCB8fCB1c2VyU2V4ID09PSBudWxsIHx8IGN1cnJlbnRFdmlkZW5jZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRpYWdub3NpcyBwcmVyZXF1aXNpdGVzIChhZ2UsIHNleCwgb3Igc3ltcHRvbXMpIGFyZSBtaXNzaW5nLiBDYW5ub3QgcHJvY2VlZCB3aXRoIGRpYWdub3Npcy5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIGFnZToge1xuICAgICAgICB2YWx1ZTogdXNlckFnZSxcbiAgICAgICAgdW5pdDogXCJ5ZWFyXCIsXG4gICAgICB9LFxuICAgICAgc2V4OiB1c2VyU2V4LFxuICAgICAgZXZpZGVuY2U6IGN1cnJlbnRFdmlkZW5jZSxcbiAgICAgIGludGVydmlld19pZDogaW50ZXJ2aWV3SWQgfHwgdXVpZHY0KCksXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRFQlVHOiBTZW5kaW5nIHBheWxvYWQgdG8gL2RpYWdub3NpczpcIiwgSlNPTi5zdHJpbmdpZnkocGF5bG9hZCwgbnVsbCwgMikpO1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2luZmVybWVkaWNhL2RpYWdub3Npc1wiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhd2FpdCBwYXJzZUpzb25SZXNwb25zZShyZXMpOyAvLyBVc2UgaGVscGVyIGZvciBwYXJzaW5nIGFuZCBlcnJvciBoYW5kbGluZ1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQVBJIGNhbGwgdG8gL2RpYWdub3NpcyBmYWlsZWQ6XCIsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yOyAvLyBSZS10aHJvdyBmb3IgaGFuZGxlU2VuZE1lc3NhZ2UgdG8gY2F0Y2hcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZ2V0UGFyc2VSZXN1bHQgPSBhc3luYyAocmVzcG9uc2VTdHJpbmc6IHN0cmluZykgPT4ge1xuICAgIGlmICh1c2VyQWdlID09PSBudWxsIHx8IHVzZXJTZXggPT09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhcnNpbmcgcHJlcmVxdWlzaXRlcyAoYWdlIG9yIHNleCkgYXJlIG1pc3NpbmcuIENhbm5vdCBwYXJzZSBzeW1wdG9tcy5cIik7XG4gICAgfVxuXG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgIGFnZTogeyB2YWx1ZTogdXNlckFnZSwgdW5pdDogXCJ5ZWFyXCIgfSxcbiAgICAgIHNleDogdXNlclNleCxcbiAgICAgIHRleHQ6IHJlc3BvbnNlU3RyaW5nLFxuICAgICAgY29udGV4dDogW10sXG4gICAgICBpbmNsdWRlX3Rva2VuczogdHJ1ZSxcbiAgICAgIGNvcnJlY3Rfc3BlbGxpbmc6IHRydWUsXG4gICAgICBjb25jZXB0X3R5cGVzOiBbXCJzeW1wdG9tXCJdLFxuICAgICAgaW50ZXJ2aWV3SWQ6IGludGVydmlld0lkIHx8IHV1aWR2NCgpLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goXCJodHRwOi8vbG9jYWxob3N0OjUwMDAvYXBpL2luZmVybWVkaWNhL3BhcnNlXCIsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogeyBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGF3YWl0IHBhcnNlSnNvblJlc3BvbnNlKHJlcyk7IC8vIFVzZSBoZWxwZXIgZm9yIHBhcnNpbmcgYW5kIGVycm9yIGhhbmRsaW5nXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBUEkgY2FsbCB0byAvcGFyc2UgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgZm9yIGhhbmRsZVNlbmRNZXNzYWdlIHRvIGNhdGNoXG4gICAgfVxuICB9O1xuXG4gIC8vIERpc3BsYXlzIHRoZSBmaW5hbCBkaWFnbm9zaXMgbWVzc2FnZVxuICBjb25zdCBkaXNwbGF5RmluYWxEaWFnbm9zaXMgPSAoY29uZGl0aW9uczogYW55W10pID0+IHtcbiAgICAgIGxldCBmaW5hbE1lc3NhZ2UgPSBcIkJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiBwcm92aWRlZCwgaGVyZSBhcmUgdGhlIHBvdGVudGlhbCBjb25kaXRpb25zOlxcblxcblwiO1xuXG4gICAgICBpZiAoY29uZGl0aW9ucyAmJiBjb25kaXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBTb3J0IGJ5IHByb2JhYmlsaXR5IGFuZCB0YWtlIHRvcCAzXG4gICAgICAgICAgY29uZGl0aW9ucy5zb3J0KChhLCBiKSA9PiBiLnByb2JhYmlsaXR5IC0gYS5wcm9iYWJpbGl0eSk7XG4gICAgICAgICAgY29uZGl0aW9ucy5zbGljZSgwLCAzKS5mb3JFYWNoKChjb25kaXRpb246IGFueSkgPT4ge1xuICAgICAgICAgICAgICBmaW5hbE1lc3NhZ2UgKz0gYCoqJHtjb25kaXRpb24ubmFtZX0qKjogJHsgKGNvbmRpdGlvbi5wcm9iYWJpbGl0eSAqIDEwMCkudG9GaXhlZCgyKX0lIHByb2JhYmlsaXR5LlxcbmA7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmluYWxNZXNzYWdlICs9IFwiXFxuXFxuKipEaXNjbGFpbWVyKio6IFRoaXMgQUkgYXNzaXN0YW50IHByb3ZpZGVzIGluc2lnaHRzIGJhc2VkIG9uIHRoZSBpbmZvcm1hdGlvbiB5b3UndmUgc2hhcmVkIGFuZCBpcyBub3QgYSBzdWJzdGl0dXRlIGZvciBwcm9mZXNzaW9uYWwgbWVkaWNhbCBhZHZpY2UuIEFsd2F5cyBjb25zdWx0IGEgcXVhbGlmaWVkIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsIGZvciBhbiBhY2N1cmF0ZSBkaWFnbm9zaXMgYW5kIHRyZWF0bWVudCBwbGFuLiBZb3VyIGhlYWx0aCBpcyBpbXBvcnRhbnQhIPCfqbpcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZmluYWxNZXNzYWdlID0gXCJCYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWQsIEkgY291bGRuJ3QgaWRlbnRpZnkgYSBzcGVjaWZpYyBjb25kaXRpb24gYXQgdGhpcyB0aW1lLiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IEFJIGRpYWdub3NpcyBpcyBub3QgYSBzdWJzdGl0dXRlIGZvciBwcm9mZXNzaW9uYWwgbWVkaWNhbCBhZHZpY2UuIFBsZWFzZSBjb25zdWx0IGEgcXVhbGlmaWVkIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsIGZvciBhIGNvbXBsZXRlIGRpYWdub3Npcy4gWW91ciB3ZWxsLWJlaW5nIGlzIG91ciBwcmlvcml0eS4g8J+Zj1wiO1xuICAgICAgfVxuICAgICAgYWRkQm90TWVzc2FnZShmaW5hbE1lc3NhZ2UpO1xuICB9O1xuXG4gIC8vIERlZmluZSBjdXJyZW50UXVlc3Rpb24gaGVyZSB0byBtYWtlIGl0IGFjY2Vzc2libGUgaW4gSlNYXG4gIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IHF1ZXN0aW9uc1tjdXJyZW50U3RlcF07XG5cbiAgLy8gQ2FsY3VsYXRlIHByb2dyZXNzIGZvciB0aGUgaW5pdGlhbCBmaXhlZCBxdWVzdGlvbnMgb25seVxuICBjb25zdCBwcm9ncmVzcyA9ICgoY3VycmVudFN0ZXAgKyAxKSAvIHF1ZXN0aW9ucy5sZW5ndGgpICogMTAwXG5cbiAgLy8gVGV4dC10by1TcGVlY2hcbiAgY29uc3Qgc3BlYWtNZXNzYWdlID0gKHRleHQ6IHN0cmluZykgPT4ge1xuICAgIGlmIChcInNwZWVjaFN5bnRoZXNpc1wiIGluIHdpbmRvdykge1xuICAgICAgY29uc3QgdXR0ZXJhbmNlID0gbmV3IFNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSh0ZXh0KVxuICAgICAgdXR0ZXJhbmNlLm9uc3RhcnQgPSAoKSA9PiBzZXRJc1NwZWFraW5nKHRydWUpXG4gICAgICB1dHRlcmFuY2Uub25lbmQgPSAoKSA9PiBzZXRJc1NwZWFraW5nKGZhbHNlKVxuICAgICAgc3BlZWNoU3ludGhlc2lzLnNwZWFrKHV0dGVyYW5jZSlcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJTcGVlY2ggc3ludGhlc2lzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyLlwiKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCBzdG9wU3BlYWtpbmcgPSAoKSA9PiB7XG4gICAgaWYgKFwic3BlZWNoU3ludGhlc2lzXCIgaW4gd2luZG93KSB7XG4gICAgICBzcGVlY2hTeW50aGVzaXMuY2FuY2VsKClcbiAgICAgIHNldElzU3BlYWtpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS05MDAgZmxleCBmbGV4LWNvbCB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgPEhlYWRlciAvPlxuXG4gICAgICA8bWFpbiBjbGFzc05hbWU9XCJmbGV4LTEgcHQtMTYgZmxleFwiPlxuICAgICAgICB7LyogQ2hhdCBBcmVhICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgey8qIEVuaGFuY2VkIFByb2dyZXNzIEJhciAqL31cbiAgICAgICAgICB7Y3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmICFpc0RpYWdub3Npc0NvbXBsZXRlID8gKCAvLyBPbmx5IHNob3cgcHJvZ3Jlc3MgZm9yIGluaXRpYWwgcXVlc3Rpb25zXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLWIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNiB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+QUkgSGVhbHRoIEFzc2Vzc21lbnQ8L2gxPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+UG93ZXJlZCBieSBhZHZhbmNlZCBtYWNoaW5lIGxlYXJuaW5nPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtcmlnaHRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPntNYXRoLnJvdW5kKHByb2dyZXNzKX0lPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+Q29tcGxldGU8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+QXNzZXNzbWVudCBQcm9ncmVzczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjdXJyZW50U3RlcCArIDF9IG9mIHtxdWVzdGlvbnMubGVuZ3RofVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctZnVsbCBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtZnVsbCBoLTMgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MDAgdG8tZ3JlZW4tNTAwIGgtMyByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tNTAwIHJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyB3aWR0aDogYCR7cHJvZ3Jlc3N9JWAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBiZy13aGl0ZS8yMCBhbmltYXRlLXB1bHNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgLy8gRGlzcGxheSBhIHN0YXR1cyBtZXNzYWdlIHdoZW4gaW4gSW5mZXJtZWRpY2EgZGlhZ25vc2lzIG9yIGRpYWdub3NpcyBjb21wbGV0ZVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwLTYgdHJhbnNpdGlvbi1jb2xvcnMgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+QUkgSGVhbHRoIEFzc2Vzc21lbnQ8L2gxPlxuICAgICAgICAgICAgICAgIHtpc0RpYWdub3Npc0NvbXBsZXRlID8gKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkRpYWdub3NpcyBDb21wbGV0ZSEgUmV2aWV3IHRoZSByZXN1bHRzIGJlbG93LiDinIU8L3A+XG4gICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Db250aW51aW5nIERpYWdub3Npcy4uLiBQbGVhc2UgYW5zd2VyIHRoZSBxdWVzdGlvbnMuIPCflI08L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG5cbiAgICAgICAgICB7LyogTWVzc2FnZXMgKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgb3ZlcmZsb3cteS1hdXRvIHAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0byBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgICAge21lc3NhZ2VzLm1hcCgobWVzc2FnZSkgPT4gKFxuICAgICAgICAgICAgICAgIDxkaXYga2V5PXttZXNzYWdlLmlkfSBjbGFzc05hbWU9e2BmbGV4ICR7bWVzc2FnZS5zZW5kZXIgPT09IFwidXNlclwiID8gXCJqdXN0aWZ5LWVuZFwiIDogXCJqdXN0aWZ5LXN0YXJ0XCJ9YH0+XG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zIG1heC13LTJ4bCAke21lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIiA/IFwiZmxleC1yb3ctcmV2ZXJzZSBzcGFjZS14LXJldmVyc2VcIiA6IFwiXCJ9YH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YGZsZXgtc2hyaW5rLTAgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzaGFkb3ctbGcgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIiA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VyIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxCb3QgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTYgcHktNCByb3VuZGVkLTJ4bCBzaGFkb3ctbGcgYm9yZGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBob3ZlcjpzaGFkb3cteGwgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IFwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWJsdWUtNjAwIHRleHQtd2hpdGUgYm9yZGVyLWJsdWUtMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBDb25kaXRpb25hbCByZW5kZXJpbmcgYmFzZWQgb24gbWVzc2FnZS5jb250ZW50IHR5cGUgKi99XG4gICAgICAgICAgICAgICAgICAgICAge3R5cGVvZiBtZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgcGxhaW4gdGV4dCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGxlYWRpbmctcmVsYXhlZFwiPnttZXNzYWdlLmNvbnRlbnR9PC9wPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgc3RydWN0dXJlZCBJbmZlcm1lZGljYSBxdWVzdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXNlIGFuIElJRkUgZm9yIHByb3BlciB0eXBlIG5hcnJvd2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVzdGlvbkNvbnRlbnQ6IEluZmVybWVkaWNhUXVlc3Rpb24gPSBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNYWluIHF1ZXN0aW9uIHRleHQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtc2VtaWJvbGQgbGVhZGluZy1yZWxheGVkIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb25Db250ZW50LnRleHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgaXRlbXMgYW5kIHRoZWlyIGNob2ljZXMgaWYgYXZhaWxhYmxlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3F1ZXN0aW9uQ29udGVudC5pdGVtcyAmJiBxdWVzdGlvbkNvbnRlbnQuaXRlbXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTMgbXQtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cXVlc3Rpb25Db250ZW50Lml0ZW1zLm1hcCgoaXRlbTogSW5mZXJtZWRpY2FRdWVzdGlvbkl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYga2V5PXtpdGVtLmlkfSBjbGFzc05hbWU9XCJib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcHQtM1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBJdGVtIG5hbWUgKGUuZy4sIFwiVmVyeSBzZW5zaXRpdmUgdG8gbGlnaHRcIikgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDaG9pY2VzIGZvciBlYWNoIGl0ZW0gKFllcywgTm8sIERvbid0IGtub3cgYnV0dG9ucykgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXRlbS5jaG9pY2VzLm1hcCgoY2hvaWNlOiBJbmZlcm1lZGljYUNob2ljZSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y2hvaWNlLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpeCAzOiBVcGRhdGUgYnV0dG9uIG9uQ2xpY2sgaGFuZGxlcnMgdG8gZGlmZmVyZW50aWF0ZSBxdWVzdGlvbiB0eXBlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXN0aW9uQ29udGVudC50eXBlID09PSAnZ3JvdXBlZF9tdWx0aXBsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIGxvY2FsIHN0YXRlIC0gTk8gQVBJIGNhbGwgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zKChwcmV2KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2l0ZW0uaWRdOiBjaG9pY2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3Igc2luZ2xlL2dyb3VwZWRfc2luZ2xlIHF1ZXN0aW9ucyAtIGltbWVkaWF0ZSBBUEkgY2FsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlU2VuZE1lc3NhZ2UoYCR7aXRlbS5pZH06JHtjaG9pY2UuaWR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHB4LTQgcHktMiByb3VuZGVkLWZ1bGwgdGV4dC14cyBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7cXVlc3Rpb25Db250ZW50LnR5cGUgPT09ICdncm91cGVkX211bHRpcGxlJyAmJiB0ZW1wR3JvdXBlZFNlbGVjdGlvbnNbaXRlbS5pZF0gPT09IGNob2ljZS5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGRhcms6YmctYmx1ZS01MDAnIC8vIEhpZ2hsaWdodCBzZWxlY3RlZCBmb3IgZ3JvdXBlZF9tdWx0aXBsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6ICdiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3ZlcjpiZy1ibHVlLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIGRhcms6aG92ZXI6YmctYmx1ZS02MDBgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjaG9pY2UubGFiZWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBcIkNvbmZpcm0gU2VsZWN0aW9uc1wiIGJ1dHRvbiBmb3IgZ3JvdXBlZF9tdWx0aXBsZSBxdWVzdGlvbnMgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtxdWVzdGlvbkNvbnRlbnQudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR3JvdXBlZE11bHRpcGxlQ29uZmlybX0gLy8gRml4IDQ6IEVuc3VyZSBoYW5kbGVHcm91cGVkTXVsdGlwbGVDb25maXJtIGlzIHRoZSBPTkxZIHBhdGggZm9yIGdyb3VwZWRfbXVsdGlwbGUgQVBJIGNhbGxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtPYmplY3Qua2V5cyh0ZW1wR3JvdXBlZFNlbGVjdGlvbnMpLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0zIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1wdXJwbGUtNTAwIHRleHQtd2hpdGUgcm91bmRlZC1mdWxsIGZvbnQtc2VtaWJvbGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3ZlcjpzaGFkb3ctbGcgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbmZpcm0gU2VsZWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkoKVxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHRleHQteHMgJHttZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCIgPyBcInRleHQtYmx1ZS0xMDBcIiA6IFwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIn1gfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS50aW1lc3RhbXAudG9Mb2NhbGVUaW1lU3RyaW5nKFtdLCB7IGhvdXI6IFwiMi1kaWdpdFwiLCBtaW51dGU6IFwiMi1kaWdpdFwiIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5zZW5kZXIgPT09IFwiYm90XCIgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gKGlzU3BlYWtpbmcgPyBzdG9wU3BlYWtpbmcoKSA6IHNwZWFrTWVzc2FnZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IG1lc3NhZ2UuY29udGVudCA6IG1lc3NhZ2UuY29udGVudC50ZXh0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWJsdWUtNTAwIGRhcms6aG92ZXI6dGV4dC1ibHVlLTQwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7aXNTcGVha2luZyA/IDxWb2x1bWVYIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPiA6IDxWb2x1bWUyIGNsYXNzTmFtZT1cImgtNCB3LTRcIiAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgICB7aXNUeXBpbmcgJiYgKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LXN0YXJ0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zIG1heC13LTJ4bFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTAgdy0xMCBoLTEwIHJvdW5kZWQtZnVsbCBiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNTAwIHRvLWJsdWUtNTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxCb3QgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicHgtNiBweS00IHJvdW5kZWQtMnhsIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBzaGFkb3ctbGdcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMyBoLTMgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLWJvdW5jZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPXt7IGFuaW1hdGlvbkRlbGF5OiBcIjAuMXNcIiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTMgaC0zIGJnLXB1cnBsZS01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6IFwiMC4yc1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDxkaXYgcmVmPXttZXNzYWdlc0VuZFJlZn0gLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIEVuaGFuY2VkIElucHV0IEFyZWEgKi99XG4gICAgICAgICAgey8qIENvbmRpdGlvbmFsbHkgcmVuZGVyIGlucHV0IGJhc2VkIG9uIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjb252ZXJzYXRpb24gKi99XG4gICAgICAgICAgeyghY3VyckRpYWdub3Npc1F1ZXN0aW9ucyB8fCBpc0RpYWdub3Npc0NvbXBsZXRlKSA/ICggLy8gRml4IGZvciBsaW5lIDY2NVxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNiB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgdGV4dCBpbnB1dCBmb3IgJ3N5bXB0b21zJyAoYW5kIHBvdGVudGlhbGx5IG90aGVyIHRleHQgdHlwZXMpIG9yICdhZ2UnICovfVxuICAgICAgICAgICAgICAgICAgICAgIHsoY3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIChjdXJyZW50UXVlc3Rpb24/LnR5cGUgPT09IFwidGV4dFwiIHx8IGN1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJhZ2VcIikpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17Y3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiID8gXCJudW1iZXJcIiA6IFwidGV4dFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49e2N1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJhZ2VcIiA/IDAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50SW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VycmVudElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09IFwiRW50ZXJcIiAmJiBoYW5kbGVTZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Y3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiID8gXCJFbnRlciB5b3VyIGFnZSBpbiB5ZWFyc1wiIDogXCJUeXBlIHlvdXIgcmVzcG9uc2UuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTYgcHktNCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtMnhsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWN1cnJlbnRJbnB1dC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtOCBweS00IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ncmVlbi01MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCBob3ZlcjpzaGFkb3ctbGcgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNjYWxlLTEwNSBkaXNhYmxlZDpob3ZlcjpzY2FsZS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIHNlbGVjdCBidXR0b25zIGZvciAnc2V4X2lucHV0JyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIGN1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJzZWxlY3RcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRRdWVzdGlvbi5vcHRpb25zPy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbmRNZXNzYWdlKG9wdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtNiB0ZXh0LWxlZnQgYm9yZGVyLTIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtMnhsIGhvdmVyOmJvcmRlci1ibHVlLTUwMCBkYXJrOmhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMDUgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e29wdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFdoZW4gZGlhZ25vc2lzIGlzIGNvbXBsZXRlLCBvZmZlciB0byBzdGFydCBhIG5ldyBkaWFnbm9zaXMgKi99XG4gICAgICAgICAgICAgICAgICAgICAge2lzRGlhZ25vc2lzQ29tcGxldGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG10LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGFsbCByZWxldmFudCBzdGF0ZXMgdG8gcmVzdGFydCB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VyQWdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VyU2V4KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnB1dChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTcGVha2luZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpYWdub3Npc1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXZpZGVuY2UoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZpZXdJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9ucyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RpYWdub3Npc0NvbXBsZXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zKHt9KTsgLy8gUmVzZXQgdGVtcG9yYXJ5IHNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmUtaW5pdGlhdGUgaW5pdGlhbCBib3QgbWVzc2FnZSBmb3IgYSBmcmVzaCBzdGFydFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJIZWxsbyEgSSdtIHlvdXIgSGVhbHRoQnVkZHkgQUkgYXNzaXN0YW50LiBJJ2xsIGhlbHAgYW5hbHl6ZSB5b3VyIHN5bXB0b21zIGFuZCBwcm92aWRlIHBlcnNvbmFsaXplZCBoZWFsdGggaW5zaWdodHMuIExldCdzIHN0YXJ0IHdpdGggYSBmZXcgcXVlc3Rpb25zLlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UocXVlc3Rpb25zWzBdLnF1ZXN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtOCBweS00IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1wdXJwbGUtNTAwIHRvLXBpbmstNTAwIHRleHQtd2hpdGUgcm91bmRlZC0yeGwgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTMwMCBob3ZlcjpzY2FsZS0xMDVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0IGEgTmV3IERpYWdub3NpcyDwn5SEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAvLyBJZiBJbmZlcm1lZGljYSBpcyBjdXJyZW50bHkgYXNraW5nIHF1ZXN0aW9ucyAoY3VyckRpYWdub3Npc1F1ZXN0aW9ucyBpcyBub3QgbnVsbC9mYWxzZSBhbmQgbm90IGNvbXBsZXRlKSxcbiAgICAgICAgICAgICAgLy8gd2UgZG9uJ3Qgc2hvdyBhIGdlbmVyaWMgaW5wdXQgYm94LiBUaGUgdXNlciBpbnRlcmFjdHMgd2l0aCB0aGUgYnV0dG9ucyBpbiB0aGUgY2hhdCBtZXNzYWdlLlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNiB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAgUGxlYXNlIHNlbGVjdCBhbiBvcHRpb24gZnJvbSB0aGUgcXVlc3Rpb24gYWJvdmUgdG8gY29udGludWUgdGhlIGRpYWdub3Npcy4g8J+RhlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogRW5oYW5jZWQgVGlwcyBTaWRlYmFyICovfVxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctODAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItbCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IGhpZGRlbiBsZzpibG9jayB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3RpY2t5IHRvcC0yNCBzcGFjZS15LTZcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zIG1iLTZcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTIgYmctZ3JhZGllbnQtdG8tciBmcm9tLXllbGxvdy00MDAgdG8tb3JhbmdlLTUwMCByb3VuZGVkLXhsXCI+XG4gICAgICAgICAgICAgICAgPExpZ2h0YnVsYiBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSB0ZXh0LWxnXCI+SGVscGZ1bCBUaXBzPC9oMz5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogRGlzcGxheSB0aXBzIGZvciBjdXJyZW50IHF1ZXN0aW9uICovfVxuICAgICAgICAgICAge2N1cnJlbnRTdGVwIDwgcXVlc3Rpb25zLmxlbmd0aCAmJiBxdWVzdGlvbnNbY3VycmVudFN0ZXBdPy50aXBzICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgICAgICB7cXVlc3Rpb25zW2N1cnJlbnRTdGVwXS50aXBzLm1hcCgodGlwLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBrZXk9e2luZGV4fVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyBwLTQgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ibHVlLTEwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtZ3JlZW4tNTAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBsZWFkaW5nLXJlbGF4ZWRcIj57dGlwfTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7IShjdXJyZW50U3RlcCA8IHF1ZXN0aW9ucy5sZW5ndGggJiYgcXVlc3Rpb25zW2N1cnJlbnRTdGVwXT8udGlwcykgJiYgKFxuICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zIHAtNCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJsdWUtMTAwIGRhcms6Ym9yZGVyLWJsdWUtODAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwiaC01IHctNSB0ZXh0LWdyZWVuLTUwMCBtdC0wLjUgZmxleC1zaHJpbmstMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIGxlYWRpbmctcmVsYXhlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFuc3dlciBhbGwgcXVlc3Rpb25zIGFjY3VyYXRlbHkgZm9yIHRoZSBiZXN0IGRpYWdub3Npcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgcC00IGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtZ3JlZW4tNTAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSWYgdW5zdXJlLCBzZWxlY3QgXCJEb24ndCBrbm93XCIgb3IgXCJVbmtub3duXCIuXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAgdG8tZ3JlZW4tNTAgZGFyazpmcm9tLWJsdWUtOTAwLzIwIGRhcms6dG8tZ3JlZW4tOTAwLzIwIHJvdW5kZWQtMnhsIGJvcmRlciBib3JkZXItYmx1ZS0yMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWJsdWUtOTAwIGRhcms6dGV4dC1ibHVlLTEwMCBtYi0zIGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgbXItMiB0ZXh0LWdyZWVuLTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgUHJpdmFjeSAmIFNlY3VyaXR5XG4gICAgICAgICAgICAgIDwvaDQ+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgWW91ciBoZWFsdGggaW5mb3JtYXRpb24gaXMgZW5jcnlwdGVkIHdpdGggbWlsaXRhcnktZ3JhZGUgc2VjdXJpdHkuIFdlIG5ldmVyIHNoYXJlIHlvdXIgZGF0YSB3aXRoIHRoaXJkXG4gICAgICAgICAgICAgICAgcGFydGllcyBhbmQgY29tcGx5IHdpdGggYWxsIEhJUEFBIHJlZ3VsYXRpb25zLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwLTYgYmctZ3JhZGllbnQtdG8tciBmcm9tLXB1cnBsZS01MCB0by1waW5rLTUwIGRhcms6ZnJvbS1wdXJwbGUtOTAwLzIwIGRhcms6dG8tcGluay05MDAvMjAgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1wdXJwbGUtMjAwIGRhcms6Ym9yZGVyLXB1cnBsZS04MDBcIj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LXB1cnBsZS05MDAgZGFyazp0ZXh0LXB1cnBsZS0xMDAgbWItM1wiPkFJIEFjY3VyYWN5PC9oND5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtNDAwIG1iLTJcIj45NSU8L2Rpdj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXB1cnBsZS04MDAgZGFyazp0ZXh0LXB1cnBsZS0yMDBcIj5cbiAgICAgICAgICAgICAgICBPdXIgQUkgaGFzIGJlZW4gdHJhaW5lZCBvbiBtaWxsaW9ucyBvZiBtZWRpY2FsIGNhc2VzIGFuZCBtYWludGFpbnMgYSBoaWdoIGFjY3VyYWN5IHJhdGUgaW4gc3ltcHRvbVxuICAgICAgICAgICAgICAgIGFuYWx5c2lzLlxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L21haW4+XG5cbiAgICAgIDxGb290ZXIgLz5cbiAgICA8L2Rpdj5cbiAgKVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVJvdXRlciIsIkhlYWRlciIsIkZvb3RlciIsIlNlbmQiLCJCb3QiLCJVc2VyIiwiTGlnaHRidWxiIiwiQ2hlY2tDaXJjbGUiLCJWb2x1bWUyIiwiVm9sdW1lWCIsInY0IiwidXVpZHY0IiwicGFyc2VKc29uUmVzcG9uc2UiLCJyZXNwb25zZSIsInRleHQiLCJvayIsImVycm9yRGF0YSIsIkpTT04iLCJwYXJzZSIsIkVycm9yIiwibWVzc2FnZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJqc29uRXJyb3IiLCJlcnJvciIsImNvbnNvbGUiLCJDaGF0Ym90UGFnZSIsImN1cnJlbnRRdWVzdGlvbiIsInF1ZXN0aW9ucyIsInJvdXRlciIsInVzZXJBZ2UiLCJzZXRVc2VyQWdlIiwidXNlclNleCIsInNldFVzZXJTZXgiLCJtZXNzYWdlcyIsInNldE1lc3NhZ2VzIiwiY3VycmVudElucHV0Iiwic2V0Q3VycmVudElucHV0IiwiY3VycmVudFN0ZXAiLCJzZXRDdXJyZW50U3RlcCIsImlzVHlwaW5nIiwic2V0SXNUeXBpbmciLCJpc1NwZWFraW5nIiwic2V0SXNTcGVha2luZyIsImRpYWdub3Npc1Jlc3VsdCIsInNldERpYWdub3Npc1Jlc3VsdCIsImV2aWRlbmNlIiwic2V0RXZpZGVuY2UiLCJtZXNzYWdlc0VuZFJlZiIsImludGVydmlld0lkIiwic2V0SW50ZXJ2aWV3SWQiLCJjdXJyRGlhZ25vc2lzUXVlc3Rpb25zIiwic2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9ucyIsImN1cnJEaWFnbm9zaXNDb25kaXRpb25zIiwic2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMiLCJpc0RpYWdub3Npc0NvbXBsZXRlIiwic2V0SXNEaWFnbm9zaXNDb21wbGV0ZSIsInRlbXBHcm91cGVkU2VsZWN0aW9ucyIsInNldFRlbXBHcm91cGVkU2VsZWN0aW9ucyIsImlkIiwicXVlc3Rpb24iLCJ0eXBlIiwidGlwcyIsIm9wdGlvbnMiLCJsZW5ndGgiLCJzZXRUaW1lb3V0IiwiYWRkQm90TWVzc2FnZSIsInNjcm9sbFRvQm90dG9tIiwiY3VycmVudCIsInNjcm9sbEludG9WaWV3IiwiYmVoYXZpb3IiLCJnZW5lcmF0ZVVuaXF1ZUlkIiwiRGF0ZSIsIm5vdyIsIk1hdGgiLCJyYW5kb20iLCJjb250ZW50IiwicHJldiIsInNlbmRlciIsInRpbWVzdGFtcCIsImFkZFVzZXJNZXNzYWdlIiwiaGFuZGxlR3JvdXBlZE11bHRpcGxlQ29uZmlybSIsIm5ld0V2aWRlbmNlVG9BZGQiLCJPYmplY3QiLCJlbnRyaWVzIiwibWFwIiwiY2hvaWNlX2lkIiwicHJldkV2aWRlbmNlIiwiZmlsdGVyZWRQcmV2RXZpZGVuY2UiLCJmaWx0ZXIiLCJpdGVtIiwic29tZSIsIm5ld0l0ZW0iLCJjb21iaW5lZEV2aWRlbmNlIiwibmV4dERpYWdub3Npc1Jlc3VsdCIsImdldERpYWdub3NpcyIsInNob3VsZF9zdG9wIiwic3RyaW5naWZ5IiwiY29uZGl0aW9ucyIsImRpc3BsYXlGaW5hbERpYWdub3NpcyIsImVycm9yTWVzc2FnZSIsImhhbmRsZVNlbmRNZXNzYWdlIiwiaW5wdXQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInRyaW0iLCJhZ2UiLCJwYXJzZUludCIsImlzTmFOIiwic2V4IiwidG9Mb3dlckNhc2UiLCJpbmNsdWRlcyIsInJlc3VsdCIsImdldFBhcnNlUmVzdWx0IiwiQXJyYXkiLCJpc0FycmF5IiwibWVudGlvbnMiLCJsb2ciLCJpbml0aWFsRXZpZGVuY2UiLCJtZW50aW9uIiwiZGlhZ25vc2lzIiwicGFydHMiLCJzcGxpdCIsIml0ZW1JZCIsImNob2ljZUlkIiwibmV3RXZpZGVuY2UiLCJjdXJyZW50RXZpZGVuY2UiLCJwYXlsb2FkIiwidW5pdCIsImludGVydmlld19pZCIsInJlcyIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJyZXNwb25zZVN0cmluZyIsImNvbnRleHQiLCJpbmNsdWRlX3Rva2VucyIsImNvcnJlY3Rfc3BlbGxpbmciLCJjb25jZXB0X3R5cGVzIiwiZmluYWxNZXNzYWdlIiwic29ydCIsImEiLCJiIiwicHJvYmFiaWxpdHkiLCJzbGljZSIsImZvckVhY2giLCJjb25kaXRpb24iLCJuYW1lIiwidG9GaXhlZCIsInByb2dyZXNzIiwic3BlYWtNZXNzYWdlIiwid2luZG93IiwidXR0ZXJhbmNlIiwiU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlIiwib25zdGFydCIsIm9uZW5kIiwic3BlZWNoU3ludGhlc2lzIiwic3BlYWsiLCJ3YXJuIiwic3RvcFNwZWFraW5nIiwiY2FuY2VsIiwiZGl2IiwiY2xhc3NOYW1lIiwibWFpbiIsImgxIiwicCIsInJvdW5kIiwic3BhbiIsInN0eWxlIiwid2lkdGgiLCJxdWVzdGlvbkNvbnRlbnQiLCJpdGVtcyIsImNob2ljZXMiLCJjaG9pY2UiLCJidXR0b24iLCJvbkNsaWNrIiwibGFiZWwiLCJkaXNhYmxlZCIsImtleXMiLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJob3VyIiwibWludXRlIiwiYW5pbWF0aW9uRGVsYXkiLCJyZWYiLCJtaW4iLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJvbktleURvd24iLCJrZXkiLCJwbGFjZWhvbGRlciIsIm9wdGlvbiIsImluZGV4IiwiaDMiLCJ0aXAiLCJoNCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/chatbot/page.tsx\n"));

/***/ })

});