"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/chatbot/page",{

/***/ "(app-pages-browser)/./app/chatbot/page.tsx":
/*!******************************!*\
  !*** ./app/chatbot/page.tsx ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChatbotPage)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_Header__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/Header */ \"(app-pages-browser)/./components/Header.jsx\");\n/* harmony import */ var _components_Footer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/Footer */ \"(app-pages-browser)/./components/Footer.jsx\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/user.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/bot.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-x.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/volume-2.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/send.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/lightbulb.js\");\n/* harmony import */ var _barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=Bot,CheckCircle,Lightbulb,Send,User,Volume2,VolumeX!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/circle-check-big.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! uuid */ \"(app-pages-browser)/./node_modules/uuid/dist/esm-browser/v4.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n// Helper function to safely parse API responses\nconst parseJsonResponse = async (response)=>{\n    try {\n        const text = await response.text();\n        if (!response.ok) {\n            // If response is not OK (e.g., 400, 500), try to parse JSON for error messages\n            try {\n                const errorData = JSON.parse(text);\n                throw new Error(errorData.message || \"API error: \".concat(response.status, \" \").concat(response.statusText));\n            } catch (jsonError) {\n                // If text is not JSON or empty, throw generic error with status\n                throw new Error(\"API error: \".concat(response.status, \" \").concat(response.statusText).concat(text ? \": \".concat(text) : ''));\n            }\n        }\n        // If response is OK, try to parse JSON. If text is empty, return an empty object.\n        return text ? JSON.parse(text) : {};\n    } catch (error) {\n        console.error(\"Error parsing JSON response:\", error);\n        // Re-throw to be caught by the calling function (e.g., getDiagnosis, getParseResult)\n        throw error;\n    }\n};\nfunction ChatbotPage() {\n    var _currentQuestion_options, _questions_currentStep, _questions_currentStep1;\n    _s();\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [userAge, setUserAge] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [userSex, setUserSex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [messages, setMessages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentInput, setCurrentInput] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentStep, setCurrentStep] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0);\n    const [isTyping, setIsTyping] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isSpeaking, setIsSpeaking] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [diagnosisResult, setDiagnosisResult] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Raw JSON for debugging if needed\n    ;\n    const [evidence, setEvidence] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]) // This state is updated, but not directly read by getDiagnosis for immediate call\n    ;\n    const messagesEndRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [interviewId, setInterviewId] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [currDiagnosisQuestions, setCurrDiagnosisQuestions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null) // Explicitly type\n    ;\n    const [currDiagnosisConditions, setCurrDiagnosisConditions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isDiagnosisComplete, setIsDiagnosisComplete] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // âœ¨ NEW STATE FOR GROUPED_MULTIPLE SELECTIONS âœ¨\n    const [tempGroupedSelections, setTempGroupedSelections] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Initial fixed questions for the bot\n    const questions = [\n        {\n            id: \"age_input\",\n            question: \"Hi. Please tell me your age.\",\n            type: \"age\",\n            tips: [\n                \"Tell your exact age.\",\n                \"Units should be in years.\",\n                \"Do not tell an exaggerated age as it may lead to wrong diagnosis.\"\n            ]\n        },\n        {\n            id: \"sex_input\",\n            question: \"What is your gender?\",\n            type: \"select\",\n            options: [\n                \"male\",\n                \"female\",\n                \"other\"\n            ],\n            tips: [\n                \"Please specify your gender clearly.\",\n                \"If you prefer not to say, select 'other'.\",\n                \"This helps us provide better insights.\"\n            ]\n        },\n        {\n            id: \"symptoms\",\n            question: \"What symptoms are you experiencing? Please describe them in detail.\",\n            type: \"text\",\n            tips: [\n                \"Be specific about location, intensity, and duration.\",\n                \"Mention any triggers you've noticed.\",\n                \"Include associated symptoms.\"\n            ]\n        }\n    ];\n    // Initial bot message on component mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            if (messages.length === 0) {\n                setTimeout({\n                    \"ChatbotPage.useEffect\": ()=>{\n                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                        setTimeout({\n                            \"ChatbotPage.useEffect\": ()=>{\n                                addBotMessage(questions[0].question);\n                            }\n                        }[\"ChatbotPage.useEffect\"], 1500) // Give user a bit more time after intro\n                        ;\n                    }\n                }[\"ChatbotPage.useEffect\"], 500);\n            }\n        }\n    }[\"ChatbotPage.useEffect\"], []) // Empty dependency array means this runs once on mount\n    ;\n    // Auto-scroll to bottom on new messages\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            scrollToBottom();\n        }\n    }[\"ChatbotPage.useEffect\"], [\n        messages\n    ]);\n    // âœ¨ NEW useEffect to clear tempGroupedSelections when question changes âœ¨\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"ChatbotPage.useEffect\": ()=>{\n            if (currDiagnosisQuestions && currDiagnosisQuestions.type === 'grouped_multiple') {\n                // Clear previous selections when a new grouped_multiple question appears\n                setTempGroupedSelections({});\n            }\n        }\n    }[\"ChatbotPage.useEffect\"], [\n        currDiagnosisQuestions\n    ]);\n    const scrollToBottom = ()=>{\n        var _messagesEndRef_current;\n        (_messagesEndRef_current = messagesEndRef.current) === null || _messagesEndRef_current === void 0 ? void 0 : _messagesEndRef_current.scrollIntoView({\n            behavior: \"smooth\"\n        });\n    };\n    // Generate unique ID for messages\n    const generateUniqueId = ()=>Date.now() + Math.random();\n    // Add bot message with typing indicator\n    const addBotMessage = (content)=>{\n        setIsTyping(true);\n        setTimeout(()=>{\n            setMessages((prev)=>[\n                    ...prev,\n                    {\n                        id: generateUniqueId(),\n                        content,\n                        sender: \"bot\",\n                        timestamp: new Date()\n                    }\n                ]);\n            setIsTyping(false);\n        }, 1000) // Simulate typing delay\n        ;\n    };\n    // Add user message\n    const addUserMessage = (content)=>{\n        setMessages((prev)=>[\n                ...prev,\n                {\n                    id: generateUniqueId(),\n                    content,\n                    sender: \"user\",\n                    timestamp: new Date()\n                }\n            ]);\n    };\n    // âœ¨ NEW FUNCTION TO HANDLE GROUPED_MULTIPLE CONFIRMATION âœ¨\n    const handleGroupedMultipleConfirm = async ()=>{\n        if (Object.keys(tempGroupedSelections).length === 0) {\n            addBotMessage(\"Please select at least one option before confirming.\");\n            return;\n        }\n        const newEvidenceItems = Object.entries(tempGroupedSelections).map((param)=>{\n            let [id, choice_id] = param;\n            return {\n                id,\n                choice_id\n            };\n        });\n        // Update the main evidence array with all selected items for this grouped question\n        setEvidence((prevEvidence)=>{\n            var _currDiagnosisQuestions_items;\n            // Filter out any existing entries for the items in the current grouped question\n            // before adding the new ones. This ensures only the latest choices are kept.\n            const currentQuestionItemIds = (currDiagnosisQuestions === null || currDiagnosisQuestions === void 0 ? void 0 : (_currDiagnosisQuestions_items = currDiagnosisQuestions.items) === null || _currDiagnosisQuestions_items === void 0 ? void 0 : _currDiagnosisQuestions_items.map((item)=>item.id)) || [];\n            const filteredPrevEvidence = prevEvidence.filter((item)=>!currentQuestionItemIds.includes(item.id));\n            return [\n                ...filteredPrevEvidence,\n                ...newEvidenceItems\n            ];\n        });\n        setIsTyping(true);\n        setTimeout(async ()=>{\n            try {\n                // âœ¨ Call getDiagnosis with the combined evidence âœ¨\n                const combinedEvidence = [\n                    ...evidence.filter((item)=>{\n                        var _currDiagnosisQuestions_items;\n                        const currentQuestionItemIds = (currDiagnosisQuestions === null || currDiagnosisQuestions === void 0 ? void 0 : (_currDiagnosisQuestions_items = currDiagnosisQuestions.items) === null || _currDiagnosisQuestions_items === void 0 ? void 0 : _currDiagnosisQuestions_items.map((item)=>item.id)) || [];\n                        return !currentQuestionItemIds.includes(item.id);\n                    }),\n                    ...newEvidenceItems\n                ];\n                const nextDiagnosisResult = await getDiagnosis(combinedEvidence);\n                if (!nextDiagnosisResult) {\n                    throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                }\n                if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                    throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                }\n                console.log(\"Next diagnosis result (grouped_multiple):\", nextDiagnosisResult);\n                setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2));\n                setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                setTempGroupedSelections({}); // Clear temporary selections after confirming\n                setIsTyping(false);\n                if (nextDiagnosisResult.should_stop) {\n                    displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                } else if (nextDiagnosisResult.question) {\n                    addBotMessage(nextDiagnosisResult.question);\n                } else {\n                    addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                }\n            } catch (error) {\n                console.error(\"Error during subsequent diagnosis (grouped_multiple):\", error);\n                const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                setIsTyping(false);\n            }\n        }, 1000);\n    };\n    // Main message handling logic\n    const handleSendMessage = async (input)=>{\n        const value = input !== undefined ? input : currentInput;\n        if (!value.trim()) return;\n        // Clear currentInput immediately for all types of responses\n        setCurrentInput(\"\");\n        // --- Handling Initial Fixed Questions (Age, Sex) ---\n        // This block runs if we are still within the 'questions' array flow AND NOT on the last question (symptoms)\n        if (currentStep < questions.length - 1) {\n            const currentQuestion = questions[currentStep];\n            // Add user message for these initial, user-typed/selected inputs\n            addUserMessage(value);\n            if (currentQuestion.id === \"age_input\") {\n                const age = parseInt(value, 10);\n                if (isNaN(age) || age <= 0 || age > 120) {\n                    addBotMessage(\"Please enter a valid age in years (e.g., 30).\");\n                    return;\n                }\n                setUserAge(age);\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            } else if (currentQuestion.id === \"sex_input\") {\n                const sex = value.toLowerCase();\n                if (![\n                    \"male\",\n                    \"female\",\n                    \"other\"\n                ].includes(sex)) {\n                    addBotMessage(\"Please select from 'male', 'female', or 'other'.\");\n                    return;\n                }\n                setUserSex(sex);\n                if (!interviewId) {\n                    setInterviewId((0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()); // Initialize interview ID\n                }\n                setCurrentStep(currentStep + 1);\n                setTimeout(()=>{\n                    addBotMessage(questions[currentStep + 1].question);\n                }, 1000);\n                return;\n            }\n        } else if (currentStep === questions.length - 1 && questions[currentStep].id === \"symptoms\") {\n            // This will be the symptoms question\n            const currentQuestion = questions[currentStep];\n            // Add user message for symptoms description\n            addUserMessage(value);\n            if (value.length < 10) {\n                addBotMessage(\"Please provide a more detailed description of your symptoms (at least 10 characters).\");\n                return;\n            }\n            try {\n                addBotMessage(\"Thank you for sharing your symptoms. Please wait while I analyze them.\");\n                setIsTyping(true);\n                // Fetch parse result\n                const result = await getParseResult(value);\n                if (!result || !Array.isArray(result.mentions)) {\n                    throw new Error(\"Received an invalid response format for symptom analysis. Please try again.\");\n                }\n                console.log(\"Parse result:\", result);\n                const initialEvidence = result.mentions.map((mention)=>({\n                        id: mention.id,\n                        choice_id: mention.choice_id\n                    }));\n                // NEW CHECK HERE: If no symptoms were parsed\n                if (initialEvidence.length === 0) {\n                    addBotMessage(\"I couldn't identify any symptoms from your description. Could you please rephrase or provide more details? For example, 'I have a headache and a fever.'\");\n                    setIsTyping(false);\n                    return; // Stop here, don't call getDiagnosis\n                }\n                setEvidence(initialEvidence); // This updates the state, but we don't rely on it for the immediate API call\n                // âœ¨ MODIFIED: Pass initialEvidence directly to getDiagnosis to avoid state update timing issues âœ¨\n                console.log(\"DEBUG: userAge before getDiagnosis (initial symptoms):\", userAge);\n                console.log(\"DEBUG: userSex before getDiagnosis (initial symptoms):\", userSex);\n                console.log(\"DEBUG: evidence.length before getDiagnosis (initial symptoms):\", initialEvidence.length); // Log the actual array length being passed\n                const diagnosis = await getDiagnosis(initialEvidence); // Pass the immediate value\n                if (!diagnosis) {\n                    throw new Error(\"No diagnosis data received from the API. The server might be busy or experienced an error.\");\n                }\n                // If diagnosis is not complete, it MUST provide a question\n                if (diagnosis.should_stop === false && !diagnosis.question) {\n                    throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                }\n                console.log(\"Initial diagnosis result:\", diagnosis);\n                setDiagnosisResult(JSON.stringify(diagnosis, null, 2)); // Store raw result for debugging\n                setCurrDiagnosisConditions(diagnosis.conditions || []);\n                setIsDiagnosisComplete(diagnosis.should_stop);\n                setCurrDiagnosisQuestions(diagnosis.question || null);\n                setIsTyping(false);\n                // Removed setCurrentStep(currentStep + 1) here as the flow transitions to Infermedica questions.\n                if (diagnosis.should_stop) {\n                    displayFinalDiagnosis(diagnosis.conditions);\n                } else if (diagnosis.question) {\n                    addBotMessage(diagnosis.question); // Ask the first Infermedica question\n                } else {\n                    addBotMessage(\"The diagnosis process encountered an unexpected state. Please consult a healthcare professional.\");\n                }\n            } catch (error) {\n                console.error(\"Error during initial diagnosis process:\", error);\n                const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                setIsTyping(false);\n            }\n            return; // Exit after handling symptoms\n        } else if (currDiagnosisQuestions && !isDiagnosisComplete) {\n            // If it's a grouped_multiple question, this block should ideally not be hit by button clicks.\n            // It should be handled by handleGroupedMultipleConfirm\n            if (currDiagnosisQuestions.type === 'grouped_multiple') {\n                addBotMessage(\"Please use the 'Confirm Selections' button after choosing all applicable options.\");\n                return;\n            }\n            // For Infermedica choice buttons (single/grouped_single), the interaction is the answer\n            const parts = value.split(':');\n            if (parts.length === 2) {\n                const itemId = parts[0];\n                const choiceId = parts[1];\n                // Basic validation for choiceId\n                if (![\n                    \"present\",\n                    \"absent\",\n                    \"unknown\"\n                ].includes(choiceId)) {\n                    addBotMessage(\"Invalid answer. Please select one of the provided options.\");\n                    return;\n                }\n                // Update the evidence array with the new answer (replace if exists, add if new)\n                // We use functional update to ensure we get the latest state\n                setEvidence((prevEvidence)=>{\n                    const updatedEvidence = prevEvidence.filter((item)=>item.id !== itemId);\n                    const newEvidence = [\n                        ...updatedEvidence,\n                        {\n                            id: itemId,\n                            choice_id: choiceId\n                        }\n                    ];\n                    setIsTyping(true);\n                    // âœ¨ MODIFIED: Pass newEvidence directly to getDiagnosis within the setTimeout âœ¨\n                    setTimeout(async ()=>{\n                        try {\n                            console.log(\"DEBUG: userAge before getDiagnosis (follow-up):\", userAge);\n                            console.log(\"DEBUG: userSex before getDiagnosis (follow-up):\", userSex);\n                            console.log(\"DEBUG: evidence.length before getDiagnosis (follow-up):\", newEvidence.length); // Log the actual array length being passed\n                            const nextDiagnosisResult = await getDiagnosis(newEvidence); // Pass newEvidence here\n                            if (!nextDiagnosisResult) {\n                                throw new Error(\"No further diagnosis data received from the API. The server might be busy or experienced an error.\");\n                            }\n                            if (nextDiagnosisResult.should_stop === false && !nextDiagnosisResult.question) {\n                                throw new Error(\"Diagnosis flow encountered an unexpected state: Expected a question but none was provided.\");\n                            }\n                            console.log(\"Next diagnosis result:\", nextDiagnosisResult);\n                            setDiagnosisResult(JSON.stringify(nextDiagnosisResult, null, 2)); // Store raw result\n                            setCurrDiagnosisConditions(nextDiagnosisResult.conditions || []);\n                            setIsDiagnosisComplete(nextDiagnosisResult.should_stop);\n                            setCurrDiagnosisQuestions(nextDiagnosisResult.question || null);\n                            setIsTyping(false);\n                            if (nextDiagnosisResult.should_stop) {\n                                displayFinalDiagnosis(nextDiagnosisResult.conditions);\n                            } else if (nextDiagnosisResult.question) {\n                                addBotMessage(nextDiagnosisResult.question);\n                            } else {\n                                addBotMessage(\"The diagnosis process needs more information, but I couldn't generate the next question. Please consult a healthcare professional.\");\n                            }\n                        } catch (error) {\n                            console.error(\"Error during subsequent diagnosis:\", error);\n                            const errorMessage = error instanceof Error ? error.message : \"An unknown error occurred.\";\n                            addBotMessage(\"An error occurred: \".concat(errorMessage, \". Please try again.\"));\n                            setIsTyping(false);\n                        }\n                    }, 1000);\n                    return newEvidence; // Return the updated state to React\n                });\n            } else {\n                // This is a free-text input while Infermedica questions are active\n                addBotMessage(\"Please use the provided buttons to answer the health questions. Typing free-text is not supported during this phase.\");\n            }\n        } else if (isDiagnosisComplete) {\n            addBotMessage(\"The diagnosis is complete. Please click 'Start a New Diagnosis' if you wish to begin a new assessment. ðŸ”„\");\n        } else {\n            // This should not happen, but if it does, we handle it gracefully\n            addBotMessage(\"An unexpected state occurred. Please try again or refresh the page.\");\n        }\n    };\n    // Infermedica API calls\n    // âœ¨ MODIFIED: getDiagnosis now accepts 'currentEvidence' as a parameter âœ¨\n    const getDiagnosis = async (currentEvidence)=>{\n        // These checks should ideally prevent the call from even being made if data is missing,\n        // but the throwing error provides clearer messages.\n        if (userAge === null || userSex === null || currentEvidence.length === 0) {\n            throw new Error(\"Diagnosis prerequisites (age, sex, or symptoms) are missing. Cannot proceed with diagnosis.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            evidence: currentEvidence,\n            interview_id: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            console.log(\"DEBUG: Sending payload to /diagnosis:\", JSON.stringify(payload, null, 2));\n            const res = await fetch(\"http://localhost:5000/api/infermedica/diagnosis\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /diagnosis failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    const getParseResult = async (responseString)=>{\n        if (userAge === null || userSex === null) {\n            throw new Error(\"Parsing prerequisites (age or sex) are missing. Cannot parse symptoms.\");\n        }\n        const payload = {\n            age: {\n                value: userAge,\n                unit: \"year\"\n            },\n            sex: userSex,\n            text: responseString,\n            context: [],\n            include_tokens: true,\n            correct_spelling: true,\n            concept_types: [\n                \"symptom\"\n            ],\n            interviewId: interviewId || (0,uuid__WEBPACK_IMPORTED_MODULE_5__[\"default\"])()\n        };\n        try {\n            const res = await fetch(\"http://localhost:5000/api/infermedica/parse\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(payload)\n            });\n            return await parseJsonResponse(res); // Use helper for parsing and error handling\n        } catch (error) {\n            console.error(\"API call to /parse failed:\", error);\n            throw error; // Re-throw for handleSendMessage to catch\n        }\n    };\n    // Displays the final diagnosis message\n    const displayFinalDiagnosis = (conditions)=>{\n        let finalMessage = \"Based on the information provided, here are the potential conditions:\\n\\n\";\n        if (conditions && conditions.length > 0) {\n            // Sort by probability and take top 3\n            conditions.sort((a, b)=>b.probability - a.probability);\n            conditions.slice(0, 3).forEach((condition)=>{\n                finalMessage += \"**\".concat(condition.name, \"**: \").concat((condition.probability * 100).toFixed(2), \"% probability.\\n\");\n            });\n            finalMessage += \"\\n\\n**Disclaimer**: This AI assistant provides insights based on the information you've shared and is not a substitute for professional medical advice. Always consult a qualified healthcare professional for an accurate diagnosis and treatment plan. Your health is important! ðŸ©º\";\n        } else {\n            finalMessage = \"Based on the information provided, I couldn't identify a specific condition at this time. It's important to remember that AI diagnosis is not a substitute for professional medical advice. Please consult a qualified healthcare professional for a complete diagnosis. Your well-being is our priority. ðŸ™\";\n        }\n        addBotMessage(finalMessage);\n    };\n    // Define currentQuestion here to make it accessible in JSX\n    const currentQuestion = questions[currentStep];\n    // Calculate progress for the initial fixed questions only\n    const progress = (currentStep + 1) / questions.length * 100;\n    // Text-to-Speech\n    const speakMessage = (text)=>{\n        if (\"speechSynthesis\" in window) {\n            const utterance = new SpeechSynthesisUtterance(text);\n            utterance.onstart = ()=>setIsSpeaking(true);\n            utterance.onend = ()=>setIsSpeaking(false);\n            speechSynthesis.speak(utterance);\n        } else {\n            console.warn(\"Speech synthesis not supported in this browser.\");\n        }\n    };\n    const stopSpeaking = ()=>{\n        if (\"speechSynthesis\" in window) {\n            speechSynthesis.cancel();\n            setIsSpeaking(false);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col transition-colors\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Header__WEBPACK_IMPORTED_MODULE_3__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 564,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                className: \"flex-1 pt-16 flex\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 flex flex-col\",\n                        children: [\n                            currentStep < questions.length && !isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                                            className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                                            children: \"AI Health Assessment\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 575,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                            className: \"text-gray-600 dark:text-gray-400\",\n                                                            children: \"Powered by advanced machine learning\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 576,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 574,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-right\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-3xl font-bold text-blue-600 dark:text-blue-400\",\n                                                            children: [\n                                                                Math.round(progress),\n                                                                \"%\"\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 579,\n                                                            columnNumber: 29\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"text-sm text-gray-500 dark:text-gray-400\",\n                                                            children: \"Complete\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 580,\n                                                            columnNumber: 29\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 578,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 573,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center justify-between mb-2\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-gray-600 dark:text-gray-400\",\n                                                    children: \"Assessment Progress\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 585,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                    className: \"text-sm font-medium text-blue-600 dark:text-blue-400\",\n                                                    children: [\n                                                        currentStep + 1,\n                                                        \" of \",\n                                                        questions.length\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 586,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 overflow-hidden\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-500 relative overflow-hidden\",\n                                                style: {\n                                                    width: \"\".concat(progress, \"%\")\n                                                },\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"absolute inset-0 bg-white/20 animate-pulse\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 596,\n                                                    columnNumber: 25\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 592,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 591,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 572,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 571,\n                                columnNumber: 13\n                            }, this) : // Display a status message when in Infermedica diagnosis or diagnosis complete\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 transition-colors text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-2xl font-bold text-gray-900 dark:text-white\",\n                                        children: \"AI Health Assessment\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 17\n                                    }, this),\n                                    isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Diagnosis Complete! Review the results below. âœ…\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 606,\n                                        columnNumber: 21\n                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-gray-600 dark:text-gray-400\",\n                                        children: \"Continuing Diagnosis... Please answer the questions. \\uD83D\\uDD0D\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                        lineNumber: 608,\n                                        columnNumber: 21\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 603,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex-1 overflow-y-auto p-4\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto space-y-6\",\n                                    children: [\n                                        messages.map((message)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex \".concat(message.sender === \"user\" ? \"justify-end\" : \"justify-start\"),\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex items-start space-x-3 max-w-2xl \".concat(message.sender === \"user\" ? \"flex-row-reverse space-x-reverse\" : \"\"),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center shadow-lg \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600\" : \"bg-gradient-to-r from-green-500 to-blue-500\"),\n                                                            children: message.sender === \"user\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 629,\n                                                                columnNumber: 25\n                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                className: \"h-5 w-5 text-white\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                lineNumber: 631,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 621,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"px-6 py-4 rounded-2xl shadow-lg border transition-all duration-300 hover:shadow-xl \".concat(message.sender === \"user\" ? \"bg-gradient-to-r from-blue-500 to-blue-600 text-white border-blue-200\" : \"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-800 dark:text-gray-200\"),\n                                                            children: [\n                                                                typeof message.content === \"string\" ? // Render plain text message\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                    className: \"text-sm leading-relaxed\",\n                                                                    children: message.content\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 644,\n                                                                    columnNumber: 25\n                                                                }, this) : // Render structured Infermedica question\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-sm font-semibold leading-relaxed mb-2\",\n                                                                            children: message.content.text\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 649,\n                                                                            columnNumber: 27\n                                                                        }, this),\n                                                                        message.content.items && message.content.items.length > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"space-y-3 mt-2\",\n                                                                            children: [\n                                                                                message.content.items.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                        className: \"border-t border-gray-200 dark:border-gray-700 pt-3\",\n                                                                                        children: [\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                                                className: \"text-sm font-medium text-gray-800 dark:text-gray-200 mb-2\",\n                                                                                                children: item.name\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                lineNumber: 659,\n                                                                                                columnNumber: 35\n                                                                                            }, this),\n                                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                                className: \"flex flex-wrap gap-2\",\n                                                                                                children: item.choices.map((choice)=>{\n                                                                                                    const isSelected = message.content.type === 'grouped_multiple' && tempGroupedSelections[item.id] === choice.id;\n                                                                                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                                        onClick: ()=>{\n                                                                                                            if (message.content.type === 'grouped_multiple') {\n                                                                                                                // For grouped_multiple, update local state\n                                                                                                                setTempGroupedSelections((prev)=>({\n                                                                                                                        ...prev,\n                                                                                                                        [item.id]: choice.id\n                                                                                                                    }));\n                                                                                                            } else {\n                                                                                                                // For single/grouped_single, immediately send message\n                                                                                                                handleSendMessage(\"\".concat(item.id, \":\").concat(choice.id));\n                                                                                                            }\n                                                                                                        },\n                                                                                                        className: \"px-4 py-2 rounded-full text-xs font-medium transition-colors\\n                                                        \".concat(isSelected ? 'bg-blue-600 text-white hover:bg-blue-700' // Selected style\n                                                                                                         : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-blue-500 hover:text-white dark:hover:bg-blue-600' // Default style\n                                                                                                        ),\n                                                                                                        children: choice.label\n                                                                                                    }, choice.id, false, {\n                                                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                        lineNumber: 668,\n                                                                                                        columnNumber: 41\n                                                                                                    }, this);\n                                                                                                })\n                                                                                            }, void 0, false, {\n                                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                                lineNumber: 663,\n                                                                                                columnNumber: 35\n                                                                                            }, this)\n                                                                                        ]\n                                                                                    }, item.id, true, {\n                                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                        lineNumber: 657,\n                                                                                        columnNumber: 33\n                                                                                    }, this)),\n                                                                                message.content.type === 'grouped_multiple' && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"mt-4 border-t border-gray-200 dark:border-gray-700 pt-4\",\n                                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                                        onClick: handleGroupedMultipleConfirm,\n                                                                                        disabled: Object.keys(tempGroupedSelections).length === 0,\n                                                                                        className: \"w-full px-6 py-3 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-xl font-semibold hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\",\n                                                                                        children: \"Confirm Selections\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                        lineNumber: 698,\n                                                                                        columnNumber: 35\n                                                                                    }, this)\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                    lineNumber: 697,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 655,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 647,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"flex items-center justify-between mt-3\",\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"text-xs \".concat(message.sender === \"user\" ? \"text-blue-100\" : \"text-gray-500 dark:text-gray-400\"),\n                                                                            children: message.timestamp.toLocaleTimeString([], {\n                                                                                hour: \"2-digit\",\n                                                                                minute: \"2-digit\"\n                                                                            })\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 714,\n                                                                            columnNumber: 25\n                                                                        }, this),\n                                                                        message.sender === \"bot\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                            onClick: ()=>isSpeaking ? stopSpeaking() : speakMessage(typeof message.content === \"string\" ? message.content : message.content.text),\n                                                                            className: \"text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors\",\n                                                                            children: isSpeaking ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 726,\n                                                                                columnNumber: 43\n                                                                            }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                                                className: \"h-4 w-4\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                                lineNumber: 726,\n                                                                                columnNumber: 77\n                                                                            }, this)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                            lineNumber: 720,\n                                                                            columnNumber: 27\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 713,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 634,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 618,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, message.id, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 617,\n                                                columnNumber: 17\n                                            }, this)),\n                                        isTyping && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex justify-start\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"flex items-start space-x-3 max-w-2xl\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"flex-shrink-0 w-10 h-10 rounded-full bg-gradient-to-r from-green-500 to-blue-500 flex items-center justify-center shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                            className: \"h-5 w-5 text-white\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 739,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 738,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"px-6 py-4 rounded-2xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 shadow-lg\",\n                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"flex space-x-2\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-blue-500 rounded-full animate-bounce\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 743,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-green-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.1s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 744,\n                                                                    columnNumber: 25\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                    className: \"w-3 h-3 bg-purple-500 rounded-full animate-bounce\",\n                                                                    style: {\n                                                                        animationDelay: \"0.2s\"\n                                                                    }\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                                    lineNumber: 748,\n                                                                    columnNumber: 25\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                            lineNumber: 742,\n                                                            columnNumber: 23\n                                                        }, this)\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 741,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 737,\n                                                columnNumber: 19\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 736,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            ref: messagesEndRef\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 757,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 615,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 614,\n                                columnNumber: 11\n                            }, this),\n                            !currDiagnosisQuestions || isDiagnosisComplete ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 transition-colors\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"max-w-4xl mx-auto\",\n                                    children: [\n                                        currentStep < questions.length && ((currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"text\" || (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\") && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex space-x-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"flex-1 relative\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                        type: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"number\" : \"text\",\n                                                        min: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? 0 : undefined,\n                                                        value: currentInput,\n                                                        onChange: (e)=>setCurrentInput(e.target.value),\n                                                        onKeyDown: (e)=>e.key === \"Enter\" && handleSendMessage(),\n                                                        placeholder: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"age\" ? \"Enter your age in years\" : \"Type your response...\",\n                                                        className: \"w-full px-6 py-4 border border-gray-300 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-colors\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 770,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 769,\n                                                    columnNumber: 31\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(),\n                                                    disabled: !currentInput.trim(),\n                                                    className: \"px-8 py-4 bg-gradient-to-r from-blue-500 to-green-500 text-white rounded-2xl hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 hover:scale-105 disabled:hover:scale-100\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                        className: \"h-5 w-5\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 785,\n                                                        columnNumber: 35\n                                                    }, this)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 780,\n                                                    columnNumber: 31\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 768,\n                                            columnNumber: 27\n                                        }, this),\n                                        currentStep < questions.length && (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.type) === \"select\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n                                            children: (_currentQuestion_options = currentQuestion.options) === null || _currentQuestion_options === void 0 ? void 0 : _currentQuestion_options.map((option, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                    onClick: ()=>handleSendMessage(option),\n                                                    className: \"p-6 text-left border-2 border-gray-200 dark:border-gray-600 rounded-2xl hover:border-blue-500 dark:hover:border-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all duration-300 hover:shadow-lg hover:scale-105 bg-white dark:bg-gray-800 text-gray-900 dark:text-white\",\n                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"font-medium\",\n                                                        children: option\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                        lineNumber: 799,\n                                                        columnNumber: 39\n                                                    }, this)\n                                                }, index, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 794,\n                                                    columnNumber: 35\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 792,\n                                            columnNumber: 27\n                                        }, this),\n                                        isDiagnosisComplete && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-center mt-6\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>{\n                                                    // Reset all relevant states to restart the process\n                                                    setUserAge(null);\n                                                    setUserSex(null);\n                                                    setMessages([]);\n                                                    setCurrentInput(\"\");\n                                                    setCurrentStep(0);\n                                                    setIsTyping(false);\n                                                    setIsSpeaking(false);\n                                                    setDiagnosisResult(null);\n                                                    setEvidence([]);\n                                                    setInterviewId(null);\n                                                    setCurrDiagnosisQuestions(null);\n                                                    setCurrDiagnosisConditions([]);\n                                                    setIsDiagnosisComplete(false);\n                                                    setTempGroupedSelections({}); // Reset new temporary state as well\n                                                    // Re-initiate initial bot message for a fresh start\n                                                    setTimeout(()=>{\n                                                        addBotMessage(\"Hello! I'm your HealthBuddy AI assistant. I'll help analyze your symptoms and provide personalized health insights. Let's start with a few questions.\");\n                                                        setTimeout(()=>{\n                                                            addBotMessage(questions[0].question);\n                                                        }, 1000);\n                                                    }, 500);\n                                                },\n                                                className: \"px-8 py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all duration-300 hover:scale-105\",\n                                                children: \"Start a New Diagnosis \\uD83D\\uDD04\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 808,\n                                                columnNumber: 31\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 807,\n                                            columnNumber: 27\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 765,\n                                    columnNumber: 19\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 764,\n                                columnNumber: 15\n                            }, this) : // If Infermedica is currently asking questions (currDiagnosisQuestions is not null/false and not complete),\n                            // we don't show a generic input box. The user interacts with the buttons in the chat message.\n                            // We also check for grouped_multiple to hide the input box if that's active,\n                            // as the user will use \"Confirm Selections\" button.\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 p-6 text-center text-gray-500 dark:text-gray-400\",\n                                children: (currDiagnosisQuestions === null || currDiagnosisQuestions === void 0 ? void 0 : currDiagnosisQuestions.type) === 'grouped_multiple' ? \"Select all applicable options above, then click 'Confirm Selections'.\" : \"Please select an option from the question above to continue the diagnosis. ðŸ‘†\"\n                            }, void 0, false, {\n                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                lineNumber: 848,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 568,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 p-6 hidden lg:block transition-colors\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"sticky top-24 space-y-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center space-x-3 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"p-2 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-xl\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                className: \"h-5 w-5 text-white\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                lineNumber: 862,\n                                                columnNumber: 17\n                                            }, this)\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 861,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                            className: \"font-bold text-gray-900 dark:text-white text-lg\",\n                                            children: \"Helpful Tips\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 864,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 860,\n                                    columnNumber: 13\n                                }, this),\n                                currentStep < questions.length && ((_questions_currentStep = questions[currentStep]) === null || _questions_currentStep === void 0 ? void 0 : _questions_currentStep.tips) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: questions[currentStep].tips.map((tip, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 875,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: tip\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 876,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, index, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 871,\n                                            columnNumber: 19\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 869,\n                                    columnNumber: 15\n                                }, this),\n                                !(currentStep < questions.length && ((_questions_currentStep1 = questions[currentStep]) === null || _questions_currentStep1 === void 0 ? void 0 : _questions_currentStep1.tips)) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 884,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: \"Answer all questions accurately for the best diagnosis.\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 885,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 883,\n                                            columnNumber: 21\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-100 dark:border-blue-800\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 890,\n                                                    columnNumber: 25\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                    className: \"text-sm text-gray-700 dark:text-gray-300 leading-relaxed\",\n                                                    children: 'If unsure, select \"Don\\'t know\" or \"Unknown\".'\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 891,\n                                                    columnNumber: 25\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 889,\n                                            columnNumber: 21\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 882,\n                                    columnNumber: 18\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-2xl border border-blue-200 dark:border-blue-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-blue-900 dark:text-blue-100 mb-3 flex items-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_Bot_CheckCircle_Lightbulb_Send_User_Volume2_VolumeX_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                    className: \"h-5 w-5 mr-2 text-green-500\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                                    lineNumber: 901,\n                                                    columnNumber: 17\n                                                }, this),\n                                                \"Privacy & Security\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 900,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-blue-800 dark:text-blue-200 leading-relaxed\",\n                                            children: \"Your health information is encrypted with military-grade security. We never share your data with third parties and comply with all HIPAA regulations.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 904,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 899,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"p-6 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-2xl border border-purple-200 dark:border-purple-800\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h4\", {\n                                            className: \"font-bold text-purple-900 dark:text-purple-100 mb-3\",\n                                            children: \"AI Accuracy\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 911,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2\",\n                                            children: \"95%\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 912,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"text-sm text-purple-800 dark:text-purple-200\",\n                                            children: \"Our AI has been trained on millions of medical cases and maintains a high accuracy rate in symptom analysis.\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                            lineNumber: 913,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                                    lineNumber: 910,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                            lineNumber: 859,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                        lineNumber: 858,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 566,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_Footer__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n                lineNumber: 922,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/omeradnan/Desktop/programming/health_app/health_app/frontend/app/chatbot/page.tsx\",\n        lineNumber: 563,\n        columnNumber: 5\n    }, this);\n}\n_s(ChatbotPage, \"vh1ng6GsnXT84sHTVIx1hkzoSUI=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = ChatbotPage;\nvar _c;\n$RefreshReg$(_c, \"ChatbotPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9jaGF0Ym90L3BhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ21EO0FBQ1I7QUFDQztBQUNBO0FBQzRDO0FBQ3JEO0FBZ0NuQyxnREFBZ0Q7QUFDaEQsTUFBTWUsb0JBQW9CLE9BQU9DO0lBQzdCLElBQUk7UUFDQSxNQUFNQyxPQUFPLE1BQU1ELFNBQVNDLElBQUk7UUFDaEMsSUFBSSxDQUFDRCxTQUFTRSxFQUFFLEVBQUU7WUFDZCwrRUFBK0U7WUFDL0UsSUFBSTtnQkFDQSxNQUFNQyxZQUFZQyxLQUFLQyxLQUFLLENBQUNKO2dCQUM3QixNQUFNLElBQUlLLE1BQU1ILFVBQVVJLE9BQU8sSUFBSSxjQUFpQ1AsT0FBbkJBLFNBQVNRLE1BQU0sRUFBQyxLQUF1QixPQUFwQlIsU0FBU1MsVUFBVTtZQUM3RixFQUFFLE9BQU9DLFdBQVc7Z0JBQ2hCLGdFQUFnRTtnQkFDaEUsTUFBTSxJQUFJSixNQUFNLGNBQWlDTixPQUFuQkEsU0FBU1EsTUFBTSxFQUFDLEtBQXlCUCxPQUF0QkQsU0FBU1MsVUFBVSxFQUEyQixPQUF4QlIsT0FBTyxLQUFVLE9BQUxBLFFBQVM7WUFDaEc7UUFDSjtRQUNBLGtGQUFrRjtRQUNsRixPQUFPQSxPQUFPRyxLQUFLQyxLQUFLLENBQUNKLFFBQVEsQ0FBQztJQUN0QyxFQUFFLE9BQU9VLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLGdDQUFnQ0E7UUFDOUMscUZBQXFGO1FBQ3JGLE1BQU1BO0lBQ1Y7QUFDSjtBQUVlLFNBQVNFO1FBMnRCT0MsMEJBMkVnQkMsd0JBYUVBOztJQWx6Qi9DLE1BQU1DLFNBQVM3QiwwREFBU0E7SUFDeEIsTUFBTSxDQUFDOEIsU0FBU0MsV0FBVyxHQUFHbEMsK0NBQVFBLENBQWdCO0lBQ3RELE1BQU0sQ0FBQ21DLFNBQVNDLFdBQVcsR0FBR3BDLCtDQUFRQSxDQUFxQztJQUUzRSxNQUFNLENBQUNxQyxVQUFVQyxZQUFZLEdBQUd0Qywr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QUFBLFNBQVMsQ0FBQ1UsWUFBWSxjQUF0QlYsOENBQUFBLHdCQUF3QmtDLElBQUksQ0FBRCxtQkFDM0QsOERBQUNzRztvQ0FBSUMsV0FBVTs7c0RBQ1osOERBQUNEOzRDQUFJQyxXQUFVOzs4REFDWCw4REFBQzlKLGdJQUFXQTtvREFBQzhKLFdBQVU7Ozs7Ozs4REFDdkIsOERBQUNHO29EQUFFSCxXQUFVOzhEQUEyRDs7Ozs7Ozs7Ozs7O3NEQUk1RSw4REFBQ0Q7NENBQUlDLFdBQVU7OzhEQUNYLDhEQUFDOUosZ0lBQVdBO29EQUFDOEosV0FBVTs7Ozs7OzhEQUN2Qiw4REFBQ0c7b0RBQUVILFdBQVU7OERBQTJEOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OENBUXBGLDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUMrQjs0Q0FBRy9CLFdBQVU7OzhEQUNaLDhEQUFDOUosZ0lBQVdBO29EQUFDOEosV0FBVTs7Ozs7O2dEQUFnQzs7Ozs7OztzREFHekQsOERBQUNHOzRDQUFFSCxXQUFVO3NEQUEyRDs7Ozs7Ozs7Ozs7OzhDQU0xRSw4REFBQ0Q7b0NBQUlDLFdBQVU7O3NEQUNiLDhEQUFDK0I7NENBQUcvQixXQUFVO3NEQUFzRDs7Ozs7O3NEQUNwRSw4REFBQ0Q7NENBQUlDLFdBQVU7c0RBQStEOzs7Ozs7c0RBQzlFLDhEQUFDRzs0Q0FBRUgsV0FBVTtzREFBK0M7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzBCQVNwRSw4REFBQ25LLDBEQUFNQTs7Ozs7Ozs7Ozs7QUFHYjtHQS8xQndCd0I7O1FBQ1AxQixzREFBU0E7OztLQURGMEIiLCJzb3VyY2VzIjpbIi9ob21lL29tZXJhZG5hbi9EZXNrdG9wL3Byb2dyYW1taW5nL2hlYWx0aF9hcHAvaGVhbHRoX2FwcC9mcm9udGVuZC9hcHAvY2hhdGJvdC9wYWdlLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIlxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IEhlYWRlciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9IZWFkZXJcIlxuaW1wb3J0IEZvb3RlciBmcm9tIFwiLi4vLi4vY29tcG9uZW50cy9Gb290ZXJcIlxuaW1wb3J0IHsgU2VuZCwgQm90LCBVc2VyLCBMaWdodGJ1bGIsIENoZWNrQ2lyY2xlLCBWb2x1bWUyLCBWb2x1bWVYIH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tIFwidXVpZFwiXG5cbi8vIFR5cGUgRGVmaW5pdGlvbnMgKGVuc3VyaW5nIGNvbnNpc3RlbmN5KVxudHlwZSBNZXNzYWdlID0ge1xuICBpZDogbnVtYmVyXG4gIGNvbnRlbnQ6IHN0cmluZyB8IEluZmVybWVkaWNhUXVlc3Rpb24gLy8gQ29udGVudCBjYW4gYmUgc3RyaW5nIG9yIHN0cnVjdHVyZWQgcXVlc3Rpb25cbiAgc2VuZGVyOiBcImJvdFwiIHwgXCJ1c2VyXCJcbiAgdGltZXN0YW1wOiBEYXRlXG59XG5cbnR5cGUgSW5mZXJtZWRpY2FDaG9pY2UgPSB7XG4gIGlkOiBcInByZXNlbnRcIiB8IFwiYWJzZW50XCIgfCBcInVua25vd25cIlxuICBsYWJlbDogc3RyaW5nXG59XG5cbnR5cGUgSW5mZXJtZWRpY2FRdWVzdGlvbkl0ZW0gPSB7XG4gIGlkOiBzdHJpbmdcbiAgbmFtZTogc3RyaW5nXG4gIGNob2ljZXM6IEluZmVybWVkaWNhQ2hvaWNlW11cbn1cblxudHlwZSBJbmZlcm1lZGljYVF1ZXN0aW9uID0ge1xuICB0eXBlOiBcInNpbmdsZVwiIHwgXCJncm91cGVkX3NpbmdsZVwiIHwgXCJncm91cGVkX211bHRpcGxlXCIgLy8gQWRkZWQgc3BlY2lmaWMgdHlwZXNcbiAgdGV4dDogc3RyaW5nXG4gIGl0ZW1zOiBJbmZlcm1lZGljYVF1ZXN0aW9uSXRlbVtdXG59XG5cbnR5cGUgRXZpZGVuY2VJdGVtID0ge1xuICBpZDogc3RyaW5nXG4gIGNob2ljZV9pZDogXCJwcmVzZW50XCIgfCBcImFic2VudFwiIHwgXCJ1bmtub3duXCJcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHNhZmVseSBwYXJzZSBBUEkgcmVzcG9uc2VzXG5jb25zdCBwYXJzZUpzb25SZXNwb25zZSA9IGFzeW5jIChyZXNwb25zZTogUmVzcG9uc2UpID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0ZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAvLyBJZiByZXNwb25zZSBpcyBub3QgT0sgKGUuZy4sIDQwMCwgNTAwKSwgdHJ5IHRvIHBhcnNlIEpTT04gZm9yIGVycm9yIG1lc3NhZ2VzXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yRGF0YS5tZXNzYWdlIHx8IGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9IGNhdGNoIChqc29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0ZXh0IGlzIG5vdCBKU09OIG9yIGVtcHR5LCB0aHJvdyBnZW5lcmljIGVycm9yIHdpdGggc3RhdHVzXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBUEkgZXJyb3I6ICR7cmVzcG9uc2Uuc3RhdHVzfSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9JHt0ZXh0ID8gYDogJHt0ZXh0fWAgOiAnJ31gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiByZXNwb25zZSBpcyBPSywgdHJ5IHRvIHBhcnNlIEpTT04uIElmIHRleHQgaXMgZW1wdHksIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXG4gICAgICAgIHJldHVybiB0ZXh0ID8gSlNPTi5wYXJzZSh0ZXh0KSA6IHt9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBwYXJzaW5nIEpTT04gcmVzcG9uc2U6XCIsIGVycm9yKTtcbiAgICAgICAgLy8gUmUtdGhyb3cgdG8gYmUgY2F1Z2h0IGJ5IHRoZSBjYWxsaW5nIGZ1bmN0aW9uIChlLmcuLCBnZXREaWFnbm9zaXMsIGdldFBhcnNlUmVzdWx0KVxuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDaGF0Ym90UGFnZSgpIHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcbiAgY29uc3QgW3VzZXJBZ2UsIHNldFVzZXJBZ2VdID0gdXNlU3RhdGU8bnVtYmVyIHwgbnVsbD4obnVsbClcbiAgY29uc3QgW3VzZXJTZXgsIHNldFVzZXJTZXhdID0gdXNlU3RhdGU8XCJtYWxlXCIgfCBcImZlbWFsZVwiIHwgXCJvdGhlclwiIHwgbnVsbD4obnVsbClcblxuICBjb25zdCBbbWVzc2FnZXMsIHNldE1lc3NhZ2VzXSA9IHVzZVN0YXRlPE1lc3NhZ2VbXT4oW10pXG4gIGNvbnN0IFtjdXJyZW50SW5wdXQsIHNldEN1cnJlbnRJbnB1dF0gPSB1c2VTdGF0ZTxzdHJpbmc+KFwiXCIpXG4gIGNvbnN0IFtjdXJyZW50U3RlcCwgc2V0Q3VycmVudFN0ZXBdID0gdXNlU3RhdGU8bnVtYmVyPigwKVxuICBjb25zdCBbaXNUeXBpbmcsIHNldElzVHlwaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKVxuICBjb25zdCBbaXNTcGVha2luZywgc2V0SXNTcGVha2luZ10gPSB1c2VTdGF0ZTxib29sZWFuPihmYWxzZSlcbiAgY29uc3QgW2RpYWdub3Npc1Jlc3VsdCwgc2V0RGlhZ25vc2lzUmVzdWx0XSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpIC8vIFJhdyBKU09OIGZvciBkZWJ1Z2dpbmcgaWYgbmVlZGVkXG4gIGNvbnN0IFtldmlkZW5jZSwgc2V0RXZpZGVuY2VdID0gdXNlU3RhdGU8RXZpZGVuY2VJdGVtW10+KFtdKSAvLyBUaGlzIHN0YXRlIGlzIHVwZGF0ZWQsIGJ1dCBub3QgZGlyZWN0bHkgcmVhZCBieSBnZXREaWFnbm9zaXMgZm9yIGltbWVkaWF0ZSBjYWxsXG4gIGNvbnN0IG1lc3NhZ2VzRW5kUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKVxuICBjb25zdCBbaW50ZXJ2aWV3SWQsIHNldEludGVydmlld0lkXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgY29uc3QgW2N1cnJEaWFnbm9zaXNRdWVzdGlvbnMsIHNldEN1cnJEaWFnbm9zaXNRdWVzdGlvbnNdID0gdXNlU3RhdGU8SW5mZXJtZWRpY2FRdWVzdGlvbiB8IG51bGw+KG51bGwpIC8vIEV4cGxpY2l0bHkgdHlwZVxuICBjb25zdCBbY3VyckRpYWdub3Npc0NvbmRpdGlvbnMsIHNldEN1cnJEaWFnbm9zaXNDb25kaXRpb25zXSA9IHVzZVN0YXRlPGFueVtdPihbXSlcbiAgY29uc3QgW2lzRGlhZ25vc2lzQ29tcGxldGUsIHNldElzRGlhZ25vc2lzQ29tcGxldGVdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpXG5cbiAgLy8g4pyoIE5FVyBTVEFURSBGT1IgR1JPVVBFRF9NVUxUSVBMRSBTRUxFQ1RJT05TIOKcqFxuICBjb25zdCBbdGVtcEdyb3VwZWRTZWxlY3Rpb25zLCBzZXRUZW1wR3JvdXBlZFNlbGVjdGlvbnNdID0gdXNlU3RhdGU8UmVjb3JkPHN0cmluZywgJ3ByZXNlbnQnIHwgJ2Fic2VudCcgfCAndW5rbm93bic+Pih7fSk7XG5cbiAgLy8gSW5pdGlhbCBmaXhlZCBxdWVzdGlvbnMgZm9yIHRoZSBib3RcbiAgY29uc3QgcXVlc3Rpb25zID0gW1xuICAgIHtcbiAgICAgIGlkOiBcImFnZV9pbnB1dFwiLFxuICAgICAgcXVlc3Rpb246IFwiSGkuIFBsZWFzZSB0ZWxsIG1lIHlvdXIgYWdlLlwiLFxuICAgICAgdHlwZTogXCJhZ2VcIixcbiAgICAgIHRpcHM6IFtcbiAgICAgICAgXCJUZWxsIHlvdXIgZXhhY3QgYWdlLlwiLFxuICAgICAgICBcIlVuaXRzIHNob3VsZCBiZSBpbiB5ZWFycy5cIixcbiAgICAgICAgXCJEbyBub3QgdGVsbCBhbiBleGFnZ2VyYXRlZCBhZ2UgYXMgaXQgbWF5IGxlYWQgdG8gd3JvbmcgZGlhZ25vc2lzLlwiLFxuICAgICAgXSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInNleF9pbnB1dFwiLFxuICAgICAgcXVlc3Rpb246IFwiV2hhdCBpcyB5b3VyIGdlbmRlcj9cIixcbiAgICAgIHR5cGU6IFwic2VsZWN0XCIsXG4gICAgICBvcHRpb25zOiBbXCJtYWxlXCIsIFwiZmVtYWxlXCIsIFwib3RoZXJcIl0sXG4gICAgICB0aXBzOiBbXG4gICAgICAgIFwiUGxlYXNlIHNwZWNpZnkgeW91ciBnZW5kZXIgY2xlYXJseS5cIixcbiAgICAgICAgXCJJZiB5b3UgcHJlZmVyIG5vdCB0byBzYXksIHNlbGVjdCAnb3RoZXInLlwiLFxuICAgICAgICBcIlRoaXMgaGVscHMgdXMgcHJvdmlkZSBiZXR0ZXIgaW5zaWdodHMuXCIsXG4gICAgICBdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwic3ltcHRvbXNcIixcbiAgICAgIHF1ZXN0aW9uOiBcIldoYXQgc3ltcHRvbXMgYXJlIHlvdSBleHBlcmllbmNpbmc/IFBsZWFzZSBkZXNjcmliZSB0aGVtIGluIGRldGFpbC5cIixcbiAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgdGlwczogW1xuICAgICAgICBcIkJlIHNwZWNpZmljIGFib3V0IGxvY2F0aW9uLCBpbnRlbnNpdHksIGFuZCBkdXJhdGlvbi5cIixcbiAgICAgICAgXCJNZW50aW9uIGFueSB0cmlnZ2VycyB5b3UndmUgbm90aWNlZC5cIixcbiAgICAgICAgXCJJbmNsdWRlIGFzc29jaWF0ZWQgc3ltcHRvbXMuXCIsXG4gICAgICBdLFxuICAgIH0sXG4gIF1cblxuICAvLyBJbml0aWFsIGJvdCBtZXNzYWdlIG9uIGNvbXBvbmVudCBtb3VudFxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBhZGRCb3RNZXNzYWdlKFxuICAgICAgICAgIFwiSGVsbG8hIEknbSB5b3VyIEhlYWx0aEJ1ZGR5IEFJIGFzc2lzdGFudC4gSSdsbCBoZWxwIGFuYWx5emUgeW91ciBzeW1wdG9tcyBhbmQgcHJvdmlkZSBwZXJzb25hbGl6ZWQgaGVhbHRoIGluc2lnaHRzLiBMZXQncyBzdGFydCB3aXRoIGEgZmV3IHF1ZXN0aW9ucy5cIixcbiAgICAgICAgKVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1swXS5xdWVzdGlvbilcbiAgICAgICAgfSwgMTUwMCkgLy8gR2l2ZSB1c2VyIGEgYml0IG1vcmUgdGltZSBhZnRlciBpbnRyb1xuICAgICAgfSwgNTAwKVxuICAgIH1cbiAgfSwgW10pIC8vIEVtcHR5IGRlcGVuZGVuY3kgYXJyYXkgbWVhbnMgdGhpcyBydW5zIG9uY2Ugb24gbW91bnRcblxuICAvLyBBdXRvLXNjcm9sbCB0byBib3R0b20gb24gbmV3IG1lc3NhZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2Nyb2xsVG9Cb3R0b20oKVxuICB9LCBbbWVzc2FnZXNdKVxuXG4gIC8vIOKcqCBORVcgdXNlRWZmZWN0IHRvIGNsZWFyIHRlbXBHcm91cGVkU2VsZWN0aW9ucyB3aGVuIHF1ZXN0aW9uIGNoYW5nZXMg4pyoXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN1cnJEaWFnbm9zaXNRdWVzdGlvbnMgJiYgY3VyckRpYWdub3Npc1F1ZXN0aW9ucy50eXBlID09PSAnZ3JvdXBlZF9tdWx0aXBsZScpIHtcbiAgICAgIC8vIENsZWFyIHByZXZpb3VzIHNlbGVjdGlvbnMgd2hlbiBhIG5ldyBncm91cGVkX211bHRpcGxlIHF1ZXN0aW9uIGFwcGVhcnNcbiAgICAgIHNldFRlbXBHcm91cGVkU2VsZWN0aW9ucyh7fSk7XG4gICAgfVxuICB9LCBbY3VyckRpYWdub3Npc1F1ZXN0aW9uc10pO1xuXG5cbiAgY29uc3Qgc2Nyb2xsVG9Cb3R0b20gPSAoKSA9PiB7XG4gICAgbWVzc2FnZXNFbmRSZWYuY3VycmVudD8uc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogXCJzbW9vdGhcIiB9KVxuICB9XG5cbiAgLy8gR2VuZXJhdGUgdW5pcXVlIElEIGZvciBtZXNzYWdlc1xuICBjb25zdCBnZW5lcmF0ZVVuaXF1ZUlkID0gKCkgPT4gRGF0ZS5ub3coKSArIE1hdGgucmFuZG9tKClcblxuICAvLyBBZGQgYm90IG1lc3NhZ2Ugd2l0aCB0eXBpbmcgaW5kaWNhdG9yXG4gIGNvbnN0IGFkZEJvdE1lc3NhZ2UgPSAoY29udGVudDogc3RyaW5nIHwgSW5mZXJtZWRpY2FRdWVzdGlvbikgPT4ge1xuICAgIHNldElzVHlwaW5nKHRydWUpXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRNZXNzYWdlcygocHJldikgPT4gW1xuICAgICAgICAuLi5wcmV2LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlVW5pcXVlSWQoKSxcbiAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgIHNlbmRlcjogXCJib3RcIixcbiAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgIH0sXG4gICAgICBdKVxuICAgICAgc2V0SXNUeXBpbmcoZmFsc2UpXG4gICAgfSwgMTAwMCkgLy8gU2ltdWxhdGUgdHlwaW5nIGRlbGF5XG4gIH1cblxuICAvLyBBZGQgdXNlciBtZXNzYWdlXG4gIGNvbnN0IGFkZFVzZXJNZXNzYWdlID0gKGNvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIHNldE1lc3NhZ2VzKChwcmV2KSA9PiBbXG4gICAgICAuLi5wcmV2LFxuICAgICAge1xuICAgICAgICBpZDogZ2VuZXJhdGVVbmlxdWVJZCgpLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBzZW5kZXI6IFwidXNlclwiLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICB9LFxuICAgIF0pXG4gIH1cblxuICAvLyDinKggTkVXIEZVTkNUSU9OIFRPIEhBTkRMRSBHUk9VUEVEX01VTFRJUExFIENPTkZJUk1BVElPTiDinKhcbiAgY29uc3QgaGFuZGxlR3JvdXBlZE11bHRpcGxlQ29uZmlybSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAoT2JqZWN0LmtleXModGVtcEdyb3VwZWRTZWxlY3Rpb25zKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGFkZEJvdE1lc3NhZ2UoXCJQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBvcHRpb24gYmVmb3JlIGNvbmZpcm1pbmcuXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG5ld0V2aWRlbmNlSXRlbXM6IEV2aWRlbmNlSXRlbVtdID0gT2JqZWN0LmVudHJpZXModGVtcEdyb3VwZWRTZWxlY3Rpb25zKS5tYXAoKFtpZCwgY2hvaWNlX2lkXSkgPT4gKHtcbiAgICAgIGlkLFxuICAgICAgY2hvaWNlX2lkLFxuICAgIH0pKTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgbWFpbiBldmlkZW5jZSBhcnJheSB3aXRoIGFsbCBzZWxlY3RlZCBpdGVtcyBmb3IgdGhpcyBncm91cGVkIHF1ZXN0aW9uXG4gICAgc2V0RXZpZGVuY2UoKHByZXZFdmlkZW5jZSkgPT4ge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IGFueSBleGlzdGluZyBlbnRyaWVzIGZvciB0aGUgaXRlbXMgaW4gdGhlIGN1cnJlbnQgZ3JvdXBlZCBxdWVzdGlvblxuICAgICAgICAvLyBiZWZvcmUgYWRkaW5nIHRoZSBuZXcgb25lcy4gVGhpcyBlbnN1cmVzIG9ubHkgdGhlIGxhdGVzdCBjaG9pY2VzIGFyZSBrZXB0LlxuICAgICAgICBjb25zdCBjdXJyZW50UXVlc3Rpb25JdGVtSWRzID0gY3VyckRpYWdub3Npc1F1ZXN0aW9ucz8uaXRlbXM/Lm1hcChpdGVtID0+IGl0ZW0uaWQpIHx8IFtdO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZFByZXZFdmlkZW5jZSA9IHByZXZFdmlkZW5jZS5maWx0ZXIoaXRlbSA9PiAhY3VycmVudFF1ZXN0aW9uSXRlbUlkcy5pbmNsdWRlcyhpdGVtLmlkKSk7XG4gICAgICAgIHJldHVybiBbLi4uZmlsdGVyZWRQcmV2RXZpZGVuY2UsIC4uLm5ld0V2aWRlbmNlSXRlbXNdO1xuICAgIH0pO1xuXG4gICAgc2V0SXNUeXBpbmcodHJ1ZSk7XG4gICAgc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyDinKggQ2FsbCBnZXREaWFnbm9zaXMgd2l0aCB0aGUgY29tYmluZWQgZXZpZGVuY2Ug4pyoXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZEV2aWRlbmNlID0gWy4uLmV2aWRlbmNlLmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50UXVlc3Rpb25JdGVtSWRzID0gY3VyckRpYWdub3Npc1F1ZXN0aW9ucz8uaXRlbXM/Lm1hcChpdGVtID0+IGl0ZW0uaWQpIHx8IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiAhY3VycmVudFF1ZXN0aW9uSXRlbUlkcy5pbmNsdWRlcyhpdGVtLmlkKTtcbiAgICAgICAgICAgIH0pLCAuLi5uZXdFdmlkZW5jZUl0ZW1zXTtcblxuICAgICAgICAgICAgY29uc3QgbmV4dERpYWdub3Npc1Jlc3VsdCA9IGF3YWl0IGdldERpYWdub3Npcyhjb21iaW5lZEV2aWRlbmNlKTtcbiAgICAgICAgICAgIGlmICghbmV4dERpYWdub3Npc1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGZ1cnRoZXIgZGlhZ25vc2lzIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgQVBJLiBUaGUgc2VydmVyIG1pZ2h0IGJlIGJ1c3kgb3IgZXhwZXJpZW5jZWQgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQuc2hvdWxkX3N0b3AgPT09IGZhbHNlICYmICFuZXh0RGlhZ25vc2lzUmVzdWx0LnF1ZXN0aW9uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhZ25vc2lzIGZsb3cgZW5jb3VudGVyZWQgYW4gdW5leHBlY3RlZCBzdGF0ZTogRXhwZWN0ZWQgYSBxdWVzdGlvbiBidXQgbm9uZSB3YXMgcHJvdmlkZWQuXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5leHQgZGlhZ25vc2lzIHJlc3VsdCAoZ3JvdXBlZF9tdWx0aXBsZSk6XCIsIG5leHREaWFnbm9zaXNSZXN1bHQpO1xuXG4gICAgICAgICAgICBzZXREaWFnbm9zaXNSZXN1bHQoSlNPTi5zdHJpbmdpZnkobmV4dERpYWdub3Npc1Jlc3VsdCwgbnVsbCwgMikpO1xuICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMobmV4dERpYWdub3Npc1Jlc3VsdC5jb25kaXRpb25zIHx8IFtdKTtcbiAgICAgICAgICAgIHNldElzRGlhZ25vc2lzQ29tcGxldGUobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCk7XG4gICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24gfHwgbnVsbCk7XG4gICAgICAgICAgICBzZXRUZW1wR3JvdXBlZFNlbGVjdGlvbnMoe30pOyAvLyBDbGVhciB0ZW1wb3Jhcnkgc2VsZWN0aW9ucyBhZnRlciBjb25maXJtaW5nXG5cbiAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnNob3VsZF9zdG9wKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUZpbmFsRGlhZ25vc2lzKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBwcm9jZXNzIG5lZWRzIG1vcmUgaW5mb3JtYXRpb24sIGJ1dCBJIGNvdWxkbid0IGdlbmVyYXRlIHRoZSBuZXh0IHF1ZXN0aW9uLiBQbGVhc2UgY29uc3VsdCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgc3Vic2VxdWVudCBkaWFnbm9zaXMgKGdyb3VwZWRfbXVsdGlwbGUpOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC5cIjtcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSB0cnkgYWdhaW4uYCk7XG4gICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuXG4gIC8vIE1haW4gbWVzc2FnZSBoYW5kbGluZyBsb2dpY1xuICBjb25zdCBoYW5kbGVTZW5kTWVzc2FnZSA9IGFzeW5jIChpbnB1dD86IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gaW5wdXQgIT09IHVuZGVmaW5lZCA/IGlucHV0IDogY3VycmVudElucHV0XG4gICAgaWYgKCF2YWx1ZS50cmltKCkpIHJldHVyblxuXG4gICAgLy8gQ2xlYXIgY3VycmVudElucHV0IGltbWVkaWF0ZWx5IGZvciBhbGwgdHlwZXMgb2YgcmVzcG9uc2VzXG4gICAgc2V0Q3VycmVudElucHV0KFwiXCIpXG5cbiAgICAvLyAtLS0gSGFuZGxpbmcgSW5pdGlhbCBGaXhlZCBRdWVzdGlvbnMgKEFnZSwgU2V4KSAtLS1cbiAgICAvLyBUaGlzIGJsb2NrIHJ1bnMgaWYgd2UgYXJlIHN0aWxsIHdpdGhpbiB0aGUgJ3F1ZXN0aW9ucycgYXJyYXkgZmxvdyBBTkQgTk9UIG9uIHRoZSBsYXN0IHF1ZXN0aW9uIChzeW1wdG9tcylcbiAgICBpZiAoY3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoIC0gMSkge1xuICAgICAgICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBxdWVzdGlvbnNbY3VycmVudFN0ZXBdO1xuXG4gICAgICAgIC8vIEFkZCB1c2VyIG1lc3NhZ2UgZm9yIHRoZXNlIGluaXRpYWwsIHVzZXItdHlwZWQvc2VsZWN0ZWQgaW5wdXRzXG4gICAgICAgIGFkZFVzZXJNZXNzYWdlKHZhbHVlKTtcblxuICAgICAgICBpZiAoY3VycmVudFF1ZXN0aW9uLmlkID09PSBcImFnZV9pbnB1dFwiKSB7XG4gICAgICAgICAgICBjb25zdCBhZ2UgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGFnZSkgfHwgYWdlIDw9IDAgfHwgYWdlID4gMTIwKSB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGFnZSBpbiB5ZWFycyAoZS5nLiwgMzApLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVc2VyQWdlKGFnZSk7XG4gICAgICAgICAgICBzZXRDdXJyZW50U3RlcChjdXJyZW50U3RlcCArIDEpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShxdWVzdGlvbnNbY3VycmVudFN0ZXAgKyAxXS5xdWVzdGlvbik7XG4gICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjdXJyZW50UXVlc3Rpb24uaWQgPT09IFwic2V4X2lucHV0XCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNleCA9IHZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAoIVtcIm1hbGVcIiwgXCJmZW1hbGVcIiwgXCJvdGhlclwiXS5pbmNsdWRlcyhzZXgpKSB7XG4gICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBzZWxlY3QgZnJvbSAnbWFsZScsICdmZW1hbGUnLCBvciAnb3RoZXInLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRVc2VyU2V4KHNleCBhcyBcIm1hbGVcIiB8IFwiZmVtYWxlXCIgfCBcIm90aGVyXCIpO1xuICAgICAgICAgICAgaWYgKCFpbnRlcnZpZXdJZCkge1xuICAgICAgICAgICAgICAgIHNldEludGVydmlld0lkKHV1aWR2NCgpKTsgLy8gSW5pdGlhbGl6ZSBpbnRlcnZpZXcgSURcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldEN1cnJlbnRTdGVwKGN1cnJlbnRTdGVwICsgMSk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1tjdXJyZW50U3RlcCArIDFdLnF1ZXN0aW9uKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tLSBIYW5kbGluZyBJbml0aWFsIFN5bXB0b21zIFF1ZXN0aW9uICh0aGUgbGFzdCBmaXhlZCBxdWVzdGlvbikgLS0tXG4gICAgLy8gVGhpcyBibG9jayBydW5zIHdoZW4gY3VycmVudFN0ZXAgaXMgZXhhY3RseSBgcXVlc3Rpb25zLmxlbmd0aCAtIDFgXG4gICAgZWxzZSBpZiAoY3VycmVudFN0ZXAgPT09IHF1ZXN0aW9ucy5sZW5ndGggLSAxICYmIHF1ZXN0aW9uc1tjdXJyZW50U3RlcF0uaWQgPT09IFwic3ltcHRvbXNcIikge1xuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgdGhlIHN5bXB0b21zIHF1ZXN0aW9uXG4gICAgICAgIGNvbnN0IGN1cnJlbnRRdWVzdGlvbiA9IHF1ZXN0aW9uc1tjdXJyZW50U3RlcF07XG5cbiAgICAgICAgLy8gQWRkIHVzZXIgbWVzc2FnZSBmb3Igc3ltcHRvbXMgZGVzY3JpcHRpb25cbiAgICAgICAgYWRkVXNlck1lc3NhZ2UodmFsdWUpO1xuXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPCAxMCkge1xuICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSBwcm92aWRlIGEgbW9yZSBkZXRhaWxlZCBkZXNjcmlwdGlvbiBvZiB5b3VyIHN5bXB0b21zIChhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzKS5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlRoYW5rIHlvdSBmb3Igc2hhcmluZyB5b3VyIHN5bXB0b21zLiBQbGVhc2Ugd2FpdCB3aGlsZSBJIGFuYWx5emUgdGhlbS5cIik7XG4gICAgICAgICAgICBzZXRJc1R5cGluZyh0cnVlKTtcblxuICAgICAgICAgICAgLy8gRmV0Y2ggcGFyc2UgcmVzdWx0XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRQYXJzZVJlc3VsdCh2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCB8fCAhQXJyYXkuaXNBcnJheShyZXN1bHQubWVudGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVjZWl2ZWQgYW4gaW52YWxpZCByZXNwb25zZSBmb3JtYXQgZm9yIHN5bXB0b20gYW5hbHlzaXMuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJQYXJzZSByZXN1bHQ6XCIsIHJlc3VsdCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxFdmlkZW5jZTogRXZpZGVuY2VJdGVtW10gPSByZXN1bHQubWVudGlvbnMubWFwKChtZW50aW9uOiBhbnkpID0+ICh7XG4gICAgICAgICAgICAgICAgaWQ6IG1lbnRpb24uaWQsXG4gICAgICAgICAgICAgICAgY2hvaWNlX2lkOiBtZW50aW9uLmNob2ljZV9pZCxcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgLy8gTkVXIENIRUNLIEhFUkU6IElmIG5vIHN5bXB0b21zIHdlcmUgcGFyc2VkXG4gICAgICAgICAgICBpZiAoaW5pdGlhbEV2aWRlbmNlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJJIGNvdWxkbid0IGlkZW50aWZ5IGFueSBzeW1wdG9tcyBmcm9tIHlvdXIgZGVzY3JpcHRpb24uIENvdWxkIHlvdSBwbGVhc2UgcmVwaHJhc2Ugb3IgcHJvdmlkZSBtb3JlIGRldGFpbHM/IEZvciBleGFtcGxlLCAnSSBoYXZlIGEgaGVhZGFjaGUgYW5kIGEgZmV2ZXIuJ1wiKTtcbiAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBTdG9wIGhlcmUsIGRvbid0IGNhbGwgZ2V0RGlhZ25vc2lzXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNldEV2aWRlbmNlKGluaXRpYWxFdmlkZW5jZSk7IC8vIFRoaXMgdXBkYXRlcyB0aGUgc3RhdGUsIGJ1dCB3ZSBkb24ndCByZWx5IG9uIGl0IGZvciB0aGUgaW1tZWRpYXRlIEFQSSBjYWxsXG5cbiAgICAgICAgICAgIC8vIOKcqCBNT0RJRklFRDogUGFzcyBpbml0aWFsRXZpZGVuY2UgZGlyZWN0bHkgdG8gZ2V0RGlhZ25vc2lzIHRvIGF2b2lkIHN0YXRlIHVwZGF0ZSB0aW1pbmcgaXNzdWVzIOKcqFxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJERUJVRzogdXNlckFnZSBiZWZvcmUgZ2V0RGlhZ25vc2lzIChpbml0aWFsIHN5bXB0b21zKTpcIiwgdXNlckFnZSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRFQlVHOiB1c2VyU2V4IGJlZm9yZSBnZXREaWFnbm9zaXMgKGluaXRpYWwgc3ltcHRvbXMpOlwiLCB1c2VyU2V4KTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiREVCVUc6IGV2aWRlbmNlLmxlbmd0aCBiZWZvcmUgZ2V0RGlhZ25vc2lzIChpbml0aWFsIHN5bXB0b21zKTpcIiwgaW5pdGlhbEV2aWRlbmNlLmxlbmd0aCk7IC8vIExvZyB0aGUgYWN0dWFsIGFycmF5IGxlbmd0aCBiZWluZyBwYXNzZWRcblxuICAgICAgICAgICAgY29uc3QgZGlhZ25vc2lzID0gYXdhaXQgZ2V0RGlhZ25vc2lzKGluaXRpYWxFdmlkZW5jZSk7IC8vIFBhc3MgdGhlIGltbWVkaWF0ZSB2YWx1ZVxuICAgICAgICAgICAgaWYgKCFkaWFnbm9zaXMpIHtcbiAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZGlhZ25vc2lzIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgQVBJLiBUaGUgc2VydmVyIG1pZ2h0IGJlIGJ1c3kgb3IgZXhwZXJpZW5jZWQgYW4gZXJyb3IuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgZGlhZ25vc2lzIGlzIG5vdCBjb21wbGV0ZSwgaXQgTVVTVCBwcm92aWRlIGEgcXVlc3Rpb25cbiAgICAgICAgICAgIGlmIChkaWFnbm9zaXMuc2hvdWxkX3N0b3AgPT09IGZhbHNlICYmICFkaWFnbm9zaXMucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFnbm9zaXMgZmxvdyBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIHN0YXRlOiBFeHBlY3RlZCBhIHF1ZXN0aW9uIGJ1dCBub25lIHdhcyBwcm92aWRlZC5cIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW5pdGlhbCBkaWFnbm9zaXMgcmVzdWx0OlwiLCBkaWFnbm9zaXMpO1xuXG4gICAgICAgICAgICBzZXREaWFnbm9zaXNSZXN1bHQoSlNPTi5zdHJpbmdpZnkoZGlhZ25vc2lzLCBudWxsLCAyKSk7IC8vIFN0b3JlIHJhdyByZXN1bHQgZm9yIGRlYnVnZ2luZ1xuICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMoZGlhZ25vc2lzLmNvbmRpdGlvbnMgfHwgW10pO1xuICAgICAgICAgICAgc2V0SXNEaWFnbm9zaXNDb21wbGV0ZShkaWFnbm9zaXMuc2hvdWxkX3N0b3ApO1xuICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9ucyhkaWFnbm9zaXMucXVlc3Rpb24gfHwgbnVsbCk7XG5cbiAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFJlbW92ZWQgc2V0Q3VycmVudFN0ZXAoY3VycmVudFN0ZXAgKyAxKSBoZXJlIGFzIHRoZSBmbG93IHRyYW5zaXRpb25zIHRvIEluZmVybWVkaWNhIHF1ZXN0aW9ucy5cblxuICAgICAgICAgICAgaWYgKGRpYWdub3Npcy5zaG91bGRfc3RvcCkge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlGaW5hbERpYWdub3NpcyhkaWFnbm9zaXMuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpYWdub3Npcy5xdWVzdGlvbikge1xuICAgICAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoZGlhZ25vc2lzLnF1ZXN0aW9uKTsgLy8gQXNrIHRoZSBmaXJzdCBJbmZlcm1lZGljYSBxdWVzdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBwcm9jZXNzIGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgc3RhdGUuIFBsZWFzZSBjb25zdWx0IGEgaGVhbHRoY2FyZSBwcm9mZXNzaW9uYWwuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGR1cmluZyBpbml0aWFsIGRpYWdub3NpcyBwcm9jZXNzOlwiLCBlcnJvcik7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZC5cIjtcbiAgICAgICAgICAgIGFkZEJvdE1lc3NhZ2UoYEFuIGVycm9yIG9jY3VycmVkOiAke2Vycm9yTWVzc2FnZX0uIFBsZWFzZSB0cnkgYWdhaW4uYCk7XG4gICAgICAgICAgICBzZXRJc1R5cGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuOyAvLyBFeGl0IGFmdGVyIGhhbmRsaW5nIHN5bXB0b21zXG4gICAgfVxuICAgIC8vIC0tLSBIYW5kbGluZyBJbmZlcm1lZGljYSBEaWFnbm9zaXMgUXVlc3Rpb25zIChzaW5nbGUgJiBncm91cGVkX3NpbmdsZSkgLS0tXG4gICAgLy8gVGhpcyBibG9jayBydW5zIHdoZW4gd2UgYXJlIHBhc3QgdGhlIGluaXRpYWwgZml4ZWQgcXVlc3Rpb25zIEFORFxuICAgIC8vIHRoZXJlJ3MgYW4gYWN0aXZlIGRpYWdub3NpcyBxdWVzdGlvbiBmcm9tIEluZmVybWVkaWNhIEFORCBpdCdzIG5vdCBjb21wbGV0ZSB5ZXQuXG4gICAgZWxzZSBpZiAoY3VyckRpYWdub3Npc1F1ZXN0aW9ucyAmJiAhaXNEaWFnbm9zaXNDb21wbGV0ZSkge1xuICAgICAgICAvLyBJZiBpdCdzIGEgZ3JvdXBlZF9tdWx0aXBsZSBxdWVzdGlvbiwgdGhpcyBibG9jayBzaG91bGQgaWRlYWxseSBub3QgYmUgaGl0IGJ5IGJ1dHRvbiBjbGlja3MuXG4gICAgICAgIC8vIEl0IHNob3VsZCBiZSBoYW5kbGVkIGJ5IGhhbmRsZUdyb3VwZWRNdWx0aXBsZUNvbmZpcm1cbiAgICAgICAgaWYgKGN1cnJEaWFnbm9zaXNRdWVzdGlvbnMudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnKSB7XG4gICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiUGxlYXNlIHVzZSB0aGUgJ0NvbmZpcm0gU2VsZWN0aW9ucycgYnV0dG9uIGFmdGVyIGNob29zaW5nIGFsbCBhcHBsaWNhYmxlIG9wdGlvbnMuXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRm9yIEluZmVybWVkaWNhIGNob2ljZSBidXR0b25zIChzaW5nbGUvZ3JvdXBlZF9zaW5nbGUpLCB0aGUgaW50ZXJhY3Rpb24gaXMgdGhlIGFuc3dlclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KCc6Jyk7XG5cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgY29uc3QgaXRlbUlkID0gcGFydHNbMF07XG4gICAgICAgICAgICBjb25zdCBjaG9pY2VJZCA9IHBhcnRzWzFdIGFzIFwicHJlc2VudFwiIHwgXCJhYnNlbnRcIiB8IFwidW5rbm93blwiO1xuXG4gICAgICAgICAgICAvLyBCYXNpYyB2YWxpZGF0aW9uIGZvciBjaG9pY2VJZFxuICAgICAgICAgICAgaWYgKCFbXCJwcmVzZW50XCIsIFwiYWJzZW50XCIsIFwidW5rbm93blwiXS5pbmNsdWRlcyhjaG9pY2VJZCkpIHtcbiAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiSW52YWxpZCBhbnN3ZXIuIFBsZWFzZSBzZWxlY3Qgb25lIG9mIHRoZSBwcm92aWRlZCBvcHRpb25zLlwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgZXZpZGVuY2UgYXJyYXkgd2l0aCB0aGUgbmV3IGFuc3dlciAocmVwbGFjZSBpZiBleGlzdHMsIGFkZCBpZiBuZXcpXG4gICAgICAgICAgICAvLyBXZSB1c2UgZnVuY3Rpb25hbCB1cGRhdGUgdG8gZW5zdXJlIHdlIGdldCB0aGUgbGF0ZXN0IHN0YXRlXG4gICAgICAgICAgICBzZXRFdmlkZW5jZSgocHJldkV2aWRlbmNlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZEV2aWRlbmNlID0gcHJldkV2aWRlbmNlLmZpbHRlcihpdGVtID0+IGl0ZW0uaWQgIT09IGl0ZW1JZCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RXZpZGVuY2UgPSBbLi4udXBkYXRlZEV2aWRlbmNlLCB7IGlkOiBpdGVtSWQsIGNob2ljZV9pZDogY2hvaWNlSWQgfV07XG5cbiAgICAgICAgICAgICAgICBzZXRJc1R5cGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyDinKggTU9ESUZJRUQ6IFBhc3MgbmV3RXZpZGVuY2UgZGlyZWN0bHkgdG8gZ2V0RGlhZ25vc2lzIHdpdGhpbiB0aGUgc2V0VGltZW91dCDinKhcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiREVCVUc6IHVzZXJBZ2UgYmVmb3JlIGdldERpYWdub3NpcyAoZm9sbG93LXVwKTpcIiwgdXNlckFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkRFQlVHOiB1c2VyU2V4IGJlZm9yZSBnZXREaWFnbm9zaXMgKGZvbGxvdy11cCk6XCIsIHVzZXJTZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJERUJVRzogZXZpZGVuY2UubGVuZ3RoIGJlZm9yZSBnZXREaWFnbm9zaXMgKGZvbGxvdy11cCk6XCIsIG5ld0V2aWRlbmNlLmxlbmd0aCk7IC8vIExvZyB0aGUgYWN0dWFsIGFycmF5IGxlbmd0aCBiZWluZyBwYXNzZWRcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dERpYWdub3Npc1Jlc3VsdCA9IGF3YWl0IGdldERpYWdub3NpcyhuZXdFdmlkZW5jZSk7IC8vIFBhc3MgbmV3RXZpZGVuY2UgaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFuZXh0RGlhZ25vc2lzUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gZnVydGhlciBkaWFnbm9zaXMgZGF0YSByZWNlaXZlZCBmcm9tIHRoZSBBUEkuIFRoZSBzZXJ2ZXIgbWlnaHQgYmUgYnVzeSBvciBleHBlcmllbmNlZCBhbiBlcnJvci5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCA9PT0gZmFsc2UgJiYgIW5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEaWFnbm9zaXMgZmxvdyBlbmNvdW50ZXJlZCBhbiB1bmV4cGVjdGVkIHN0YXRlOiBFeHBlY3RlZCBhIHF1ZXN0aW9uIGJ1dCBub25lIHdhcyBwcm92aWRlZC5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV4dCBkaWFnbm9zaXMgcmVzdWx0OlwiLCBuZXh0RGlhZ25vc2lzUmVzdWx0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RGlhZ25vc2lzUmVzdWx0KEpTT04uc3RyaW5naWZ5KG5leHREaWFnbm9zaXNSZXN1bHQsIG51bGwsIDIpKTsgLy8gU3RvcmUgcmF3IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMobmV4dERpYWdub3Npc1Jlc3VsdC5jb25kaXRpb25zIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzRGlhZ25vc2lzQ29tcGxldGUobmV4dERpYWdub3Npc1Jlc3VsdC5zaG91bGRfc3RvcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24gfHwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXh0RGlhZ25vc2lzUmVzdWx0LnNob3VsZF9zdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUZpbmFsRGlhZ25vc2lzKG5leHREaWFnbm9zaXNSZXN1bHQuY29uZGl0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKG5leHREaWFnbm9zaXNSZXN1bHQucXVlc3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFwiVGhlIGRpYWdub3NpcyBwcm9jZXNzIG5lZWRzIG1vcmUgaW5mb3JtYXRpb24sIGJ1dCBJIGNvdWxkbid0IGdlbmVyYXRlIHRoZSBuZXh0IHF1ZXN0aW9uLiBQbGVhc2UgY29uc3VsdCBhIGhlYWx0aGNhcmUgcHJvZmVzc2lvbmFsLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkdXJpbmcgc3Vic2VxdWVudCBkaWFnbm9zaXM6XCIsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkQm90TWVzc2FnZShgQW4gZXJyb3Igb2NjdXJyZWQ6ICR7ZXJyb3JNZXNzYWdlfS4gUGxlYXNlIHRyeSBhZ2Fpbi5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld0V2aWRlbmNlOyAvLyBSZXR1cm4gdGhlIHVwZGF0ZWQgc3RhdGUgdG8gUmVhY3RcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBhIGZyZWUtdGV4dCBpbnB1dCB3aGlsZSBJbmZlcm1lZGljYSBxdWVzdGlvbnMgYXJlIGFjdGl2ZVxuICAgICAgICAgICAgYWRkQm90TWVzc2FnZShcIlBsZWFzZSB1c2UgdGhlIHByb3ZpZGVkIGJ1dHRvbnMgdG8gYW5zd2VyIHRoZSBoZWFsdGggcXVlc3Rpb25zLiBUeXBpbmcgZnJlZS10ZXh0IGlzIG5vdCBzdXBwb3J0ZWQgZHVyaW5nIHRoaXMgcGhhc2UuXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIEhhbmRsZXMgc2NlbmFyaW8gd2hlcmUgZGlhZ25vc2lzIGlzIGNvbXBsZXRlIGFuZCB1c2VyIHRyaWVzIHRvIHR5cGUgYWdhaW5cbiAgICBlbHNlIGlmIChpc0RpYWdub3Npc0NvbXBsZXRlKSB7XG4gICAgICAgIGFkZEJvdE1lc3NhZ2UoXCJUaGUgZGlhZ25vc2lzIGlzIGNvbXBsZXRlLiBQbGVhc2UgY2xpY2sgJ1N0YXJ0IGEgTmV3IERpYWdub3NpcycgaWYgeW91IHdpc2ggdG8gYmVnaW4gYSBuZXcgYXNzZXNzbWVudC4g8J+UhFwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIFRoaXMgc2hvdWxkIG5vdCBoYXBwZW4sIGJ1dCBpZiBpdCBkb2VzLCB3ZSBoYW5kbGUgaXQgZ3JhY2VmdWxseVxuICAgICAgICBhZGRCb3RNZXNzYWdlKFwiQW4gdW5leHBlY3RlZCBzdGF0ZSBvY2N1cnJlZC4gUGxlYXNlIHRyeSBhZ2FpbiBvciByZWZyZXNoIHRoZSBwYWdlLlwiKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSW5mZXJtZWRpY2EgQVBJIGNhbGxzXG4gIC8vIOKcqCBNT0RJRklFRDogZ2V0RGlhZ25vc2lzIG5vdyBhY2NlcHRzICdjdXJyZW50RXZpZGVuY2UnIGFzIGEgcGFyYW1ldGVyIOKcqFxuICBjb25zdCBnZXREaWFnbm9zaXMgPSBhc3luYyAoY3VycmVudEV2aWRlbmNlOiBFdmlkZW5jZUl0ZW1bXSkgPT4ge1xuICAgIC8vIFRoZXNlIGNoZWNrcyBzaG91bGQgaWRlYWxseSBwcmV2ZW50IHRoZSBjYWxsIGZyb20gZXZlbiBiZWluZyBtYWRlIGlmIGRhdGEgaXMgbWlzc2luZyxcbiAgICAvLyBidXQgdGhlIHRocm93aW5nIGVycm9yIHByb3ZpZGVzIGNsZWFyZXIgbWVzc2FnZXMuXG4gICAgaWYgKHVzZXJBZ2UgPT09IG51bGwgfHwgdXNlclNleCA9PT0gbnVsbCB8fCBjdXJyZW50RXZpZGVuY2UubGVuZ3RoID09PSAwKSB7IC8vIFVzZSBjdXJyZW50RXZpZGVuY2UgaGVyZVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRGlhZ25vc2lzIHByZXJlcXVpc2l0ZXMgKGFnZSwgc2V4LCBvciBzeW1wdG9tcykgYXJlIG1pc3NpbmcuIENhbm5vdCBwcm9jZWVkIHdpdGggZGlhZ25vc2lzLlwiKTtcbiAgICB9XG5cbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgYWdlOiB7XG4gICAgICAgIHZhbHVlOiB1c2VyQWdlLFxuICAgICAgICB1bml0OiBcInllYXJcIixcbiAgICAgIH0sXG4gICAgICBzZXg6IHVzZXJTZXgsXG4gICAgICBldmlkZW5jZTogY3VycmVudEV2aWRlbmNlLCAvLyDinKggVXNlIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGhlcmUg4pyoXG4gICAgICBpbnRlcnZpZXdfaWQ6IGludGVydmlld0lkIHx8IHV1aWR2NCgpLFxuICAgIH07XG5cbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coXCJERUJVRzogU2VuZGluZyBwYXlsb2FkIHRvIC9kaWFnbm9zaXM6XCIsIEpTT04uc3RyaW5naWZ5KHBheWxvYWQsIG51bGwsIDIpKTtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9pbmZlcm1lZGljYS9kaWFnbm9zaXNcIiwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gYXdhaXQgcGFyc2VKc29uUmVzcG9uc2UocmVzKTsgLy8gVXNlIGhlbHBlciBmb3IgcGFyc2luZyBhbmQgZXJyb3IgaGFuZGxpbmdcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkFQSSBjYWxsIHRvIC9kaWFnbm9zaXMgZmFpbGVkOlwiLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjsgLy8gUmUtdGhyb3cgZm9yIGhhbmRsZVNlbmRNZXNzYWdlIHRvIGNhdGNoXG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGdldFBhcnNlUmVzdWx0ID0gYXN5bmMgKHJlc3BvbnNlU3RyaW5nOiBzdHJpbmcpID0+IHtcbiAgICBpZiAodXNlckFnZSA9PT0gbnVsbCB8fCB1c2VyU2V4ID09PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYXJzaW5nIHByZXJlcXVpc2l0ZXMgKGFnZSBvciBzZXgpIGFyZSBtaXNzaW5nLiBDYW5ub3QgcGFyc2Ugc3ltcHRvbXMuXCIpO1xuICAgIH1cblxuICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICBhZ2U6IHsgdmFsdWU6IHVzZXJBZ2UsIHVuaXQ6IFwieWVhclwiIH0sXG4gICAgICBzZXg6IHVzZXJTZXgsXG4gICAgICB0ZXh0OiByZXNwb25zZVN0cmluZyxcbiAgICAgIGNvbnRleHQ6IFtdLFxuICAgICAgaW5jbHVkZV90b2tlbnM6IHRydWUsXG4gICAgICBjb3JyZWN0X3NwZWxsaW5nOiB0cnVlLFxuICAgICAgY29uY2VwdF90eXBlczogW1wic3ltcHRvbVwiXSxcbiAgICAgIGludGVydmlld0lkOiBpbnRlcnZpZXdJZCB8fCB1dWlkdjQoKSxcbiAgICB9O1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKFwiaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9pbmZlcm1lZGljYS9wYXJzZVwiLCB7XG4gICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocGF5bG9hZCksXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhd2FpdCBwYXJzZUpzb25SZXNwb25zZShyZXMpOyAvLyBVc2UgaGVscGVyIGZvciBwYXJzaW5nIGFuZCBlcnJvciBoYW5kbGluZ1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiQVBJIGNhbGwgdG8gL3BhcnNlIGZhaWxlZDpcIiwgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7IC8vIFJlLXRocm93IGZvciBoYW5kbGVTZW5kTWVzc2FnZSB0byBjYXRjaFxuICAgIH1cbiAgfTtcblxuICAvLyBEaXNwbGF5cyB0aGUgZmluYWwgZGlhZ25vc2lzIG1lc3NhZ2VcbiAgY29uc3QgZGlzcGxheUZpbmFsRGlhZ25vc2lzID0gKGNvbmRpdGlvbnM6IGFueVtdKSA9PiB7XG4gICAgICBsZXQgZmluYWxNZXNzYWdlID0gXCJCYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24gcHJvdmlkZWQsIGhlcmUgYXJlIHRoZSBwb3RlbnRpYWwgY29uZGl0aW9uczpcXG5cXG5cIjtcblxuICAgICAgaWYgKGNvbmRpdGlvbnMgJiYgY29uZGl0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgLy8gU29ydCBieSBwcm9iYWJpbGl0eSBhbmQgdGFrZSB0b3AgM1xuICAgICAgICAgIGNvbmRpdGlvbnMuc29ydCgoYSwgYikgPT4gYi5wcm9iYWJpbGl0eSAtIGEucHJvYmFiaWxpdHkpO1xuICAgICAgICAgIGNvbmRpdGlvbnMuc2xpY2UoMCwgMykuZm9yRWFjaCgoY29uZGl0aW9uOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgZmluYWxNZXNzYWdlICs9IGAqKiR7Y29uZGl0aW9uLm5hbWV9Kio6ICR7IChjb25kaXRpb24ucHJvYmFiaWxpdHkgKiAxMDApLnRvRml4ZWQoMil9JSBwcm9iYWJpbGl0eS5cXG5gO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZpbmFsTWVzc2FnZSArPSBcIlxcblxcbioqRGlzY2xhaW1lcioqOiBUaGlzIEFJIGFzc2lzdGFudCBwcm92aWRlcyBpbnNpZ2h0cyBiYXNlZCBvbiB0aGUgaW5mb3JtYXRpb24geW91J3ZlIHNoYXJlZCBhbmQgaXMgbm90IGEgc3Vic3RpdHV0ZSBmb3IgcHJvZmVzc2lvbmFsIG1lZGljYWwgYWR2aWNlLiBBbHdheXMgY29uc3VsdCBhIHF1YWxpZmllZCBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbCBmb3IgYW4gYWNjdXJhdGUgZGlhZ25vc2lzIGFuZCB0cmVhdG1lbnQgcGxhbi4gWW91ciBoZWFsdGggaXMgaW1wb3J0YW50ISDwn6m6XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZpbmFsTWVzc2FnZSA9IFwiQmFzZWQgb24gdGhlIGluZm9ybWF0aW9uIHByb3ZpZGVkLCBJIGNvdWxkbid0IGlkZW50aWZ5IGEgc3BlY2lmaWMgY29uZGl0aW9uIGF0IHRoaXMgdGltZS4gSXQncyBpbXBvcnRhbnQgdG8gcmVtZW1iZXIgdGhhdCBBSSBkaWFnbm9zaXMgaXMgbm90IGEgc3Vic3RpdHV0ZSBmb3IgcHJvZmVzc2lvbmFsIG1lZGljYWwgYWR2aWNlLiBQbGVhc2UgY29uc3VsdCBhIHF1YWxpZmllZCBoZWFsdGhjYXJlIHByb2Zlc3Npb25hbCBmb3IgYSBjb21wbGV0ZSBkaWFnbm9zaXMuIFlvdXIgd2VsbC1iZWluZyBpcyBvdXIgcHJpb3JpdHkuIPCfmY9cIjtcbiAgICAgIH1cbiAgICAgIGFkZEJvdE1lc3NhZ2UoZmluYWxNZXNzYWdlKTtcbiAgfTtcblxuICAvLyBEZWZpbmUgY3VycmVudFF1ZXN0aW9uIGhlcmUgdG8gbWFrZSBpdCBhY2Nlc3NpYmxlIGluIEpTWFxuICBjb25zdCBjdXJyZW50UXVlc3Rpb24gPSBxdWVzdGlvbnNbY3VycmVudFN0ZXBdO1xuXG4gIC8vIENhbGN1bGF0ZSBwcm9ncmVzcyBmb3IgdGhlIGluaXRpYWwgZml4ZWQgcXVlc3Rpb25zIG9ubHlcbiAgY29uc3QgcHJvZ3Jlc3MgPSAoKGN1cnJlbnRTdGVwICsgMSkgLyBxdWVzdGlvbnMubGVuZ3RoKSAqIDEwMFxuXG4gIC8vIFRleHQtdG8tU3BlZWNoXG4gIGNvbnN0IHNwZWFrTWVzc2FnZSA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoXCJzcGVlY2hTeW50aGVzaXNcIiBpbiB3aW5kb3cpIHtcbiAgICAgIGNvbnN0IHV0dGVyYW5jZSA9IG5ldyBTcGVlY2hTeW50aGVzaXNVdHRlcmFuY2UodGV4dClcbiAgICAgIHV0dGVyYW5jZS5vbnN0YXJ0ID0gKCkgPT4gc2V0SXNTcGVha2luZyh0cnVlKVxuICAgICAgdXR0ZXJhbmNlLm9uZW5kID0gKCkgPT4gc2V0SXNTcGVha2luZyhmYWxzZSlcbiAgICAgIHNwZWVjaFN5bnRoZXNpcy5zcGVhayh1dHRlcmFuY2UpXG4gICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwiU3BlZWNoIHN5bnRoZXNpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3Nlci5cIik7XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RvcFNwZWFraW5nID0gKCkgPT4ge1xuICAgIGlmIChcInNwZWVjaFN5bnRoZXNpc1wiIGluIHdpbmRvdykge1xuICAgICAgc3BlZWNoU3ludGhlc2lzLmNhbmNlbCgpXG4gICAgICBzZXRJc1NwZWFraW5nKGZhbHNlKVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JheS01MCBkYXJrOmJnLWdyYXktOTAwIGZsZXggZmxleC1jb2wgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgIDxIZWFkZXIgLz5cblxuICAgICAgPG1haW4gY2xhc3NOYW1lPVwiZmxleC0xIHB0LTE2IGZsZXhcIj5cbiAgICAgICAgey8qIENoYXQgQXJlYSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIHsvKiBFbmhhbmNlZCBQcm9ncmVzcyBCYXIgKi99XG4gICAgICAgICAge2N1cnJlbnRTdGVwIDwgcXVlc3Rpb25zLmxlbmd0aCAmJiAhaXNEaWFnbm9zaXNDb21wbGV0ZSA/ICggLy8gT25seSBzaG93IHByb2dyZXNzIGZvciBpbml0aWFsIHF1ZXN0aW9uc1xuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1iIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwLTYgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTR4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPkFJIEhlYWx0aCBBc3Nlc3NtZW50PC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlBvd2VyZWQgYnkgYWR2YW5jZWQgbWFjaGluZSBsZWFybmluZzwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ibHVlLTYwMCBkYXJrOnRleHQtYmx1ZS00MDBcIj57TWF0aC5yb3VuZChwcm9ncmVzcyl9JTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkNvbXBsZXRlPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW4gbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkFzc2Vzc21lbnQgUHJvZ3Jlc3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtYmx1ZS02MDAgZGFyazp0ZXh0LWJsdWUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgKyAxfSBvZiB7cXVlc3Rpb25zLmxlbmd0aH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctZ3JheS0yMDAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWZ1bGwgaC0zIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWdyZWVuLTUwMCBoLTMgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTUwMCByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgd2lkdGg6IGAke3Byb2dyZXNzfSVgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgYmctd2hpdGUvMjAgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIC8vIERpc3BsYXkgYSBzdGF0dXMgbWVzc2FnZSB3aGVuIGluIEluZmVybWVkaWNhIGRpYWdub3NpcyBvciBkaWFnbm9zaXMgY29tcGxldGVcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IHRyYW5zaXRpb24tY29sb3JzIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPkFJIEhlYWx0aCBBc3Nlc3NtZW50PC9oMT5cbiAgICAgICAgICAgICAgICB7aXNEaWFnbm9zaXNDb21wbGV0ZSA/IChcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5EaWFnbm9zaXMgQ29tcGxldGUhIFJldmlldyB0aGUgcmVzdWx0cyBiZWxvdy4g4pyFPC9wPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+Q29udGludWluZyBEaWFnbm9zaXMuLi4gUGxlYXNlIGFuc3dlciB0aGUgcXVlc3Rpb25zLiDwn5SNPC9wPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApfVxuXG4gICAgICAgICAgey8qIE1lc3NhZ2VzICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LXktYXV0byBwLTRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctNHhsIG14LWF1dG8gc3BhY2UteS02XCI+XG4gICAgICAgICAgICAgIHttZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+IChcbiAgICAgICAgICAgICAgICA8ZGl2IGtleT17bWVzc2FnZS5pZH0gY2xhc3NOYW1lPXtgZmxleCAke21lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIiA/IFwianVzdGlmeS1lbmRcIiA6IFwianVzdGlmeS1zdGFydFwifWB9PlxuICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyBtYXgtdy0yeGwgJHttZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCIgPyBcImZsZXgtcm93LXJldmVyc2Ugc3BhY2UteC1yZXZlcnNlXCIgOiBcIlwifWB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4LXNocmluay0wIHctMTAgaC0xMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy1ncmFkaWVudC10by1yIGZyb20tZ3JlZW4tNTAwIHRvLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICB9YH1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCIgPyAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8VXNlciBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8Qm90IGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC02IHB5LTQgcm91bmRlZC0yeGwgc2hhZG93LWxnIGJvcmRlciB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6c2hhZG93LXhsICR7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLnNlbmRlciA9PT0gXCJ1c2VyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBcImJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ibHVlLTYwMCB0ZXh0LXdoaXRlIGJvcmRlci1ibHVlLTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogQ29uZGl0aW9uYWwgcmVuZGVyaW5nIGJhc2VkIG9uIG1lc3NhZ2UuY29udGVudCB0eXBlICovfVxuICAgICAgICAgICAgICAgICAgICAgIHt0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIHBsYWluIHRleHQgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBsZWFkaW5nLXJlbGF4ZWRcIj57bWVzc2FnZS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVuZGVyIHN0cnVjdHVyZWQgSW5mZXJtZWRpY2EgcXVlc3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBNYWluIHF1ZXN0aW9uIHRleHQgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1zZW1pYm9sZCBsZWFkaW5nLXJlbGF4ZWQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnQudGV4dH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgaXRlbXMgYW5kIHRoZWlyIGNob2ljZXMgaWYgYXZhaWxhYmxlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5jb250ZW50Lml0ZW1zICYmIG1lc3NhZ2UuY29udGVudC5pdGVtcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMyBtdC0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWVzc2FnZS5jb250ZW50Lml0ZW1zLm1hcCgoaXRlbTogSW5mZXJtZWRpY2FRdWVzdGlvbkl0ZW0pID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e2l0ZW0uaWR9IGNsYXNzTmFtZT1cImJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwdC0zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEl0ZW0gbmFtZSAoZS5nLiwgXCJWZXJ5IHNlbnNpdGl2ZSB0byBsaWdodFwiKSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDaG9pY2VzIGZvciBlYWNoIGl0ZW0gKFllcywgTm8sIERvbid0IGtub3cgYnV0dG9ucykgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2l0ZW0uY2hvaWNlcy5tYXAoKGNob2ljZTogSW5mZXJtZWRpY2FDaG9pY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNTZWxlY3RlZCA9IG1lc3NhZ2UuY29udGVudC50eXBlID09PSAnZ3JvdXBlZF9tdWx0aXBsZScgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBHcm91cGVkU2VsZWN0aW9uc1tpdGVtLmlkXSA9PT0gY2hvaWNlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjaG9pY2UuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmNvbnRlbnQudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGdyb3VwZWRfbXVsdGlwbGUsIHVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRlbXBHcm91cGVkU2VsZWN0aW9ucygocHJldikgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2l0ZW0uaWRdOiBjaG9pY2UuaWQsIC8vIFNldCBvciB1cGRhdGUgc2VsZWN0aW9uIGZvciB0aGlzIGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvciBzaW5nbGUvZ3JvdXBlZF9zaW5nbGUsIGltbWVkaWF0ZWx5IHNlbmQgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZVNlbmRNZXNzYWdlKGAke2l0ZW0uaWR9OiR7Y2hvaWNlLmlkfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2BweC00IHB5LTIgcm91bmRlZC1mdWxsIHRleHQteHMgZm9udC1tZWRpdW0gdHJhbnNpdGlvbi1jb2xvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtpc1NlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWJsdWUtNzAwJyAvLyBTZWxlY3RlZCBzdHlsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1ibHVlLTUwMCBob3Zlcjp0ZXh0LXdoaXRlIGRhcms6aG92ZXI6YmctYmx1ZS02MDAnIC8vIERlZmF1bHQgc3R5bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y2hvaWNlLmxhYmVsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyog4pyoIE5FVzogQ29uZmlybSBidXR0b24gZm9yIGdyb3VwZWRfbXVsdGlwbGUgcXVlc3Rpb25zIOKcqCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLmNvbnRlbnQudHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IGJvcmRlci10IGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwdC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR3JvdXBlZE11bHRpcGxlQ29uZmlybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2FibGVkPXtPYmplY3Qua2V5cyh0ZW1wR3JvdXBlZFNlbGVjdGlvbnMpLmxlbmd0aCA9PT0gMH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC02IHB5LTMgYmctZ3JhZGllbnQtdG8tciBmcm9tLWJsdWUtNTAwIHRvLWdyZWVuLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQteGwgZm9udC1zZW1pYm9sZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3ZlcjpzaGFkb3ctbWQgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMjAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb25maXJtIFNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIG10LTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgdGV4dC14cyAke21lc3NhZ2Uuc2VuZGVyID09PSBcInVzZXJcIiA/IFwidGV4dC1ibHVlLTEwMFwiIDogXCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwifWB9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnRpbWVzdGFtcC50b0xvY2FsZVRpbWVTdHJpbmcoW10sIHsgaG91cjogXCIyLWRpZ2l0XCIsIG1pbnV0ZTogXCIyLWRpZ2l0XCIgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZXNzYWdlLnNlbmRlciA9PT0gXCJib3RcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiAoaXNTcGVha2luZyA/IHN0b3BTcGVha2luZygpIDogc3BlYWtNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbWVzc2FnZS5jb250ZW50IDogbWVzc2FnZS5jb250ZW50LnRleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNDAwIGhvdmVyOnRleHQtYmx1ZS01MDAgZGFyazpob3Zlcjp0ZXh0LWJsdWUtNDAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtpc1NwZWFraW5nID8gPFZvbHVtZVggY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+IDogPFZvbHVtZTIgY2xhc3NOYW1lPVwiaC00IHctNFwiIC8+fVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICkpfVxuXG4gICAgICAgICAgICAgIHtpc1R5cGluZyAmJiAoXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktc3RhcnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgbWF4LXctMnhsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCB3LTEwIGgtMTAgcm91bmRlZC1mdWxsIGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ncmVlbi01MDAgdG8tYmx1ZS01MDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc2hhZG93LWxnXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPEJvdCBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtd2hpdGVcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweC02IHB5LTQgcm91bmRlZC0yeGwgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHNoYWRvdy1sZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtYm91bmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3sgYW5pbWF0aW9uRGVsYXk6IFwiMC4xc1wiIH19XG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMyBoLTMgYmctcHVycGxlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1ib3VuY2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17eyBhbmltYXRpb25EZWxheTogXCIwLjJzXCIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPGRpdiByZWY9e21lc3NhZ2VzRW5kUmVmfSAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRW5oYW5jZWQgSW5wdXQgQXJlYSAqL31cbiAgICAgICAgICB7LyogQ29uZGl0aW9uYWxseSByZW5kZXIgaW5wdXQgYmFzZWQgb24gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbnZlcnNhdGlvbiAqL31cbiAgICAgICAgICB7KCFjdXJyRGlhZ25vc2lzUXVlc3Rpb25zIHx8IGlzRGlhZ25vc2lzQ29tcGxldGUpID8gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgYm9yZGVyLXQgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwIHAtNiB0cmFuc2l0aW9uLWNvbG9yc1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy00eGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBSZW5kZXIgdGV4dCBpbnB1dCBmb3IgJ3N5bXB0b21zJyAoYW5kIHBvdGVudGlhbGx5IG90aGVyIHRleHQgdHlwZXMpIG9yICdhZ2UnICovfVxuICAgICAgICAgICAgICAgICAgICAgIHsoY3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIChjdXJyZW50UXVlc3Rpb24/LnR5cGUgPT09IFwidGV4dFwiIHx8IGN1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJhZ2VcIikpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTEgcmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT17Y3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiID8gXCJudW1iZXJcIiA6IFwidGV4dFwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW49e2N1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJhZ2VcIiA/IDAgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtjdXJyZW50SW5wdXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0Q3VycmVudElucHV0KGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlEb3duPXsoZSkgPT4gZS5rZXkgPT09IFwiRW50ZXJcIiAmJiBoYW5kbGVTZW5kTWVzc2FnZSgpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj17Y3VycmVudFF1ZXN0aW9uPy50eXBlID09PSBcImFnZVwiID8gXCJFbnRlciB5b3VyIGFnZSBpbiB5ZWFyc1wiIDogXCJUeXBlIHlvdXIgcmVzcG9uc2UuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTYgcHktNCBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtMnhsIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItdHJhbnNwYXJlbnQgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU2VuZE1lc3NhZ2UoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWN1cnJlbnRJbnB1dC50cmltKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtOCBweS00IGJnLWdyYWRpZW50LXRvLXIgZnJvbS1ibHVlLTUwMCB0by1ncmVlbi01MDAgdGV4dC13aGl0ZSByb3VuZGVkLTJ4bCBob3ZlcjpzaGFkb3ctbGcgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNjYWxlLTEwNSBkaXNhYmxlZDpob3ZlcjpzY2FsZS0xMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxTZW5kIGNsYXNzTmFtZT1cImgtNSB3LTVcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgICAgICAgICAgICB7LyogUmVuZGVyIHNlbGVjdCBidXR0b25zIGZvciAnc2V4X2lucHV0JyAqL31cbiAgICAgICAgICAgICAgICAgICAgICB7Y3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIGN1cnJlbnRRdWVzdGlvbj8udHlwZSA9PT0gXCJzZWxlY3RcIiAmJiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2N1cnJlbnRRdWVzdGlvbi5vcHRpb25zPy5tYXAoKG9wdGlvbiwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNlbmRNZXNzYWdlKG9wdGlvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtNiB0ZXh0LWxlZnQgYm9yZGVyLTIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtMnhsIGhvdmVyOmJvcmRlci1ibHVlLTUwMCBkYXJrOmhvdmVyOmJvcmRlci1ibHVlLTQwMCBob3ZlcjpiZy1ibHVlLTUwIGRhcms6aG92ZXI6YmctYmx1ZS05MDAvMjAgdHJhbnNpdGlvbi1hbGwgZHVyYXRpb24tMzAwIGhvdmVyOnNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMDUgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e29wdGlvbn08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgICAgICAgICAgey8qIFdoZW4gZGlhZ25vc2lzIGlzIGNvbXBsZXRlLCBvZmZlciB0byBzdGFydCBhIG5ldyBkaWFnbm9zaXMgKi99XG4gICAgICAgICAgICAgICAgICAgICAge2lzRGlhZ25vc2lzQ29tcGxldGUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG10LTZcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IGFsbCByZWxldmFudCBzdGF0ZXMgdG8gcmVzdGFydCB0aGUgcHJvY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VyQWdlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRVc2VyU2V4KG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRNZXNzYWdlcyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEN1cnJlbnRJbnB1dChcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VycmVudFN0ZXAoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldElzVHlwaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXNTcGVha2luZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpYWdub3Npc1Jlc3VsdChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXZpZGVuY2UoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJbnRlcnZpZXdJZChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc1F1ZXN0aW9ucyhudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0Q3VyckRpYWdub3Npc0NvbmRpdGlvbnMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc0RpYWdub3Npc0NvbXBsZXRlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zKHt9KTsgLy8gUmVzZXQgbmV3IHRlbXBvcmFyeSBzdGF0ZSBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlLWluaXRpYXRlIGluaXRpYWwgYm90IG1lc3NhZ2UgZm9yIGEgZnJlc2ggc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiSGVsbG8hIEknbSB5b3VyIEhlYWx0aEJ1ZGR5IEFJIGFzc2lzdGFudC4gSSdsbCBoZWxwIGFuYWx5emUgeW91ciBzeW1wdG9tcyBhbmQgcHJvdmlkZSBwZXJzb25hbGl6ZWQgaGVhbHRoIGluc2lnaHRzLiBMZXQncyBzdGFydCB3aXRoIGEgZmV3IHF1ZXN0aW9ucy5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRCb3RNZXNzYWdlKHF1ZXN0aW9uc1swXS5xdWVzdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTggcHktNCBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwMCB0by1waW5rLTUwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtMnhsIGhvdmVyOnNoYWRvdy1sZyB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgaG92ZXI6c2NhbGUtMTA1XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGFydCBhIE5ldyBEaWFnbm9zaXMg8J+UhFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgLy8gSWYgSW5mZXJtZWRpY2EgaXMgY3VycmVudGx5IGFza2luZyBxdWVzdGlvbnMgKGN1cnJEaWFnbm9zaXNRdWVzdGlvbnMgaXMgbm90IG51bGwvZmFsc2UgYW5kIG5vdCBjb21wbGV0ZSksXG4gICAgICAgICAgICAgIC8vIHdlIGRvbid0IHNob3cgYSBnZW5lcmljIGlucHV0IGJveC4gVGhlIHVzZXIgaW50ZXJhY3RzIHdpdGggdGhlIGJ1dHRvbnMgaW4gdGhlIGNoYXQgbWVzc2FnZS5cbiAgICAgICAgICAgICAgLy8gV2UgYWxzbyBjaGVjayBmb3IgZ3JvdXBlZF9tdWx0aXBsZSB0byBoaWRlIHRoZSBpbnB1dCBib3ggaWYgdGhhdCdzIGFjdGl2ZSxcbiAgICAgICAgICAgICAgLy8gYXMgdGhlIHVzZXIgd2lsbCB1c2UgXCJDb25maXJtIFNlbGVjdGlvbnNcIiBidXR0b24uXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCBib3JkZXItdCBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC02IHRleHQtY2VudGVyIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7Y3VyckRpYWdub3Npc1F1ZXN0aW9ucz8udHlwZSA9PT0gJ2dyb3VwZWRfbXVsdGlwbGUnID9cbiAgICAgICAgICAgICAgICAgICAgXCJTZWxlY3QgYWxsIGFwcGxpY2FibGUgb3B0aW9ucyBhYm92ZSwgdGhlbiBjbGljayAnQ29uZmlybSBTZWxlY3Rpb25zJy5cIiA6XG4gICAgICAgICAgICAgICAgICAgIFwiUGxlYXNlIHNlbGVjdCBhbiBvcHRpb24gZnJvbSB0aGUgcXVlc3Rpb24gYWJvdmUgdG8gY29udGludWUgdGhlIGRpYWdub3Npcy4g8J+RhlwiXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBFbmhhbmNlZCBUaXBzIFNpZGViYXIgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIGJvcmRlci1sIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBwLTYgaGlkZGVuIGxnOmJsb2NrIHRyYW5zaXRpb24tY29sb3JzXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzdGlja3kgdG9wLTI0IHNwYWNlLXktNlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgbWItNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtMiBiZy1ncmFkaWVudC10by1yIGZyb20teWVsbG93LTQwMCB0by1vcmFuZ2UtNTAwIHJvdW5kZWQteGxcIj5cbiAgICAgICAgICAgICAgICA8TGlnaHRidWxiIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC13aGl0ZVwiIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHRleHQtbGdcIj5IZWxwZnVsIFRpcHM8L2gzPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBEaXNwbGF5IHRpcHMgZm9yIGN1cnJlbnQgcXVlc3Rpb24gKi99XG4gICAgICAgICAgICB7Y3VycmVudFN0ZXAgPCBxdWVzdGlvbnMubGVuZ3RoICYmIHF1ZXN0aW9uc1tjdXJyZW50U3RlcF0/LnRpcHMgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICAgIHtxdWVzdGlvbnNbY3VycmVudFN0ZXBdLnRpcHMubWFwKCh0aXAsIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zIHAtNCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAgcm91bmRlZC14bCBib3JkZXIgYm9yZGVyLWJsdWUtMTAwIGRhcms6Ym9yZGVyLWJsdWUtODAwXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmVlbi01MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIGxlYWRpbmctcmVsYXhlZFwiPnt0aXB9PC9wPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIHshKGN1cnJlbnRTdGVwIDwgcXVlc3Rpb25zLmxlbmd0aCAmJiBxdWVzdGlvbnNbY3VycmVudFN0ZXBdPy50aXBzKSAmJiAoXG4gICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTMgcC00IGJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8yMCByb3VuZGVkLXhsIGJvcmRlciBib3JkZXItYmx1ZS0xMDAgZGFyazpib3JkZXItYmx1ZS04MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJoLTUgdy01IHRleHQtZ3JlZW4tNTAwIG10LTAuNSBmbGV4LXNocmluay0wXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgbGVhZGluZy1yZWxheGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQW5zd2VyIGFsbCBxdWVzdGlvbnMgYWNjdXJhdGVseSBmb3IgdGhlIGJlc3QgZGlhZ25vc2lzLlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtMyBwLTQgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHJvdW5kZWQteGwgYm9yZGVyIGJvcmRlci1ibHVlLTEwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cImgtNSB3LTUgdGV4dC1ncmVlbi01MDAgbXQtMC41IGZsZXgtc2hyaW5rLTBcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJZiB1bnN1cmUsIHNlbGVjdCBcIkRvbid0IGtub3dcIiBvciBcIlVua25vd25cIi5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBiZy1ncmFkaWVudC10by1yIGZyb20tYmx1ZS01MCB0by1ncmVlbi01MCBkYXJrOmZyb20tYmx1ZS05MDAvMjAgZGFyazp0by1ncmVlbi05MDAvMjAgcm91bmRlZC0yeGwgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtYmx1ZS05MDAgZGFyazp0ZXh0LWJsdWUtMTAwIG1iLTMgZmxleCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwiaC01IHctNSBtci0yIHRleHQtZ3JlZW4tNTAwXCIgLz5cbiAgICAgICAgICAgICAgICBQcml2YWN5ICYgU2VjdXJpdHlcbiAgICAgICAgICAgICAgPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMCBsZWFkaW5nLXJlbGF4ZWRcIj5cbiAgICAgICAgICAgICAgICBZb3VyIGhlYWx0aCBpbmZvcm1hdGlvbiBpcyBlbmNyeXB0ZWQgd2l0aCBtaWxpdGFyeS1ncmFkZSBzZWN1cml0eS4gV2UgbmV2ZXIgc2hhcmUgeW91ciBkYXRhIHdpdGggdGhpcmRcbiAgICAgICAgICAgICAgICBwYXJ0aWVzIGFuZCBjb21wbHkgd2l0aCBhbGwgSElQQUEgcmVndWxhdGlvbnMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNiBiZy1ncmFkaWVudC10by1yIGZyb20tcHVycGxlLTUwIHRvLXBpbmstNTAgZGFyazpmcm9tLXB1cnBsZS05MDAvMjAgZGFyazp0by1waW5rLTkwMC8yMCByb3VuZGVkLTJ4bCBib3JkZXIgYm9yZGVyLXB1cnBsZS0yMDAgZGFyazpib3JkZXItcHVycGxlLTgwMFwiPlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtcHVycGxlLTkwMCBkYXJrOnRleHQtcHVycGxlLTEwMCBtYi0zXCI+QUkgQWNjdXJhY3k8L2g0PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LXB1cnBsZS02MDAgZGFyazp0ZXh0LXB1cnBsZS00MDAgbWItMlwiPjk1JTwvZGl2PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtcHVycGxlLTgwMCBkYXJrOnRleHQtcHVycGxlLTIwMFwiPlxuICAgICAgICAgICAgICAgIE91ciBBSSBoYXMgYmVlbiB0cmFpbmVkIG9uIG1pbGxpb25zIG9mIG1lZGljYWwgY2FzZXMgYW5kIG1haW50YWlucyBhIGhpZ2ggYWNjdXJhY3kgcmF0ZSBpbiBzeW1wdG9tXG4gICAgICAgICAgICAgICAgYW5hbHlzaXMuXG4gICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbWFpbj5cblxuICAgICAgPEZvb3RlciAvPlxuICAgIDwvZGl2PlxuICApXG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlUm91dGVyIiwiSGVhZGVyIiwiRm9vdGVyIiwiU2VuZCIsIkJvdCIsIlVzZXIiLCJMaWdodGJ1bGIiLCJDaGVja0NpcmNsZSIsIlZvbHVtZTIiLCJWb2x1bWVYIiwidjQiLCJ1dWlkdjQiLCJwYXJzZUpzb25SZXNwb25zZSIsInJlc3BvbnNlIiwidGV4dCIsIm9rIiwiZXJyb3JEYXRhIiwiSlNPTiIsInBhcnNlIiwiRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsImpzb25FcnJvciIsImVycm9yIiwiY29uc29sZSIsIkNoYXRib3RQYWdlIiwiY3VycmVudFF1ZXN0aW9uIiwicXVlc3Rpb25zIiwicm91dGVyIiwidXNlckFnZSIsInNldFVzZXJBZ2UiLCJ1c2VyU2V4Iiwic2V0VXNlclNleCIsIm1lc3NhZ2VzIiwic2V0TWVzc2FnZXMiLCJjdXJyZW50SW5wdXQiLCJzZXRDdXJyZW50SW5wdXQiLCJjdXJyZW50U3RlcCIsInNldEN1cnJlbnRTdGVwIiwiaXNUeXBpbmciLCJzZXRJc1R5cGluZyIsImlzU3BlYWtpbmciLCJzZXRJc1NwZWFraW5nIiwiZGlhZ25vc2lzUmVzdWx0Iiwic2V0RGlhZ25vc2lzUmVzdWx0IiwiZXZpZGVuY2UiLCJzZXRFdmlkZW5jZSIsIm1lc3NhZ2VzRW5kUmVmIiwiaW50ZXJ2aWV3SWQiLCJzZXRJbnRlcnZpZXdJZCIsImN1cnJEaWFnbm9zaXNRdWVzdGlvbnMiLCJzZXRDdXJyRGlhZ25vc2lzUXVlc3Rpb25zIiwiY3VyckRpYWdub3Npc0NvbmRpdGlvbnMiLCJzZXRDdXJyRGlhZ25vc2lzQ29uZGl0aW9ucyIsImlzRGlhZ25vc2lzQ29tcGxldGUiLCJzZXRJc0RpYWdub3Npc0NvbXBsZXRlIiwidGVtcEdyb3VwZWRTZWxlY3Rpb25zIiwic2V0VGVtcEdyb3VwZWRTZWxlY3Rpb25zIiwiaWQiLCJxdWVzdGlvbiIsInR5cGUiLCJ0aXBzIiwib3B0aW9ucyIsImxlbmd0aCIsInNldFRpbWVvdXQiLCJhZGRCb3RNZXNzYWdlIiwic2Nyb2xsVG9Cb3R0b20iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImdlbmVyYXRlVW5pcXVlSWQiLCJEYXRlIiwibm93IiwiTWF0aCIsInJhbmRvbSIsImNvbnRlbnQiLCJwcmV2Iiwic2VuZGVyIiwidGltZXN0YW1wIiwiYWRkVXNlck1lc3NhZ2UiLCJoYW5kbGVHcm91cGVkTXVsdGlwbGVDb25maXJtIiwiT2JqZWN0Iiwia2V5cyIsIm5ld0V2aWRlbmNlSXRlbXMiLCJlbnRyaWVzIiwibWFwIiwiY2hvaWNlX2lkIiwicHJldkV2aWRlbmNlIiwiY3VycmVudFF1ZXN0aW9uSXRlbUlkcyIsIml0ZW1zIiwiaXRlbSIsImZpbHRlcmVkUHJldkV2aWRlbmNlIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJjb21iaW5lZEV2aWRlbmNlIiwibmV4dERpYWdub3Npc1Jlc3VsdCIsImdldERpYWdub3NpcyIsInNob3VsZF9zdG9wIiwibG9nIiwic3RyaW5naWZ5IiwiY29uZGl0aW9ucyIsImRpc3BsYXlGaW5hbERpYWdub3NpcyIsImVycm9yTWVzc2FnZSIsImhhbmRsZVNlbmRNZXNzYWdlIiwiaW5wdXQiLCJ2YWx1ZSIsInVuZGVmaW5lZCIsInRyaW0iLCJhZ2UiLCJwYXJzZUludCIsImlzTmFOIiwic2V4IiwidG9Mb3dlckNhc2UiLCJyZXN1bHQiLCJnZXRQYXJzZVJlc3VsdCIsIkFycmF5IiwiaXNBcnJheSIsIm1lbnRpb25zIiwiaW5pdGlhbEV2aWRlbmNlIiwibWVudGlvbiIsImRpYWdub3NpcyIsInBhcnRzIiwic3BsaXQiLCJpdGVtSWQiLCJjaG9pY2VJZCIsInVwZGF0ZWRFdmlkZW5jZSIsIm5ld0V2aWRlbmNlIiwiY3VycmVudEV2aWRlbmNlIiwicGF5bG9hZCIsInVuaXQiLCJpbnRlcnZpZXdfaWQiLCJyZXMiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwicmVzcG9uc2VTdHJpbmciLCJjb250ZXh0IiwiaW5jbHVkZV90b2tlbnMiLCJjb3JyZWN0X3NwZWxsaW5nIiwiY29uY2VwdF90eXBlcyIsImZpbmFsTWVzc2FnZSIsInNvcnQiLCJhIiwiYiIsInByb2JhYmlsaXR5Iiwic2xpY2UiLCJmb3JFYWNoIiwiY29uZGl0aW9uIiwibmFtZSIsInRvRml4ZWQiLCJwcm9ncmVzcyIsInNwZWFrTWVzc2FnZSIsIndpbmRvdyIsInV0dGVyYW5jZSIsIlNwZWVjaFN5bnRoZXNpc1V0dGVyYW5jZSIsIm9uc3RhcnQiLCJvbmVuZCIsInNwZWVjaFN5bnRoZXNpcyIsInNwZWFrIiwid2FybiIsInN0b3BTcGVha2luZyIsImNhbmNlbCIsImRpdiIsImNsYXNzTmFtZSIsIm1haW4iLCJoMSIsInAiLCJyb3VuZCIsInNwYW4iLCJzdHlsZSIsIndpZHRoIiwiY2hvaWNlcyIsImNob2ljZSIsImlzU2VsZWN0ZWQiLCJidXR0b24iLCJvbkNsaWNrIiwibGFiZWwiLCJkaXNhYmxlZCIsInRvTG9jYWxlVGltZVN0cmluZyIsImhvdXIiLCJtaW51dGUiLCJhbmltYXRpb25EZWxheSIsInJlZiIsIm1pbiIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsIm9uS2V5RG93biIsImtleSIsInBsYWNlaG9sZGVyIiwib3B0aW9uIiwiaW5kZXgiLCJoMyIsInRpcCIsImg0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/chatbot/page.tsx\n"));

/***/ })

});